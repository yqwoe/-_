<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/yqwoe.github.io/theme/img/favicon.ico" >
    <title>
        
            Yq Woe
        
    </title>

    <script src="/yqwoe.github.io/theme/js/jquery-3.2.1.min.js"></script>
    <script src="/yqwoe.github.io/theme/js/popper.min.js"></script>
    <script src="/yqwoe.github.io/theme/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/yqwoe.github.io/theme/css/bootstrap.css">
    <link rel="stylesheet" href="/yqwoe.github.io/theme/css/site.css">
    <link rel="stylesheet" href="/yqwoe.github.io/theme/css/syntax.css">
<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Yq Woe | 双城记</title>
<meta name="generator" content="Jekyll v3.8.2" />
<meta property="og:title" content="Yq Woe" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="双城记" />
<meta property="og:description" content="双城记" />
<link rel="canonical" href="http://localhost:4000/yqwoe.github.io/" />
<meta property="og:url" content="http://localhost:4000/yqwoe.github.io/" />
<meta property="og:site_name" content="Yq Woe" />
<script type="application/ld+json">
{"url":"http://localhost:4000/yqwoe.github.io/","description":"双城记","name":"Yq Woe","@type":"WebSite","headline":"Yq Woe","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<style>
    table{
    /* border-left:1px solid #000000;border-top:1px solid #000000; */
    /* width: 100%; */
    /* word-wrap:break-word; word-break:break-all; */
    border: 1px solid #dee2e6;
    width: 100%;
    max-width: 100%;
    margin-bottom: 15px;
    background-color: transparent;
    border-collapse: collapse;
    display: table;
    border-spacing: 2px;
    text-align:center;
  }
  table thead tbody{
  display: table-row-group;
    vertical-align: middle;
    border-color: inherit;
  }
  table tbody tr:nth-of-type(odd) {
    background-color: rgba(0,0,0,0.05);
}
</style>

<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top justify-content-between">
    <a class="navbar-brand font-weight-bold" href="/yqwoe.github.io/index.html">Yq Woe</a>
    <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarContent" >
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarContent">
        <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a href="http://localhost:4000/feed.xml" class="nav-link">RSS订阅</a>
                    </li>
        
            <li class="nav-item">
                <a href='/yqwoe.github.io/index.html'
                   class="nav-link">
                    主页
                </a>
            </li>
        
            <li class="nav-item">
                <a href='/yqwoe.github.io/about.html'
                   class="nav-link">
                    关于
                </a>
            </li>
        
            <li class="nav-item">
                <a href='/yqwoe.github.io/list/posts.html'
                   class="nav-link">
                    文章
                </a>
            </li>
        
        </ul>
    </div>
</nav>








<div class="container site-container" id="top">
    <div class="row">
        <div class="d-none d-lg-block col-lg-4 col-xl-3 side">
            
    <div class="card bg-light" style="position: fixed; width: 253px">
        <div class="card-body text-center">
            
            <p class="card-text d-none d-sm-block">
    <a href="/yqwoe.github.io/index.html">
        <img class="profile-image rounded-circle w-75"  src="/yqwoe.github.io/theme/img/photo.png" />
    </a>
</p>
<h4 class="card-title d-none d-sm-block">Yq Woe</h4>

<p class="card-text d-xs-flex d-sm-none">
    <a href="/yqwoe.github.io/index.html">
        <img class="profile-image rounded-circle mr-2" src="/yqwoe.github.io/theme/img/photo.png" style="width: 40% !important" />
    </a>
    <h4 class="card-title d-xs-flex d-sm-none">Yq Woe</h4>
</p>
            <p class="card-text">
    
    <a href="https://github.com/yqwoe" class="d-flex align-items-center mb-1">
        <span class="icon grey mr-3">
            <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg version="1.1" id="Github" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
<path d="M13.18,11.309c-0.718,0-1.3,0.807-1.3,1.799c0,0.994,0.582,1.801,1.3,1.801s1.3-0.807,1.3-1.801
	C14.479,12.116,13.898,11.309,13.18,11.309z M17.706,6.626c0.149-0.365,0.155-2.439-0.635-4.426c0,0-1.811,0.199-4.551,2.08
	c-0.575-0.16-1.548-0.238-2.519-0.238c-0.973,0-1.945,0.078-2.52,0.238C4.74,2.399,2.929,2.2,2.929,2.2
	C2.14,4.187,2.148,6.261,2.295,6.626C1.367,7.634,0.8,8.845,0.8,10.497c0,7.186,5.963,7.301,7.467,7.301
	c0.342,0,1.018,0.002,1.734,0.002c0.715,0,1.392-0.002,1.732-0.002c1.506,0,7.467-0.115,7.467-7.301
	C19.2,8.845,18.634,7.634,17.706,6.626z M10.028,16.915H9.972c-3.771,0-6.709-0.449-6.709-4.115c0-0.879,0.31-1.693,1.047-2.369
	c1.227-1.127,3.305-0.531,5.662-0.531c0.01,0,0.02,0,0.029,0c0.01,0,0.018,0,0.027,0c2.357,0,4.436-0.596,5.664,0.531
	c0.735,0.676,1.045,1.49,1.045,2.369C16.737,16.466,13.8,16.915,10.028,16.915z M6.821,11.309c-0.718,0-1.3,0.807-1.3,1.799
	c0,0.994,0.582,1.801,1.3,1.801c0.719,0,1.301-0.807,1.301-1.801C8.122,12.116,7.54,11.309,6.821,11.309z"/>
</svg>

        </span>
        Github
    </a>
    
    <a href="https://www.twitter.com/yqwoe" class="d-flex align-items-center mb-1">
        <span class="icon grey mr-3">
            <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg version="1.1" id="Twitter" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
<path d="M17.316,6.246c0.008,0.162,0.011,0.326,0.011,0.488c0,4.99-3.797,10.742-10.74,10.742c-2.133,0-4.116-0.625-5.787-1.697
	c0.296,0.035,0.596,0.053,0.9,0.053c1.77,0,3.397-0.604,4.688-1.615c-1.651-0.031-3.046-1.121-3.526-2.621
	c0.23,0.043,0.467,0.066,0.71,0.066c0.345,0,0.679-0.045,0.995-0.131c-1.727-0.348-3.028-1.873-3.028-3.703c0-0.016,0-0.031,0-0.047
	c0.509,0.283,1.092,0.453,1.71,0.473c-1.013-0.678-1.68-1.832-1.68-3.143c0-0.691,0.186-1.34,0.512-1.898
	C3.942,5.498,6.725,7,9.862,7.158C9.798,6.881,9.765,6.594,9.765,6.297c0-2.084,1.689-3.773,3.774-3.773
	c1.086,0,2.067,0.457,2.756,1.191c0.859-0.17,1.667-0.484,2.397-0.916c-0.282,0.881-0.881,1.621-1.66,2.088
	c0.764-0.092,1.49-0.293,2.168-0.594C18.694,5.051,18.054,5.715,17.316,6.246z"/>
</svg>

        </span>
        Twitter
    </a>
    
    <a href="http://map.baidu.com/?q=%E6%B2%B3%E5%8D%97%E9%83%91%E5%B7%9E%E7%AE%A1%E5%9F%8E%E5%9B%9E%E6%97%8F%E5%8C%BA" class="d-flex align-items-center mb-1">
        <span class="icon grey mr-3">
            <?xml version="1.0" encoding="iso-8859-1"?>
<!-- Generator: Adobe Illustrator 18.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg version="1.1" id="Location_pin" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
	 y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">
<path d="M10,2.009c-2.762,0-5,2.229-5,4.99c0,4.774,5,11,5,11s5-6.227,5-11C15,4.239,12.762,2.009,10,2.009z M10,9.76
	c-1.492,0-2.7-1.209-2.7-2.7s1.208-2.7,2.7-2.7c1.49,0,2.699,1.209,2.699,2.7S11.49,9.76,10,9.76z"/>
</svg>

        </span>
        河南,郑州
    </a>
    
    <a href="mailto:yqwoe@live.cn" class="d-flex align-items-center mb-1">
        <span class="icon grey mr-3">
            <?xml version="1.0" encoding="iso-8859-1"?>
<!-- Generator: Adobe Illustrator 18.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg version="1.1" id="Mail" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">
<path d="M1.574,5.286c0.488,0.262,7.248,3.894,7.5,4.029C9.326,9.45,9.652,9.514,9.98,9.514c0.328,0,0.654-0.064,0.906-0.199
	s7.012-3.767,7.5-4.029C18.875,5.023,19.337,4,18.44,4H1.521C0.624,4,1.086,5.023,1.574,5.286z M18.613,7.489
	c-0.555,0.289-7.387,3.849-7.727,4.027s-0.578,0.199-0.906,0.199s-0.566-0.021-0.906-0.199S1.941,7.777,1.386,7.488
	C0.996,7.284,1,7.523,1,7.707S1,15,1,15c0,0.42,0.566,1,1,1h16c0.434,0,1-0.58,1-1c0,0,0-7.108,0-7.292S19.004,7.285,18.613,7.489z"
	/>
</svg>

        </span>
        yqwoe@live.cn
    </a>
    
</p>

        </div>
    </div>













        </div>
        <div class="col-md-12 col-lg-8 col-xl-9 pb-4 content">
            <h1 class="border border-top-0 border-right-0 border-left-0 mb-4 pb-2">
    
        Yq Woe
    
</h1>

<p>一位丈夫、父亲、程序员。</p>

<p>一名新手自由职业者。</p>

<p>一个矛盾的、不完美主义者。</p>

<p><a href="/yqwoe.github.io/about.html">更多…</a></p>

<h3 id="时刻">时刻</h3>

<div class="card mb-3">
    <img src="/yqwoe.github.io/static/image/pics_cloud_z_f_1454180483.jpg" width="100%" />
    <div class="card-body bg-light">
        <div class="card-text">第一场电影 2015/05/30 星期六 下午20:00</div>
    </div>
</div>

<h3 id="最近更新">最近更新</h3>

<div class="card card-post w-100 border-top-0 border-left-0 border-right-0 rounded-0 mb-4">
    <div class="card-body px-0 pt-0">
        <h4 class="card-title mb-4">
            <a href="http://localhost:4000/yqwoe.github.io/2018/11/17/%E9%9B%86%E7%BE%A4-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1-%E5%88%86%E5%B8%83%E5%BC%8F.html">集群、负载均衡、分布式</a>
        </h4>
        <h6 class="card-subtitle mb-3 text-secondary">
            2018年11月17日
        </h6>
        <div class="card-text d-flex align-items-center mb-2">
            <span class="icon grey mr-2 mb-1">
                <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 18.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg version="1.1" id="Price_tag" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
<g>
	<path d="M19.388,0.405c-0.111-0.314-0.454-0.48-0.769-0.371c-0.315,0.109-0.481,0.455-0.372,0.77
		c0.929,2.67-0.915,4.664-2.321,5.732l-0.568-0.814c-0.191-0.273-0.618-0.5-0.95-0.504L11.22,5.232
		c-0.332-0.006-0.825,0.146-1.097,0.338l-9.394,6.587c-0.455,0.32-0.565,0.947-0.247,1.404l4.269,6.108
		c0.32,0.455,0.831,0.4,1.287,0.082l9.394-6.588c0.27-0.191,0.582-0.603,0.692-0.918l0.998-3.145
		c0.11-0.314,0.043-0.793-0.148-1.066l-0.346-0.496C18.516,6.091,20.476,3.534,19.388,0.405z M15.017,9.763
		c-0.727,0.51-1.731,0.332-2.24-0.396c-0.511-0.73-0.333-1.734,0.395-2.246C13.75,6.716,14.5,6.745,15.04,7.138
		c-0.272,0.164-0.459,0.26-0.494,0.275c-0.301,0.143-0.43,0.504-0.288,0.805c0.104,0.219,0.321,0.348,0.547,0.348
		c0.086,0,0.174-0.02,0.257-0.059c0.194-0.092,0.402-0.201,0.619-0.33C15.778,8.771,15.542,9.394,15.017,9.763z" />
</g>
</svg>

            </span>
            <div>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-集群">
                        集群
                    </span>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-负载均衡">
                        负载均衡
                    </span>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-分布式">
                        分布式
                    </span>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-nginx">
                        nginx
                    </span>
                
            </div>
        </div>
        <div class="card-text mb-0">
            <p>下面就我的理解简单通俗的介绍下三者的区别：</p>

<p>1.集群
  集群是个物理概念，是指同一个系统，部署在多台服务器上，将很多服务器集中起来一起进行同一种服务，在客户端看来就像是只有一个服务器。集群可以利用多个计算机进行并行计算从而获得很高的计算速度，也可以用多个计算机做备份，从而使得任何一个机器坏了整个系统还是能正常运行。</p>

<p>就比如新浪网，访问的人多了，他可以做一个集群，前面放一个响应服务器，后面几台服务器完成同一种业务。如果有业务访问的时候，响应服务器看哪台服务器的负载不是很重，就将给哪一台去完成。 一台服务器垮了，其它的服务器可以顶上来。</p>

<p>2.负载均衡
  至于集群服务器之间如何分工，需要引入负载均衡的概念了，负载均衡是指将请求分摊到多个操作单元也就是分开部署的服务器上，nginx是常用的反向代理服务器，可以用来做负载均衡。集群与负载均衡之间有紧密联系，可以结合理解。</p>

<p>3.分布式
  分布式侧重将一个系统拆分成多个业务单元，例如一个门户网站里面可能有登录、视频、图片等，每一个都可以拆分出来独立部署，而且每一个都可以弄成集群，视频服务集群，图片服务集群，主系统可以对这些子系统进行调用，子系统之间可以有调用关系也可以没有，看实际业务情况。</p>

<p>今天看到个通俗的例子，大家可以借鉴下：</p>

<p>小饭店原来只有一个厨师，切菜洗菜备料炒菜全干。后来客人多了，厨房一个厨师忙不过来，又请了个厨师，两个厨师都能炒一样的菜，这两个厨师的关系是集群。为了让厨师专心炒菜，把菜做到极致，又请了个配菜师负责切菜，备菜，备料，厨师和配菜师的关系是分布式，一个配菜师也忙不过来了，又请了个配菜师，两个配菜师关系是集群。</p>

<p>补充：最常见的三种集群类型：负载均衡集群、高可用性集群、高性能也就科学集群。
1）负载均衡集群（LB:load balancing）</p>

<p>负载均衡集群为企业需求提供了更实用的系统。如名称所暗示的，该系统使负载可以在计算机集群中尽可能平均地分摊处理。该负载可能是需要均衡的应用程序处理负载或网络流量负载。这样的系统非常适合于运行同一组应用程序的大量用户。每个节点都可以处理一部分负载，并且可以在节点之间动态分配负载，以实现平衡。对于网络流量也是如此。通常，网络服务器应用程序接受了太多入网流量，以致无法迅速处理，这就需要将流量发送给在其它节点上运行的网络服务器应用。还可以根据每个节点上不同的可用资源或网络的特殊环境来进行优化</p>

<p>2）高可用性集群（HA:High Availability）</p>

<p>高可用性集群的出现是为了使集群的整体服务尽可能可用，以便考虑计算硬件和软件的易错性。如果高可用性集群中的主节点发生了故障，那么这段时间内将由次节点代替它。次节点通常是主节点的镜像，所以当它代替主节点时，它可以完全接管其身份，并且因此使系统环境对于用户是一致的。</p>

<p>在集群的这三种基本类型之间，经常会发生混合与交杂。于是，可以发现高可用性集群也可以在其节点之间均衡用户负载，同时仍试图维持高可用性程度。同样，可以从要编入应用程序的集群中找到一个并行集群，它可以在节点之间执行负载均衡。尽管集群系统本身独立于它在使用的软件或硬件，但要有效运行系统时，硬件连接将起关键作用。</p>

<p>3）高性能集群（HP:High Performance）</p>

<p>通常，第一种涉及为集群开发并行编程应用程序，以解决复杂的科学问题。这是并行计算的基础，尽管它不使用专门的并行超级计算机，这种超级计算机内部由十至上万个独立处理器组成。但它却使用商业系统，如通过高速连接来链接的一组单处理器或双处理器 PC，并且在公共消息传递层上进行通信以运行并行应用程序。因此，您会常常听说又有一种便宜的 Linux 超级计算机问世了。但它实际是一个计算机集群，其处理能力与真的超级计算机相等，通常一套象样的集群配置开销要超过 $100,000。这对一般人来说似乎是太贵了，但与价值上百万美元的专用超级计算机相比还算是便宜的。</p>

<p>作者：普if加的帕 
来源：CSDN 
原文：https://blog.csdn.net/qq_34896887/article/details/78616209 
版权声明：本文为博主原创文章，转载请附上博文链接！</p>

<p>http://server.51cto.com/News-557053.htm</p>

<p>https://www.cnblogs.com/xzwblog/p/7255364.html</p>

        </div>
        <a href="http://localhost:4000/yqwoe.github.io/2018/11/17/%E9%9B%86%E7%BE%A4-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1-%E5%88%86%E5%B8%83%E5%BC%8F.html">更多...</a>
    </div>
</div>

<div class="card card-post w-100 border-top-0 border-left-0 border-right-0 rounded-0 mb-4">
    <div class="card-body px-0 pt-0">
        <h4 class="card-title mb-4">
            <a href="http://localhost:4000/yqwoe.github.io/2018/11/17/nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.html">nginx 负载均衡</a>
        </h4>
        <h6 class="card-subtitle mb-3 text-secondary">
            2018年11月17日
        </h6>
        <div class="card-text d-flex align-items-center mb-2">
            <span class="icon grey mr-2 mb-1">
                <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 18.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg version="1.1" id="Price_tag" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
<g>
	<path d="M19.388,0.405c-0.111-0.314-0.454-0.48-0.769-0.371c-0.315,0.109-0.481,0.455-0.372,0.77
		c0.929,2.67-0.915,4.664-2.321,5.732l-0.568-0.814c-0.191-0.273-0.618-0.5-0.95-0.504L11.22,5.232
		c-0.332-0.006-0.825,0.146-1.097,0.338l-9.394,6.587c-0.455,0.32-0.565,0.947-0.247,1.404l4.269,6.108
		c0.32,0.455,0.831,0.4,1.287,0.082l9.394-6.588c0.27-0.191,0.582-0.603,0.692-0.918l0.998-3.145
		c0.11-0.314,0.043-0.793-0.148-1.066l-0.346-0.496C18.516,6.091,20.476,3.534,19.388,0.405z M15.017,9.763
		c-0.727,0.51-1.731,0.332-2.24-0.396c-0.511-0.73-0.333-1.734,0.395-2.246C13.75,6.716,14.5,6.745,15.04,7.138
		c-0.272,0.164-0.459,0.26-0.494,0.275c-0.301,0.143-0.43,0.504-0.288,0.805c0.104,0.219,0.321,0.348,0.547,0.348
		c0.086,0,0.174-0.02,0.257-0.059c0.194-0.092,0.402-0.201,0.619-0.33C15.778,8.771,15.542,9.394,15.017,9.763z" />
</g>
</svg>

            </span>
            <div>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-nginx">
                        nginx
                    </span>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-epoll">
                        epoll
                    </span>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-poll">
                        poll
                    </span>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-linux">
                        linux
                    </span>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-unix-like-os">
                        unix like os
                    </span>
                
            </div>
        </div>
        <div class="card-text mb-0">
            <h1 id="nginx是什么">nginx是什么？</h1>

<blockquote>
  <p>Nginx：Nginx (“engine x”) ，Nginx (“engine x”) 是俄罗斯人Igor Sysoev(塞索耶夫)编写的一款高性能的 HTTP 和反向代理服务器。也是一个IMAP/POP3/SMTP代理服务器；也就是说，Nginx本身就可以托管网站，进行HTTP服务处理，也可以作为反向代理服务器使用。</p>
</blockquote>

<h1 id="nginx-特点">nginx 特点</h1>

<blockquote>
  <ul>
    <li>跨平台：Nginx 可以在大多数 Unix like OS编译运行，而且也有Windows的移植版本。</li>
    <li>配置异常简单：非常容易上手。配置风格跟程序开发一样，神一般的配置</li>
    <li>非阻塞、高并发连接：数据复制时，磁盘I/O的第一阶段是非阻塞的。官方测试能够支撑5万并发连接，在实际生产环境中跑到2～3万并发连接数.(这得益于Nginx使用了最新的epoll模型)</li>
    <li>事件驱动：通信机制采用epoll模型，支持更大的并发连接。</li>
  </ul>
</blockquote>

<h1 id="nginx-特性">nginx 特性</h1>

<p>master/worker结构：一个master进程，生成一个或多个worker进程</p>

<p>内存消耗小：处理大并发的请求内存消耗非常小。在3万并发连接下，开启的10个Nginx 进程才消耗150M内存（15M*10=150M） 成本低廉：Nginx为开源软件，可以免费使用。而购买F5 BIG-IP、NetScaler等硬件负载均衡交换机则需要十多万至几十万人民币</p>

<p>内置的健康检查功能：如果 Nginx Proxy 后端的某台 Web 服务器宕机了，不会影响前端访问。</p>

<p>节省带宽：支持 GZIP 压缩，可以添加浏览器本地缓存的 Header 头。</p>

<p>稳定性高：用于反向代理，宕机的概率微乎其微</p>

<p>1、nginx代理和后端web服务器间无需长连接；</p>

<p>2、接收用户请求是异步的，即先将用户请求全部接收下来，再一次性发送后后端web服务器，极大的减轻后端web服务器的压力</p>

<p>3、发送响应报文时，是边接收来自后端web服务器的数据，边发送给客户端的</p>

<p>4、网络依赖型低。NGINX对网络的依赖程度非常低，理论上讲，只要能够ping通就可以实施负载均衡，而且可以有效区分内网和外网流量</p>

<p>5、支持服务器检测。NGINX能够根据应用服务器处理页面返回的状态码、超时信息等检测服务器是否出现故障，并及时返回错误的请求重新提交到其它节点上</p>

<h1 id="nginx-配置">nginx 配置</h1>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">upstream</span> <span class="s">www.blog.com</span> <span class="p">{</span>        
    <span class="c1">#upstream的负载均衡，weight是权重，可以根据机器配置定义权重。weigth参数表示权值，权值越高被分配到的几率越大。        
</span>    <span class="kn">server</span> <span class="nf">192.168.80.121</span><span class="p">:</span><span class="mi">80</span> <span class="s">weight=3</span><span class="p">;</span>        
    <span class="kn">server</span> <span class="nf">192.168.80.122</span><span class="p">:</span><span class="mi">80</span> <span class="s">weight=2</span><span class="p">;</span>        
    <span class="kn">server</span> <span class="nf">192.168.80.123</span><span class="p">:</span><span class="mi">80</span> <span class="s">weight=3</span><span class="p">;</span>        
    <span class="p">}</span>  
    
</code></pre></div></div>


        </div>
        <a href="http://localhost:4000/yqwoe.github.io/2018/11/17/nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.html">更多...</a>
    </div>
</div>

<div class="card card-post w-100 border-top-0 border-left-0 border-right-0 rounded-0 mb-4">
    <div class="card-body px-0 pt-0">
        <h4 class="card-title mb-4">
            <a href="http://localhost:4000/yqwoe.github.io/2018/10/31/SpringBoot_Cas_SSO.html">Cas Server 本地部署</a>
        </h4>
        <h6 class="card-subtitle mb-3 text-secondary">
            2018年10月31日
        </h6>
        <div class="card-text d-flex align-items-center mb-2">
            <span class="icon grey mr-2 mb-1">
                <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 18.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg version="1.1" id="Price_tag" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
<g>
	<path d="M19.388,0.405c-0.111-0.314-0.454-0.48-0.769-0.371c-0.315,0.109-0.481,0.455-0.372,0.77
		c0.929,2.67-0.915,4.664-2.321,5.732l-0.568-0.814c-0.191-0.273-0.618-0.5-0.95-0.504L11.22,5.232
		c-0.332-0.006-0.825,0.146-1.097,0.338l-9.394,6.587c-0.455,0.32-0.565,0.947-0.247,1.404l4.269,6.108
		c0.32,0.455,0.831,0.4,1.287,0.082l9.394-6.588c0.27-0.191,0.582-0.603,0.692-0.918l0.998-3.145
		c0.11-0.314,0.043-0.793-0.148-1.066l-0.346-0.496C18.516,6.091,20.476,3.534,19.388,0.405z M15.017,9.763
		c-0.727,0.51-1.731,0.332-2.24-0.396c-0.511-0.73-0.333-1.734,0.395-2.246C13.75,6.716,14.5,6.745,15.04,7.138
		c-0.272,0.164-0.459,0.26-0.494,0.275c-0.301,0.143-0.43,0.504-0.288,0.805c0.104,0.219,0.321,0.348,0.547,0.348
		c0.086,0,0.174-0.02,0.257-0.059c0.194-0.092,0.402-0.201,0.619-0.33C15.778,8.771,15.542,9.394,15.017,9.763z" />
</g>
</svg>

            </span>
            <div>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-spring-boot">
                        spring boot
                    </span>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-cas-client">
                        cas client
                    </span>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-cas-server">
                        cas server
                    </span>
                
                    <span class="d-inline-block border rounded p-1 mr-1 mb-1 tag tag-sso">
                        sso
                    </span>
                
            </div>
        </div>
        <div class="card-text mb-0">
            <h1 id="cas">Cas</h1>

<blockquote>
  <p><strong><a href="https://github.com/apereo/cas">Cas</a></strong> 中心认证服务。Cas是一种面向Web的企业级、多语言单点登录解决方案，它是满足身份验证和授权管理的综合平台</p>
</blockquote>


        </div>
        <a href="http://localhost:4000/yqwoe.github.io/2018/10/31/SpringBoot_Cas_SSO.html">更多...</a>
    </div>
</div>



        </div>
        <div class="col-md-12 d-lg-none bottom">
            

<div class="card-deck">
    <div class="card bg-light col-xs-6 mb-4">
        <div class="card-body text-center">
            <p class="card-text d-none d-sm-block">
    <a href="/yqwoe.github.io/index.html">
        <img class="profile-image rounded-circle w-75"  src="/yqwoe.github.io/theme/img/photo.png" />
    </a>
</p>
<h4 class="card-title d-none d-sm-block">Yq Woe</h4>

<p class="card-text d-xs-flex d-sm-none">
    <a href="/yqwoe.github.io/index.html">
        <img class="profile-image rounded-circle mr-2" src="/yqwoe.github.io/theme/img/photo.png" style="width: 40% !important" />
    </a>
    <h4 class="card-title d-xs-flex d-sm-none">Yq Woe</h4>
</p>
        </div>
    </div>
    <div class="card bg-light col-xs-6 mb-4">
        <div class="card-body">
            <p class="card-text">
    
    <a href="https://github.com/yqwoe" class="d-flex align-items-center mb-1">
        <span class="icon grey mr-3">
            <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg version="1.1" id="Github" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
<path d="M13.18,11.309c-0.718,0-1.3,0.807-1.3,1.799c0,0.994,0.582,1.801,1.3,1.801s1.3-0.807,1.3-1.801
	C14.479,12.116,13.898,11.309,13.18,11.309z M17.706,6.626c0.149-0.365,0.155-2.439-0.635-4.426c0,0-1.811,0.199-4.551,2.08
	c-0.575-0.16-1.548-0.238-2.519-0.238c-0.973,0-1.945,0.078-2.52,0.238C4.74,2.399,2.929,2.2,2.929,2.2
	C2.14,4.187,2.148,6.261,2.295,6.626C1.367,7.634,0.8,8.845,0.8,10.497c0,7.186,5.963,7.301,7.467,7.301
	c0.342,0,1.018,0.002,1.734,0.002c0.715,0,1.392-0.002,1.732-0.002c1.506,0,7.467-0.115,7.467-7.301
	C19.2,8.845,18.634,7.634,17.706,6.626z M10.028,16.915H9.972c-3.771,0-6.709-0.449-6.709-4.115c0-0.879,0.31-1.693,1.047-2.369
	c1.227-1.127,3.305-0.531,5.662-0.531c0.01,0,0.02,0,0.029,0c0.01,0,0.018,0,0.027,0c2.357,0,4.436-0.596,5.664,0.531
	c0.735,0.676,1.045,1.49,1.045,2.369C16.737,16.466,13.8,16.915,10.028,16.915z M6.821,11.309c-0.718,0-1.3,0.807-1.3,1.799
	c0,0.994,0.582,1.801,1.3,1.801c0.719,0,1.301-0.807,1.301-1.801C8.122,12.116,7.54,11.309,6.821,11.309z"/>
</svg>

        </span>
        Github
    </a>
    
    <a href="https://www.twitter.com/yqwoe" class="d-flex align-items-center mb-1">
        <span class="icon grey mr-3">
            <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg version="1.1" id="Twitter" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
<path d="M17.316,6.246c0.008,0.162,0.011,0.326,0.011,0.488c0,4.99-3.797,10.742-10.74,10.742c-2.133,0-4.116-0.625-5.787-1.697
	c0.296,0.035,0.596,0.053,0.9,0.053c1.77,0,3.397-0.604,4.688-1.615c-1.651-0.031-3.046-1.121-3.526-2.621
	c0.23,0.043,0.467,0.066,0.71,0.066c0.345,0,0.679-0.045,0.995-0.131c-1.727-0.348-3.028-1.873-3.028-3.703c0-0.016,0-0.031,0-0.047
	c0.509,0.283,1.092,0.453,1.71,0.473c-1.013-0.678-1.68-1.832-1.68-3.143c0-0.691,0.186-1.34,0.512-1.898
	C3.942,5.498,6.725,7,9.862,7.158C9.798,6.881,9.765,6.594,9.765,6.297c0-2.084,1.689-3.773,3.774-3.773
	c1.086,0,2.067,0.457,2.756,1.191c0.859-0.17,1.667-0.484,2.397-0.916c-0.282,0.881-0.881,1.621-1.66,2.088
	c0.764-0.092,1.49-0.293,2.168-0.594C18.694,5.051,18.054,5.715,17.316,6.246z"/>
</svg>

        </span>
        Twitter
    </a>
    
    <a href="http://map.baidu.com/?q=%E6%B2%B3%E5%8D%97%E9%83%91%E5%B7%9E%E7%AE%A1%E5%9F%8E%E5%9B%9E%E6%97%8F%E5%8C%BA" class="d-flex align-items-center mb-1">
        <span class="icon grey mr-3">
            <?xml version="1.0" encoding="iso-8859-1"?>
<!-- Generator: Adobe Illustrator 18.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg version="1.1" id="Location_pin" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
	 y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">
<path d="M10,2.009c-2.762,0-5,2.229-5,4.99c0,4.774,5,11,5,11s5-6.227,5-11C15,4.239,12.762,2.009,10,2.009z M10,9.76
	c-1.492,0-2.7-1.209-2.7-2.7s1.208-2.7,2.7-2.7c1.49,0,2.699,1.209,2.699,2.7S11.49,9.76,10,9.76z"/>
</svg>

        </span>
        河南,郑州
    </a>
    
    <a href="mailto:yqwoe@live.cn" class="d-flex align-items-center mb-1">
        <span class="icon grey mr-3">
            <?xml version="1.0" encoding="iso-8859-1"?>
<!-- Generator: Adobe Illustrator 18.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->

<svg version="1.1" id="Mail" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">
<path d="M1.574,5.286c0.488,0.262,7.248,3.894,7.5,4.029C9.326,9.45,9.652,9.514,9.98,9.514c0.328,0,0.654-0.064,0.906-0.199
	s7.012-3.767,7.5-4.029C18.875,5.023,19.337,4,18.44,4H1.521C0.624,4,1.086,5.023,1.574,5.286z M18.613,7.489
	c-0.555,0.289-7.387,3.849-7.727,4.027s-0.578,0.199-0.906,0.199s-0.566-0.021-0.906-0.199S1.941,7.777,1.386,7.488
	C0.996,7.284,1,7.523,1,7.707S1,15,1,15c0,0.42,0.566,1,1,1h16c0.434,0,1-0.58,1-1c0,0,0-7.108,0-7.292S19.004,7.285,18.613,7.489z"
	/>
</svg>

        </span>
        yqwoe@live.cn
    </a>
    
</p>

        </div>
    </div>
</div>



        </div>
    </div>
</div>

<script type="text/javascript">
/*!
 * IE10 viewport hack for Surface/desktop Windows 8 bug
 * Copyright 2014-2017 The Bootstrap Authors
 * Copyright 2014-2017 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

// See the Getting Started docs for more information:
// https://getbootstrap.com/getting-started/#support-ie10-width

(function () {
    'use strict'

    if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
        var msViewportStyle = document.createElement('style')
        msViewportStyle.appendChild(
            document.createTextNode(
                '@-ms-viewport{width:auto!important}'
            )
        )
        document.head.appendChild(msViewportStyle)
    }
}())
</script>

</body>
<style>
    blockquote{
        display:block;
        background: #fff;
        padding: 15px 20px 15px 45px;
        margin: 0 0 20px;
        position: relative;

        /*字体*/
        font-family: Georgia, serif;
        font-size: 16px;
        line-height: 1.2;
        color: #666;
        text-align: justify;

        /*边框 - (选项)*/
        /*border-left: 15px solid #c76c0c;*/
        /*border-right: 2px solid #c76c0c;*/

        /*盒子阴影 - (选项)*/
        -moz-box-shadow: 2px 2px 15px #ccc;
        -webkit-box-shadow: 2px 2px 15px #ccc;
        box-shadow: 2px 2px 15px #ccc;
    }
    blockquote::before{
        content: "\201C"; /*左双引号的Unicode编码*/

        /*字体*/
        font-family: Georgia, serif;
        font-size: 40px;
        font-weight: bold;
        color: #999;

        /*位置*/
        position: absolute;
        left: 10px;
        top:5px;
    }
    blockquote::after{
        content: ""; /*如果要显示右双引号，则写 content: "\201D"; */
    }
    img{
        width: 100%;
    }
</style>

</html>
