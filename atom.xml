<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>rm-rf.one</title>
  
  <subtitle>To destroy be to create!</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://rm-rf.one/"/>
  <updated>2020-03-31T02:36:12.209Z</updated>
  <id>https://rm-rf.one/</id>
  
  <author>
    <name>Yq Woe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>《程序员数学-1》-笔记2</title>
    <link href="https://rm-rf.one/2020/03/31/%E3%80%8A%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6-1%E3%80%8B-%E7%AC%94%E8%AE%B02/"/>
    <id>https://rm-rf.one/2020/03/31/%E3%80%8A%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6-1%E3%80%8B-%E7%AC%94%E8%AE%B02/</id>
    <published>2020-03-31T02:31:58.000Z</published>
    <updated>2020-03-31T02:36:12.209Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script>]]></content>
    
    <summary type="html">
    
      程序员数学学习笔记2
    
    </summary>
    
    
    
      <category term="逻辑" scheme="https://rm-rf.one/tags/%E9%80%BB%E8%BE%91/"/>
    
      <category term="真与假" scheme="https://rm-rf.one/tags/%E7%9C%9F%E4%B8%8E%E5%81%87/"/>
    
      <category term="二元世界" scheme="https://rm-rf.one/tags/%E4%BA%8C%E5%85%83%E4%B8%96%E7%95%8C/"/>
    
  </entry>
  
  <entry>
    <title>《程序员数学 1》 - 笔记1</title>
    <link href="https://rm-rf.one/2020/03/30/%E3%80%8A%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6-1%E3%80%8B-%E7%AC%94%E8%AE%B01/"/>
    <id>https://rm-rf.one/2020/03/30/%E3%80%8A%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6-1%E3%80%8B-%E7%AC%94%E8%AE%B01/</id>
    <published>2020-03-30T03:20:15.000Z</published>
    <updated>2020-03-31T02:36:16.683Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="第一章-0-的故事–无即是有"><a href="#第一章-0-的故事–无即是有" class="headerlink" title="第一章 0 的故事–无即是有"></a>第一章 0 的故事–无即是有</h1><h2 id="10-进制计数法"><a href="#10-进制计数法" class="headerlink" title="10 进制计数法"></a>10 进制计数法</h2><ul><li><p>什么是 10 进制计数法</p><ul><li>数字有 10 种，0、1、2、3、4、5、6、7、8、9.</li><li>数位:从右往左数表示 个、十、百、千、万…位。</li></ul></li><li><p>分解</p><ul><li>2503 = (2 x 10 ** 3 )+ (5 x 10 ** 2) + (0 x 10 ** 1) + (3 x 10 ** 0)</li></ul></li></ul><h2 id="2-进制计数法"><a href="#2-进制计数法" class="headerlink" title="2 进制计数法"></a>2 进制计数法</h2><ul><li>什么是 2 进制计数法<ul><li>数字有 2 种，0、1.</li><li>从右往左分别表示 1 位、2 位、4 位、8 位</li></ul></li><li>分解<ul><li>1100 = (1 x 2 ** 3) + (1 x 2 ** 2) + (0 x 2 ** 1) + (0 x 2 ** 0)</li></ul></li><li>基数转换<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">* 逆向排序 1100</span><br><span class="line">*&#x2F;</span><br><span class="line">12 &#x2F; 2 &#x3D; 6  余数 0</span><br><span class="line">6  &#x2F; 2 &#x3D; 3  余数 0</span><br><span class="line">3  &#x2F; 2 &#x3D; 1  余数 1</span><br><span class="line">1  &#x2F; 2 &#x3D; 0  余数 1</span><br><span class="line">&#x2F;**</span><br><span class="line">* 1000 转换 二进制 逆向 1111101000</span><br><span class="line">*&#x2F;</span><br><span class="line">1000 &#x2F; 2 &#x3D; 500 余数 0</span><br><span class="line">500  &#x2F; 2 &#x3D; 250 余数 0</span><br><span class="line">250  &#x2F; 2 &#x3D; 125 余数 0</span><br><span class="line">125  &#x2F; 2 &#x3D; 62  余数 1</span><br><span class="line">62   &#x2F; 2 &#x3D; 31  余数 0</span><br><span class="line">31   &#x2F; 2 &#x3D; 15  余数 1</span><br><span class="line">15   &#x2F; 2 &#x3D; 7   余数 1</span><br><span class="line">7    &#x2F; 2 &#x3D; 3   余数 1</span><br><span class="line">3    &#x2F; 2 &#x3D; 1   余数 1</span><br><span class="line">1    &#x2F; 2 &#x3D; 0   余数 1</span><br></pre></td></tr></table></figure></li><li>计算机中为什么采用 2 进制计数法<ul><li>在十进制计数法中，位数少，但是数字种类多。 对人类来说，这种比较易用。</li><li>在 2 进制计数法中，数字的种类少，但是位数多。对计算机来说，这种比较易用。</li></ul></li></ul><h2 id="按位计数法"><a href="#按位计数法" class="headerlink" title="按位计数法"></a>按位计数法</h2><ul><li><p>什么是按位计数法</p><ul><li><p>16、10、8、2、N 进制计数法都被称作为 <strong>按位计数法</strong></p></li><li><p>N 进制计数法:</p><ul><li>使用数字有 0、1、2、3…、N-1,共 N 种</li><li>从右往左分别为 Nº 的位、N¹ 的位…(基数是 N)</li><li>例如: 4 位数的 N 进制 a₃a₂a₁a₀ = a₃ x N³ + a₂ x N² + a₁ x N¹ + a₀ x Nº</li></ul></li></ul></li><li><p>不按位计数法的罗马数字</p><ul><li>没有数位，只表示数字本身</li><li>没有 0</li><li>使用 I(1)、V(5)、X(10)、L(50)、C(100)、D(500)、M(1000)来计数</li><li>并排的数字加起来，就是所表示的数</li><li>III(3)、VI(6)、VIII(8)、CXXIII(123)、LXXVIII(78)</li><li>IV(4) 减法规则表示 5 - 1 = 4</li></ul></li></ul><p>##指数法则</p><ul><li><p>10 的 0 次方是什么？</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">10³ &#x3D; 1000</span><br><span class="line">10² &#x3D; 100</span><br><span class="line">10¹ &#x3D; 10</span><br><span class="line">10º &#x3D; ？</span><br></pre></td></tr></table></figure></li><li><p>10 右上角的 数字（指数）减 1，数字就变为原本的 10 分之 1.</p></li><li><p>规则的扩展</p><ul><li>指数法则表达式: N <em>* a + N ** b = N *\</em> (a + b)</li></ul></li></ul><h2 id="0-所起的作用"><a href="#0-所起的作用" class="headerlink" title="0 所起的作用"></a>0 所起的作用</h2><ul><li><p>0 的作用: 占位</p><ul><li>2503 如果没有了 0 就变成了 253</li></ul></li></ul><h2 id="人类的极限和构造的发现"><a href="#人类的极限和构造的发现" class="headerlink" title="人类的极限和构造的发现"></a>人类的极限和构造的发现</h2><ul><li><p>重温历史进程</p><ul><li><strong>古埃及人</strong>使用 5 进制和 10 进制混合的计数法</li><li><strong>巴比伦人</strong>使用 1 和 10 两种菱形来表示 1 - 59，并通过几号的所在位置表示 60 ** N 的数位。现在的 1 小时 60 分钟、1 分钟 60 秒换算源于巴比伦的 60 进制计数法。</li><li><strong>古希腊人</strong>数字不仅是运算工具，还注入哲学真理。他们将图形、宇宙、音乐和数字相关联</li><li><strong>玛雅人</strong>使用 20 进制计数法，从 0 开始。</li><li><strong>罗马人</strong> 使用 5 进制和 10 进制混用。</li><li><strong>印度人</strong>引进巴比伦的按位计数法，采用的是 10 进制计数法，被称为<strong>阿拉伯数字</strong>而不是<strong>印度数字</strong></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      程序员数学学习笔记
    
    </summary>
    
    
    
      <category term="进制" scheme="https://rm-rf.one/tags/%E8%BF%9B%E5%88%B6/"/>
    
      <category term="计数法" scheme="https://rm-rf.one/tags/%E8%AE%A1%E6%95%B0%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>我们不像诗歌</title>
    <link href="https://rm-rf.one/2020/03/27/%E6%88%91%E4%BB%AC%E4%B8%8D%E5%83%8F%E8%AF%97%E6%AD%8C/"/>
    <id>https://rm-rf.one/2020/03/27/%E6%88%91%E4%BB%AC%E4%B8%8D%E5%83%8F%E8%AF%97%E6%AD%8C/</id>
    <published>2020-03-27T07:20:12.000Z</published>
    <updated>2020-03-27T07:22:39.630Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>我们不像诗歌</p><p>&emsp;–才华横溢,</p><p>我们拒绝押韵。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="生活" scheme="https://rm-rf.one/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="少年" scheme="https://rm-rf.one/tags/%E5%B0%91%E5%B9%B4/"/>
    
      <category term="年轻" scheme="https://rm-rf.one/tags/%E5%B9%B4%E8%BD%BB/"/>
    
      <category term="诗歌" scheme="https://rm-rf.one/tags/%E8%AF%97%E6%AD%8C/"/>
    
  </entry>
  
  <entry>
    <title>路</title>
    <link href="https://rm-rf.one/2020/03/21/%E8%B7%AF/"/>
    <id>https://rm-rf.one/2020/03/21/%E8%B7%AF/</id>
    <published>2020-03-21T14:57:20.000Z</published>
    <updated>2020-03-24T13:35:17.760Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script>        <div id="aplayer-lfVqpCPr" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">            <pre class="aplayer-lrc-content"></pre>        </div>        <script>          var ap = new APlayer({            element: document.getElementById("aplayer-lfVqpCPr"),            narrow: false,            autoplay: true,            showlrc: false,            music: {              title: "The Lion Sleeps Tonight",              author: "The Tokens",              url: "/music/The Lion Sleeps Tonight.mp3",              pic: "",              lrc: ""            }          });          window.aplayers || (window.aplayers = []);          window.aplayers.push(ap);        </script><blockquote><p>如果你能在下午四点来，那么在三点的时候，我就会开始感到幸福了。<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp; –《小王子》</p></blockquote><p>​&emsp;&emsp;大多时候无法静下心来做好一件事，比如这篇拖了很多天的日志。还有每天早晨起床锻炼身体、按时喝水…</p><a id="more"></a><p>​&emsp;&emsp;写这篇日志的想法来自于上周六，早饭后，和老婆商量着带孩子出去感受一下春暖花开，疫情持续了两个月的时间，也让小家伙待在家里两个月，不能见小朋友、不能去游乐场。以至于最近出门以后，小家伙变的很拘束、对外面的世界也很陌生。<br>​<br>&emsp;&emsp;小家伙已经两岁三个月了，会背很多首唐诗。如果你剩饭剩菜的话，小家伙会说:”谁知盘中餐，粒粒皆辛苦。”。有次晚上和老婆带着小家伙出门散步，刮起一阵风，树上的叶子沙沙响，”夜来风雨声，花落知多少。”</p><p>&emsp;&emsp;上个周六的上午，坐在马桶上，熟练的掏出手机，开始搜索适合踏青的地方，<del>如意湖</del>、<del>森林公园</del>、<del>郑州之林</del>、最后我选了特别冷门的<a href="https://map.baidu.com/poi/%E9%BE%99%E6%B3%89%E6%B9%BF%E5%9C%B0%E5%85%AC%E5%9B%AD/@1264607135.35301,408408639.5094941,21z,87t#panoid=c3596d067083c715f90cad67&panotype=inter&heading=355&pitch=0&l=21&tn=B_NORMAL_MAP&sc=0&newmap=1&shareurl=1&pid=1002890000150427124704361IN&iid=c3596d067083c715f90cad67&psp=%7B%22PanoIndoorPoiModule%22%3A%7B%22uid%22%3A%225b8c96862988758e2fb90853%22%7D%7D" target="_blank" rel="noopener">龙泉湿地公园</a> ，然而这并没有结束，跑了将近 30 公里，去到的是一个荒废了的公园。也或者是因为长时间封闭状态，看起来很旧，基本没什么人来。让我满怀期待的上了路，最终又满怀失望的回了家。</p><p>&emsp;&emsp;现在是周二的晚上08:20，小家伙下午没睡觉，早早的已经睡下了。我和老婆吃着火锅喝着啤酒，大聊人生。是这三年多以来，为数不多的能够静下心来一起吃饭聊天的。聊从前、现在和将来，我们还是会充满希望.</p><p>&emsp;&emsp;人生难免会走上曲曲折折的道路，但是不要担心，这些路的那头一定会有美丽的风景。</p><p>&emsp;&emsp;路，是人走出来的。</p>]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;aplayer-lfVqpCPr&quot; class=&quot;aplayer aplayer-tag-marker&quot; style=&quot;margin-bottom: 20px;&quot;&gt;
            &lt;pre class=&quot;aplayer-lrc-content&quot;&gt;&lt;/pre&gt;
        &lt;/div&gt;
        &lt;script&gt;
          var ap = new APlayer({
            element: document.getElementById(&quot;aplayer-lfVqpCPr&quot;),
            narrow: false,
            autoplay: true,
            showlrc: false,
            music: {
              title: &quot;The Lion Sleeps Tonight&quot;,
              author: &quot;The Tokens&quot;,
              url: &quot;/music/The Lion Sleeps Tonight.mp3&quot;,
              pic: &quot;&quot;,
              lrc: &quot;&quot;
            }
          });
          window.aplayers || (window.aplayers = []);
          window.aplayers.push(ap);
        &lt;/script&gt;

&lt;blockquote&gt;
&lt;p&gt;如果你能在下午四点来，那么在三点的时候，我就会开始感到幸福了。&lt;br&gt;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp; –《小王子》&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;​&amp;emsp;&amp;emsp;大多时候无法静下心来做好一件事，比如这篇拖了很多天的日志。还有每天早晨起床锻炼身体、按时喝水…&lt;/p&gt;
    
    </summary>
    
    
      <category term="生活" scheme="https://rm-rf.one/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="生活" scheme="https://rm-rf.one/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="书" scheme="https://rm-rf.one/tags/%E4%B9%A6/"/>
    
      <category term="路" scheme="https://rm-rf.one/tags/%E8%B7%AF/"/>
    
      <category term="有趣" scheme="https://rm-rf.one/tags/%E6%9C%89%E8%B6%A3/"/>
    
      <category term="人生" scheme="https://rm-rf.one/tags/%E4%BA%BA%E7%94%9F/"/>
    
      <category term="春天" scheme="https://rm-rf.one/tags/%E6%98%A5%E5%A4%A9/"/>
    
  </entry>
  
  <entry>
    <title>《小王子》阅读</title>
    <link href="https://rm-rf.one/2020/03/16/2020-03-16-%E3%80%8A%E5%B0%8F%E7%8E%8B%E5%AD%90%E3%80%8B%E9%98%85%E8%AF%BB/"/>
    <id>https://rm-rf.one/2020/03/16/2020-03-16-%E3%80%8A%E5%B0%8F%E7%8E%8B%E5%AD%90%E3%80%8B%E9%98%85%E8%AF%BB/</id>
    <published>2020-03-15T16:00:00.000Z</published>
    <updated>2020-03-24T13:33:14.472Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="/images/u=1374754966,3123717663&fm=15&gp=0.jpg" alt="u=1374754966,3123717663&amp;fm=15&amp;gp=0"></p><a id="more"></a><blockquote><p>​ 《小王子》这本书买了很久了，今天给儿子读了小王子去外星球旅行的奇遇。</p><p>​ 旅行的途中遇到点灯的人给我很大的启示，我们都在做着自己讨厌的事情，但在别人眼里我们却是幸福的人。</p><p>​ 小王子来到地球后，遇到狐狸，它求着小王子驯养它，但小王子心中有’玫瑰‘，而玫瑰是一个不懂得表达情谊的花，因此小王子才离开了自己的星球。狐狸希望他成为自己生命里重要的人，也或许这个人不一定是小王子，而是小王子恰好出现在了这里，小王子金黄的头发和金黄麦田，对于狐狸来说都是生命中可有可无的。</p><p>​ 小王子来到沙漠中的一个秘密花园，发现这里有成千的‘独一无二’的玫瑰，而自己的玫瑰告诉自己，我是世界上‘独一无二’的，也或者只是小王子那个星球独一无二的吧，小王子很伤心，玫瑰不是独一无二的，像极了孩子最珍贵的并不是独一无二的。</p></blockquote>]]></content>
    
    <summary type="html">
    
      旅行的途中遇到点灯的人给我很大的启示，我们都在做着自己讨厌的事情，但在别人眼里我们却是幸福的人。
    
    </summary>
    
    
      <category term="读书" scheme="https://rm-rf.one/categories/%E8%AF%BB%E4%B9%A6/"/>
    
    
      <category term="小王子" scheme="https://rm-rf.one/tags/%E5%B0%8F%E7%8E%8B%E5%AD%90/"/>
    
      <category term="儿子" scheme="https://rm-rf.one/tags/%E5%84%BF%E5%AD%90/"/>
    
      <category term="书" scheme="https://rm-rf.one/tags/%E4%B9%A6/"/>
    
      <category term="星球旅行" scheme="https://rm-rf.one/tags/%E6%98%9F%E7%90%83%E6%97%85%E8%A1%8C/"/>
    
      <category term="点灯的人" scheme="https://rm-rf.one/tags/%E7%82%B9%E7%81%AF%E7%9A%84%E4%BA%BA/"/>
    
      <category term="狐狸" scheme="https://rm-rf.one/tags/%E7%8B%90%E7%8B%B8/"/>
    
      <category term="独一无二" scheme="https://rm-rf.one/tags/%E7%8B%AC%E4%B8%80%E6%97%A0%E4%BA%8C/"/>
    
  </entry>
  
  <entry>
    <title>集群、负载均衡、分布式</title>
    <link href="https://rm-rf.one/2018/11/17/2018-11-17-%E9%9B%86%E7%BE%A4%E3%80%81%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    <id>https://rm-rf.one/2018/11/17/2018-11-17-%E9%9B%86%E7%BE%A4%E3%80%81%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F/</id>
    <published>2018-11-16T16:00:00.000Z</published>
    <updated>2020-03-20T12:36:46.593Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>下面就我的理解简单通俗的介绍下三者的区别：</p><a id="more"></a><p>1.集群<br>集群是个物理概念，是指同一个系统，部署在多台服务器上，将很多服务器集中起来一起进行同一种服务，在客户端看来就像是只有一个服务器。集群可以利用多个计算机进行并行计算从而获得很高的计算速度，也可以用多个计算机做备份，从而使得任何一个机器坏了整个系统还是能正常运行。</p><p>就比如新浪网，访问的人多了，他可以做一个集群，前面放一个响应服务器，后面几台服务器完成同一种业务。如果有业务访问的时候，响应服务器看哪台服务器的负载不是很重，就将给哪一台去完成。 一台服务器垮了，其它的服务器可以顶上来。</p><p>2.负载均衡<br>至于集群服务器之间如何分工，需要引入负载均衡的概念了，负载均衡是指将请求分摊到多个操作单元也就是分开部署的服务器上，nginx 是常用的反向代理服务器，可以用来做负载均衡。集群与负载均衡之间有紧密联系，可以结合理解。</p><p>3.分布式<br>分布式侧重将一个系统拆分成多个业务单元，例如一个门户网站里面可能有登录、视频、图片等，每一个都可以拆分出来独立部署，而且每一个都可以弄成集群，视频服务集群，图片服务集群，主系统可以对这些子系统进行调用，子系统之间可以有调用关系也可以没有，看实际业务情况。</p><p>今天看到个通俗的例子，大家可以借鉴下：</p><p>小饭店原来只有一个厨师，切菜洗菜备料炒菜全干。后来客人多了，厨房一个厨师忙不过来，又请了个厨师，两个厨师都能炒一样的菜，这两个厨师的关系是集群。为了让厨师专心炒菜，把菜做到极致，又请了个配菜师负责切菜，备菜，备料，厨师和配菜师的关系是分布式，一个配菜师也忙不过来了，又请了个配菜师，两个配菜师关系是集群。</p><p>补充：最常见的三种集群类型：负载均衡集群、高可用性集群、高性能也就科学集群。<br>1）负载均衡集群（LB:load balancing）</p><p>负载均衡集群为企业需求提供了更实用的系统。如名称所暗示的，该系统使负载可以在计算机集群中尽可能平均地分摊处理。该负载可能是需要均衡的应用程序处理负载或网络流量负载。这样的系统非常适合于运行同一组应用程序的大量用户。每个节点都可以处理一部分负载，并且可以在节点之间动态分配负载，以实现平衡。对于网络流量也是如此。通常，网络服务器应用程序接受了太多入网流量，以致无法迅速处理，这就需要将流量发送给在其它节点上运行的网络服务器应用。还可以根据每个节点上不同的可用资源或网络的特殊环境来进行优化</p><p>2）高可用性集群（HA:High Availability）</p><p>高可用性集群的出现是为了使集群的整体服务尽可能可用，以便考虑计算硬件和软件的易错性。如果高可用性集群中的主节点发生了故障，那么这段时间内将由次节点代替它。次节点通常是主节点的镜像，所以当它代替主节点时，它可以完全接管其身份，并且因此使系统环境对于用户是一致的。</p><p>在集群的这三种基本类型之间，经常会发生混合与交杂。于是，可以发现高可用性集群也可以在其节点之间均衡用户负载，同时仍试图维持高可用性程度。同样，可以从要编入应用程序的集群中找到一个并行集群，它可以在节点之间执行负载均衡。尽管集群系统本身独立于它在使用的软件或硬件，但要有效运行系统时，硬件连接将起关键作用。</p><p>3）高性能集群（HP:High Performance）</p><p>通常，第一种涉及为集群开发并行编程应用程序，以解决复杂的科学问题。这是并行计算的基础，尽管它不使用专门的并行超级计算机，这种超级计算机内部由十至上万个独立处理器组成。但它却使用商业系统，如通过高速连接来链接的一组单处理器或双处理器 PC，并且在公共消息传递层上进行通信以运行并行应用程序。因此，您会常常听说又有一种便宜的 Linux 超级计算机问世了。但它实际是一个计算机集群，其处理能力与真的超级计算机相等，通常一套象样的集群配置开销要超过 $100,000。这对一般人来说似乎是太贵了，但与价值上百万美元的专用超级计算机相比还算是便宜的。</p><p>作者：普 if 加的帕<br>来源：CSDN<br>原文：<a href="https://blog.csdn.net/qq_34896887/article/details/78616209" target="_blank" rel="noopener">https://blog.csdn.net/qq_34896887/article/details/78616209</a><br>版权声明：本文为博主原创文章，转载请附上博文链接！</p><p><a href="http://server.51cto.com/News-557053.htm" target="_blank" rel="noopener">http://server.51cto.com/News-557053.htm</a></p><p><a href="https://www.cnblogs.com/xzwblog/p/7255364.html" target="_blank" rel="noopener">https://www.cnblogs.com/xzwblog/p/7255364.html</a></p>]]></content>
    
    <summary type="html">
    
      集群、负载均衡、分布式 三者的区别
    
    </summary>
    
    
      <category term="服务器" scheme="https://rm-rf.one/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="nginx" scheme="https://rm-rf.one/tags/nginx/"/>
    
      <category term="集群" scheme="https://rm-rf.one/tags/%E9%9B%86%E7%BE%A4/"/>
    
      <category term="负载均衡" scheme="https://rm-rf.one/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/"/>
    
      <category term="分布式" scheme="https://rm-rf.one/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>nginx 负载均衡</title>
    <link href="https://rm-rf.one/2018/11/17/2018-11-17-nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/"/>
    <id>https://rm-rf.one/2018/11/17/2018-11-17-nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/</id>
    <published>2018-11-16T16:00:00.000Z</published>
    <updated>2020-03-20T12:53:46.884Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="nginx-是什么？"><a href="#nginx-是什么？" class="headerlink" title="nginx 是什么？"></a>nginx 是什么？</h1><blockquote><p>Nginx：Nginx (“engine x”) ，Nginx (“engine x”) 是俄罗斯人 Igor Sysoev(塞索耶夫)编写的一款高性能的 HTTP 和反向代理服务器。也是一个 IMAP/POP3/SMTP 代理服务器；也就是说，Nginx 本身就可以托管网站，进行 HTTP 服务处理，也可以作为反向代理服务器使用。</p></blockquote><a id="more"></a><h1 id="nginx-特点"><a href="#nginx-特点" class="headerlink" title="nginx 特点"></a>nginx 特点</h1><blockquote><ul><li>跨平台：Nginx 可以在大多数 Unix like OS 编译运行，而且也有 Windows 的移植版本。</li><li>配置异常简单：非常容易上手。配置风格跟程序开发一样，神一般的配置</li><li>非阻塞、高并发连接：数据复制时，磁盘 I/O 的第一阶段是非阻塞的。官方测试能够支撑 5 万并发连接，在实际生产环境中跑到 2 ～ 3 万并发连接数.(这得益于 Nginx 使用了最新的 epoll 模型)</li><li>事件驱动：通信机制采用 epoll 模型，支持更大的并发连接。</li></ul></blockquote><h1 id="nginx-特性"><a href="#nginx-特性" class="headerlink" title="nginx 特性"></a>nginx 特性</h1><p>master/worker 结构：一个 master 进程，生成一个或多个 worker 进程</p><p>内存消耗小：处理大并发的请求内存消耗非常小。在 3 万并发连接下，开启的 10 个 Nginx 进程才消耗 150M 内存（15M*10=150M） 成本低廉：Nginx 为开源软件，可以免费使用。而购买 F5 BIG-IP、NetScaler 等硬件负载均衡交换机则需要十多万至几十万人民币</p><p>内置的健康检查功能：如果 Nginx Proxy 后端的某台 Web 服务器宕机了，不会影响前端访问。</p><p>节省带宽：支持 GZIP 压缩，可以添加浏览器本地缓存的 Header 头。</p><p>稳定性高：用于反向代理，宕机的概率微乎其微</p><p>1、nginx 代理和后端 web 服务器间无需长连接；</p><p>2、接收用户请求是异步的，即先将用户请求全部接收下来，再一次性发送后后端 web 服务器，极大的减轻后端 web 服务器的压力</p><p>3、发送响应报文时，是边接收来自后端 web 服务器的数据，边发送给客户端的</p><p>4、网络依赖型低。NGINX 对网络的依赖程度非常低，理论上讲，只要能够 ping 通就可以实施负载均衡，而且可以有效区分内网和外网流量</p><p>5、支持服务器检测。NGINX 能够根据应用服务器处理页面返回的状态码、超时信息等检测服务器是否出现故障，并及时返回错误的请求重新提交到其它节点上</p><h1 id="nginx-配置"><a href="#nginx-配置" class="headerlink" title="nginx 配置"></a>nginx 配置</h1><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">upstream</span> www.blog.com &#123;</span><br><span class="line">    <span class="comment">#upstream的负载均衡，weight是权重，可以根据机器配置定义权重。weigth参数表示权值，权值越高被分配到的几率越大。</span></span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.80.121:80</span> weight=<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.80.122:80</span> weight=<span class="number">2</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.80.123:80</span> weight=<span class="number">3</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      nginx 负载均衡
    
    </summary>
    
    
      <category term="nginx" scheme="https://rm-rf.one/categories/nginx/"/>
    
    
      <category term="nginx" scheme="https://rm-rf.one/tags/nginx/"/>
    
      <category term="epoll" scheme="https://rm-rf.one/tags/epoll/"/>
    
      <category term="poll" scheme="https://rm-rf.one/tags/poll/"/>
    
      <category term="linux" scheme="https://rm-rf.one/tags/linux/"/>
    
      <category term="unix like os" scheme="https://rm-rf.one/tags/unix-like-os/"/>
    
  </entry>
  
  <entry>
    <title>Cas Server 本地部署</title>
    <link href="https://rm-rf.one/2018/10/31/2018-10-31-SpringBoot_Cas_SSO/"/>
    <id>https://rm-rf.one/2018/10/31/2018-10-31-SpringBoot_Cas_SSO/</id>
    <published>2018-10-30T16:00:00.000Z</published>
    <updated>2020-03-20T12:53:14.278Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Cas"><a href="#Cas" class="headerlink" title="Cas"></a>Cas</h1><blockquote><p><strong><a href="https://github.com/apereo/cas" target="_blank" rel="noopener">Cas</a></strong> 中心认证服务。Cas 是一种面向 Web 的企业级、多语言单点登录解决方案，它是满足身份验证和授权管理的综合平台</p></blockquote><a id="more"></a><blockquote><p>Cas 是一种开放优秀的身份验证协议。</p></blockquote><p><img src="https://user-images.githubusercontent.com/1205228/30969994-e2fe6bf0-a470-11e7-80f9-d54d1e4d348e.png" alt="1205228/30969994-e2fe6bf0-a470-11e7-80f9-d54d1e4d348e"></p><p>我在本地部署的是<strong><a href="https://github.com/apereo/cas-overlay-template" target="_blank" rel="noopener">cas-overlay-template</a></strong> 分支 5.2</p><h2 id="部署-Cas-Server"><a href="#部署-Cas-Server" class="headerlink" title="部署 Cas Server"></a>部署 Cas Server</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/apereo/cas<span class="literal">-overlay</span><span class="literal">-template</span>.git</span><br><span class="line">cd cas<span class="literal">-overlay</span><span class="literal">-template</span></span><br><span class="line">git checkout <span class="number">5.2</span></span><br><span class="line">mvn package //因为本地jdk1.<span class="number">8</span> <span class="number">5.2</span>版本支持</span><br><span class="line"></span><br><span class="line">mkdir <span class="literal">-p</span> src/main/resources</span><br><span class="line">mkdir <span class="literal">-p</span> src/main/resources/services</span><br><span class="line">cp /target/cas/WEB<span class="literal">-INF</span>/classes/application.prpperties src/main/resources/application.prpperties</span><br><span class="line">cp /target/cas/WEB<span class="literal">-INF</span>/classes/services/HTTPSandIMAPS<span class="literal">-10000001</span>.json src/main/resources/services/HTTPSandIMAPS<span class="literal">-10000001</span>.json</span><br></pre></td></tr></table></figure><h4 id="application-properties"><a href="#application-properties" class="headerlink" title="application.properties"></a>application.properties</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># CAS Server Context Configuration</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">server.context<span class="literal">-path</span>=/cas</span><br><span class="line">server.port=<span class="number">8443</span></span><br><span class="line"></span><br><span class="line">cas.tgc.secure=false</span><br><span class="line">cas.serviceRegistry.initFromJson=true</span><br><span class="line">server.ssl.enabled=false <span class="comment">#禁用https访问</span></span><br><span class="line"><span class="comment">#...省略</span></span><br><span class="line">cas.authn.accept.users=admin::admin <span class="comment">#静态访问用户名密码 admin/admin</span></span><br></pre></td></tr></table></figure><h4 id="services-HTTPSandIMAPS-10000001-json"><a href="#services-HTTPSandIMAPS-10000001-json" class="headerlink" title="services/HTTPSandIMAPS-10000001.json"></a>services/HTTPSandIMAPS-10000001.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@class"</span>: <span class="string">"org.apereo.cas.services.RegexRegisteredService"</span>,</span><br><span class="line">  <span class="attr">"serviceId"</span>: <span class="string">"^(https|imaps|http)://.*"</span>, <span class="comment">//增加http访问规则</span></span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"HTTPS and IMAPS"</span>,</span><br><span class="line">  <span class="attr">"id"</span>: <span class="number">10000001</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"This service definition authorizes all application urls that support HTTPS and IMAPS protocols."</span>,</span><br><span class="line">  <span class="attr">"evaluationOrder"</span>: <span class="number">10000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上操作按照顺序执行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;build.sh run</span><br></pre></td></tr></table></figure><p>打开浏览器访问 <a href="http://cas.simple.org:8443/cas" target="_blank">http://cas.simple.org:8443/cas</a></p><p>Cas Server 已经 setup 起来了。</p><p>明天继续更新 Cas Client 与 Spring boot 集成，并实现 Cas Server 的用户存储数据库。</p>]]></content>
    
    <summary type="html">
    
      Cas Server 本地部署
    
    </summary>
    
    
      <category term="Cas" scheme="https://rm-rf.one/categories/Cas/"/>
    
    
      <category term="spring boot" scheme="https://rm-rf.one/tags/spring-boot/"/>
    
      <category term="cas client" scheme="https://rm-rf.one/tags/cas-client/"/>
    
      <category term="cas server" scheme="https://rm-rf.one/tags/cas-server/"/>
    
      <category term="sso" scheme="https://rm-rf.one/tags/sso/"/>
    
  </entry>
  
  <entry>
    <title>mybatis动态查询实现</title>
    <link href="https://rm-rf.one/2018/10/30/2018-10-30-mybatis-dynamic%20condition%20/"/>
    <id>https://rm-rf.one/2018/10/30/2018-10-30-mybatis-dynamic%20condition%20/</id>
    <published>2018-10-29T16:00:00.000Z</published>
    <updated>2020-03-20T12:36:32.365Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>model Product，我们希望通过实现 service 的一个方法，并支持所有类型的查询，如 &gt;、&gt;=、&lt;、&lt;=、like 、order by 等常用的查询、排序。</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> id;</span><br><span class="line">    String name;</span><br><span class="line">    String category;</span><br><span class="line">    String price;</span><br><span class="line">    String ...;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="分析"><a href="#分析" class="headerlink" title="分析:"></a>分析:</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">id</span> &gt; <span class="number">1</span> <span class="keyword">or</span> price &gt; <span class="string">'100.00'</span> ...;</span><br></pre></td></tr></table></figure><p>Where 条件中包含 字段名称、运算符、值。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 查询类型</span></span><br><span class="line"><span class="comment">* lt 小于</span></span><br><span class="line"><span class="comment">* lte 小于等于</span></span><br><span class="line"><span class="comment">* gt 大于</span></span><br><span class="line"><span class="comment">* gte 大于等于</span></span><br><span class="line"><span class="comment">* slike 'value%' start_with</span></span><br><span class="line"><span class="comment">* elike '%value' end_with</span></span><br><span class="line"><span class="comment">* like '%value%'</span></span><br><span class="line"><span class="comment">* in 1,2,3,4,5</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line">    String name; <span class="comment">//字段名称</span></span><br><span class="line">    String value; <span class="comment">//值</span></span><br><span class="line">    String itemType; <span class="comment">//查询类型</span></span><br><span class="line">    String type = <span class="string">"and"</span>; <span class="comment">// 逻辑运算 and or</span></span><br><span class="line">    String[] values; <span class="comment">//如果是in查询转换为字符串数组</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上是对查询条件的简单封装,如果我们需要满足多个条件的话。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QueryParam</span></span>&#123;</span><br><span class="line">    List&lt;Item&gt; items = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>mybatis 公共 xml 文件配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"BaseMapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">"BaseQuery"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"items != null "</span>&gt;</span></span><br><span class="line">            where 1 = 1</span><br><span class="line">            <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">"items"</span> <span class="attr">item</span>=<span class="string">"item"</span> <span class="attr">index</span>=<span class="string">"index"</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">separator</span>=<span class="string">" "</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'eq' "</span>&gt;</span></span><br><span class="line">                    $&#123;item.type&#125; $&#123;item.fieldName&#125; = #&#123;item.value&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'lt' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  $&#123;item.type&#125;  $&#123;item.name&#125; &lt; #&#123;item.value&#125; ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'lte' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[ $&#123;item.type&#125;  $&#123;item.name&#125; &lt;= #&#123;item.value&#125; ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'gt' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  $&#123;item.type&#125;  $&#123;item.name&#125; &gt; #&#123;item.value&#125; ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'gte' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  $&#123;item.type&#125;  $&#123;item.name&#125; &gt;= #&#123;item.value&#125; ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'slike' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  $&#123;item.type&#125;  $&#123;item.name&#125; like '$&#123;item.value&#125;%' ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.typeitemType == 'elike' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  $&#123;item.type&#125;  $&#123;item.name&#125; like '%$&#123;item.value&#125;' ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'like' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  AND $&#123;item.name&#125; like '%$&#123;item.value&#125;%' ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'in' "</span>&gt;</span></span><br><span class="line">                    $&#123;item.type&#125;</span><br><span class="line">                    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">"item.values"</span> <span class="attr">item</span>=<span class="string">"value"</span> <span class="attr">index</span>=<span class="string">"index"</span> <span class="attr">open</span>=<span class="string">"("</span> <span class="attr">close</span>=<span class="string">")"</span> <span class="attr">separator</span>=<span class="string">"OR"</span>&gt;</span></span><br><span class="line">                        $&#123;item.name&#125; =  #&#123;value&#125;</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Product mapper.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.yqwoe.codegenerator.dao.ProductMapper"</span> &gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"BaseResultMap"</span> <span class="attr">type</span>=<span class="string">"com.yqwoe.codegenerator.model.Product"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">"u_id"</span> <span class="attr">property</span>=<span class="string">"uId"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--省略 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">"Base_Column_List"</span> &gt;</span></span><br><span class="line">    id, name, category, price ,.....</span><br><span class="line">  <span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectAll"</span> <span class="attr">resultMap</span>=<span class="string">"BaseResultMap"</span> <span class="attr">parameterType</span>=<span class="string">"com.yqwoe.model.param.QueryParam"</span>&gt;</span></span><br><span class="line">    select</span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">"Base_Column_List"</span> /&gt;</span></span><br><span class="line">    from s_user</span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">"BaseMapper.BaseQuery"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">"BaseMapper.BaseOrder"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ProductController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductController</span></span>&#123;</span><br><span class="line">    ProductService productService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/products"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Pageinfo <span class="title">index</span><span class="params">(QueryParam param)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> productService.selectAll(param);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">api: http:&#x2F;&#x2F;localhost:8000&#x2F;products?items[0].name&#x3D;name&amp;items[0].value&#x3D;nil?,超级管理员&amp;items[0].itemType&#x3D;in</span><br><span class="line"></span><br><span class="line">sql: select * from product where 1 &#x3D; 1 and (name &#x3D; &#39;nil?&#39; OR name &#x3D; &#39;超级管理员&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;type 默认为 and</span><br><span class="line">response:</span><br><span class="line">&#123;</span><br><span class="line">    data:[</span><br><span class="line">        ....</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上为动态查询，照这样的思路，可以继续围绕 mapper 扩展排序或者更复杂的查询。</p>]]></content>
    
    <summary type="html">
    
      mybatis动态查询实现
    
    </summary>
    
    
      <category term="mybatis" scheme="https://rm-rf.one/categories/mybatis/"/>
    
    
      <category term="mysql" scheme="https://rm-rf.one/tags/mysql/"/>
    
      <category term="mybatis" scheme="https://rm-rf.one/tags/mybatis/"/>
    
      <category term="api" scheme="https://rm-rf.one/tags/api/"/>
    
  </entry>
  
  <entry>
    <title>ruby 爬虫 一</title>
    <link href="https://rm-rf.one/2018/10/12/2018-10-12-ruby%20%E7%88%AC%E8%99%AB%20%E4%B8%80/"/>
    <id>https://rm-rf.one/2018/10/12/2018-10-12-ruby%20%E7%88%AC%E8%99%AB%20%E4%B8%80/</id>
    <published>2018-10-11T16:00:00.000Z</published>
    <updated>2020-03-20T12:36:27.397Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>​ 拖延了半个多月，把之前写的东西整理一下发现，好多内容都在脑子里，没有形成转化后的内容，所以，吃过晚饭就决定写完在睡觉。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Time.now.to_s =&gt; <span class="string">"2018-10-30 20:29:36 +0800"</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>​ 印象中，大多数人做爬虫第一个想到的肯定是 python，”python 解决方案多，代码简洁，容易上手…”,blah..blah</p><p>​ 事实上我也写 python，但是强制缩进这点让我很伤脑筋，没用 ruby 之前，我觉得 python 可能是我做 java 以来最优雅的语言。直到我用 ruby。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span>.times <span class="keyword">do</span> <span class="params">|i|</span></span><br><span class="line">puts <span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">=&gt;</span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br></pre></td></tr></table></figure><p>​ 废话不多说。</p><p>​ 为什么选择用 ruby，而不用 python 呢？</p><p>​ 不为别的，就是顺手而已。</p><h1 id="kimurai"><a href="#kimurai" class="headerlink" title="kimurai"></a>kimurai</h1><blockquote><p>Kimurai 是一个用 Ruby 实现的现代网络爬虫框架，和 <strong>Headless Chromium</strong> / <strong>Firefox</strong> 、<strong>PhantomJS</strong> 一样开箱即用，并且能够模拟<strong>“用户”</strong>访问抓取 javascript 交互的网站。</p><p>Kimurai 基于 <strong><a href="https://github.com/teamcapybara/capybara" target="_blank" rel="noopener">Capybara</a></strong> 和 <strong><a href="https://github.com/sparklemotion/nokogiri" target="_blank" rel="noopener">Nokogir</a></strong> gems，所以你不必学习新的东西。</p></blockquote><h2 id="实操"><a href="#实操" class="headerlink" title="实操"></a>实操</h2><h4 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install kimurai</span><br></pre></td></tr></table></figure><p>使用<a href="http://npm.taobao.org/mirrors/chromedriver/" target="_blank" rel="noopener">chromiumdriver</a> 或<a href="https://github.com/ariya/phantomjs" target="_blank" rel="noopener">phantomJS</a>需另外安装。</p><h4 id="2-创建项目-demo"><a href="#2-创建项目-demo" class="headerlink" title="2.创建项目 demo"></a>2.创建项目 demo</h4><p>kimurai 提供了像 rails new project 这样的命令式创建项目。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kimurai generate project demo</span><br></pre></td></tr></table></figure><p>等待命令执行完成会生成如下结构</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">|demo</span><br><span class="line">|config  #用于存放全局配置</span><br><span class="line">|application.rb #全局配置</span><br><span class="line">|automaiton.yml #用于配置浏览器和部署</span><br><span class="line">|schedule.rb #支持定时任务</span><br><span class="line">|db #数据库文件？</span><br><span class="line">|helpers #辅助方法</span><br><span class="line">|lib #插件</span><br><span class="line">|log #日志</span><br><span class="line">|pipelines</span><br><span class="line">|spiders #爬虫存放目录</span><br><span class="line">|tmp #缓存文件</span><br></pre></td></tr></table></figure><h4 id="3-创建-spider"><a href="#3-创建-spider" class="headerlink" title="3.创建 spider"></a>3.创建 spider</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">kimurai generate spider test_spider</span><br><span class="line"></span><br><span class="line"><span class="comment">#demo/spiders/test_spider.rb</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestSpider</span> &lt; ApplicationSpider</span></span><br><span class="line">  @name = <span class="string">"test_spider"</span></span><br><span class="line">  @start_urls = []</span><br><span class="line">  @config = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(response, <span class="symbol">url:</span>, <span class="symbol">data:</span> &#123;&#125;)</span></span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h4 id="4-修改-spider"><a href="#4-修改-spider" class="headerlink" title="4.修改 spider"></a>4.修改 spider</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestSpider</span> &lt; ApplicationSpider</span></span><br><span class="line">  @name = <span class="string">"test_spider"</span></span><br><span class="line">  @start_urls = [<span class="string">"https://baike.pcbaby.com.cn"</span>]</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(response, <span class="symbol">url:</span>, <span class="symbol">data:</span> &#123;&#125;)</span></span></span><br><span class="line">    items = &#123;&#125;</span><br><span class="line">    items[<span class="symbol">:links</span>] = []</span><br><span class="line">    response.xpath(<span class="string">"//div[@class='baike-th main']"</span>).each <span class="keyword">do</span> <span class="params">|row|</span></span><br><span class="line">      logger.info row.to_s</span><br><span class="line">      items[<span class="symbol">:links</span>] &lt;&lt; &#123;</span><br><span class="line">          <span class="symbol">title:</span> row.css(<span class="string">"/a"</span>).text.squish,</span><br><span class="line">          <span class="symbol">url:</span> <span class="string">"https:<span class="subst">#&#123;row.css(<span class="string">"/a"</span>).first[<span class="string">"href"</span>]&#125;</span>"</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    save_to <span class="string">"results.json"</span>, items, <span class="symbol">format:</span> <span class="symbol">:pretty_json</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h5 id="results-json"><a href="#results-json" class="headerlink" title="results.json"></a>results.json</h5><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"links"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"备孕百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/yunqian.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"孕期百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/yunqi.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"分娩百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/fenmian.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"月子百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/yuezi.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"新生儿百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/xinshenger.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"0-1岁百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/yinger.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"1-3岁百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/youer.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"3-6岁百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/xuelingqian.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"用品百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/yongpin.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"美食百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/meishi.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"生活百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/shenghuo.html"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"position"</span>: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="5-application-spider-rb"><a href="#5-application-spider-rb" class="headerlink" title="5.application_spider.rb"></a>5.application_spider.rb</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ApplicationSpider is a default base spider class. You can set here</span></span><br><span class="line"><span class="comment"># default settings for all spiders inherited from ApplicationSpider.</span></span><br><span class="line"><span class="comment"># To generate a new spider, run: `$ kimurai generate spider spider_name`</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'net/http'</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'kimurai'</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ApplicationSpider</span> &lt; Kimurai::Base</span></span><br><span class="line">  <span class="keyword">include</span> ApplicationHelper</span><br><span class="line"></span><br><span class="line">  @engine = <span class="symbol">:selenium_chrome</span></span><br><span class="line">  USER_AGENTS = []</span><br><span class="line"></span><br><span class="line">  <span class="comment"># PROXIES = ["127.0.0.1:1086:socks5"]</span></span><br><span class="line"></span><br><span class="line">  @config = &#123;</span><br><span class="line">    <span class="symbol">user_agent:</span> <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36"</span>,</span><br><span class="line">    <span class="symbol">skip_request_errors:</span> [&#123; <span class="symbol">error:</span> RuntimeError, <span class="symbol">message:</span> <span class="string">"404 =&gt; Net::HTTPNotFound"</span> &#125;],</span><br><span class="line"><span class="symbol">retry_request_errors:</span> [Net::ReadTimeout],</span><br><span class="line">    <span class="symbol">restart_if:</span> &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="symbol">before_request:</span> &#123;</span><br><span class="line">        <span class="symbol">delay:</span> <span class="number">4</span>..<span class="number">7</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h4 id="6-运行"><a href="#6-运行" class="headerlink" title="6.运行"></a>6.运行</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bundle exec kimurai runner -j <span class="number">3</span></span><br></pre></td></tr></table></figure><p>可以依次运行多个爬虫。</p><p>按照以上步骤可以运行示例中的代码。</p><p>更多细节配置可以查看 <a href="https://github.com/vifreefly/kimuraframework#installation" target="_blank" rel="noopener">kimurai</a></p>]]></content>
    
    <summary type="html">
    
      做爬虫第一个想到的肯定是python,python解决方案多，代码简洁，容易上手...
    
    </summary>
    
    
      <category term="爬虫" scheme="https://rm-rf.one/categories/%E7%88%AC%E8%99%AB/"/>
    
    
      <category term="ruby" scheme="https://rm-rf.one/tags/ruby/"/>
    
      <category term="爬虫" scheme="https://rm-rf.one/tags/%E7%88%AC%E8%99%AB/"/>
    
      <category term="python" scheme="https://rm-rf.one/tags/python/"/>
    
      <category term="java" scheme="https://rm-rf.one/tags/java/"/>
    
      <category term="kimurai" scheme="https://rm-rf.one/tags/kimurai/"/>
    
  </entry>
  
  <entry>
    <title>英语学习</title>
    <link href="https://rm-rf.one/2018/10/09/2018-10-09-%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0/"/>
    <id>https://rm-rf.one/2018/10/09/2018-10-09-%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0/</id>
    <published>2018-10-08T16:00:00.000Z</published>
    <updated>2020-03-20T12:38:35.441Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>App: duolinguo（多邻国）</p><p>你使用 Duolingo 的时候你不单单是在学外语，你还是个译者。Duolingo 里面还有一个 Strength（力量）的概念，所有学过的内容在一开始是满血状态的，但是随着时间流逝和你在其它相关练习犯错误，你的 strength 就会不断降低，这时候你就需要通过复习来保持满血状态，这就是我上面提到的，通过一个复习系统将学到的知识从短期记忆放到长期记忆里面，Duolingo 提供了一个非常科学有效的复习管理系统。</p><p>语法手册《无敌英语语法终身学习版(最新修订)》</p><a id="more"></a><p>待补充..</p>]]></content>
    
    <summary type="html">
    
      英语学习
    
    </summary>
    
    
      <category term="学习" scheme="https://rm-rf.one/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="英语单词" scheme="https://rm-rf.one/tags/%E8%8B%B1%E8%AF%AD%E5%8D%95%E8%AF%8D/"/>
    
      <category term="入门" scheme="https://rm-rf.one/tags/%E5%85%A5%E9%97%A8/"/>
    
  </entry>
  
  <entry>
    <title>程序员数学1</title>
    <link href="https://rm-rf.one/2018/10/06/2018-10-06-%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A61/"/>
    <id>https://rm-rf.one/2018/10/06/2018-10-06-%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A61/</id>
    <published>2018-10-05T16:00:00.000Z</published>
    <updated>2020-03-20T12:36:10.999Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="学习列表"><a href="#学习列表" class="headerlink" title="学习列表:"></a>学习列表:</h2><h3 id="2-进制"><a href="#2-进制" class="headerlink" title="2 进制:"></a>2 进制:</h3><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">2503</span><br><span class="line">1251  余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line">625   余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line">312   余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line"></span><br><span class="line">156   余  0  &#x3D;&#x3D;&gt; 0</span><br><span class="line">78    余  0  &#x3D;&#x3D;&gt; 0</span><br><span class="line">39    余  0  &#x3D;&#x3D;&gt; 0</span><br><span class="line"></span><br><span class="line">19    余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line">9     余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line">4     余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line"></span><br><span class="line">2     余  0  &#x3D;&#x3D;&gt; 0</span><br><span class="line">1     余  0  &#x3D;&#x3D;&gt; 0</span><br><span class="line">0     余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line"></span><br><span class="line">111 000 111 001</span><br></pre></td></tr></table></figure><h3 id="指数"><a href="#指数" class="headerlink" title="指数:"></a>指数:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">10 ** 3 &#x3D; 1000</span><br><span class="line">10 ** 2 &#x3D; 100  (1000 * 1&#x2F;10)</span><br><span class="line">10 ** 1 &#x3D; 10   (100 * 1&#x2F;10)</span><br><span class="line">10 ** 0 &#x3D; ？  (10 * 1&#x2F;10)</span><br><span class="line">10 ** -1 &#x3D; (1&#x2F;10)</span><br></pre></td></tr></table></figure><blockquote><p>指数每减 1，数字就变为原来的十分之一。</p></blockquote><blockquote><h2 id="指数法则"><a href="#指数法则" class="headerlink" title="指数法则:"></a>指数法则:</h2></blockquote><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">N ** a + N ** b &#x3D; N ** (a + b)      N &gt; 0</span><br></pre></td></tr></table></figure></blockquote><h2 id="0-所起的作用"><a href="#0-所起的作用" class="headerlink" title="0 所起的作用:"></a>0 所起的作用:</h2><blockquote><h3 id="0-的作用-占位"><a href="#0-的作用-占位" class="headerlink" title="0 的作用: 占位"></a>0 的作用: 占位</h3></blockquote><blockquote><p>​ 2503 中 0 如果省略，那就变成 253.数值放生了变化，所以 0 不能省略。</p></blockquote><blockquote><p>##</p></blockquote>]]></content>
    
    <summary type="html">
    
      程序员数学1
    
    </summary>
    
    
      <category term="学习" scheme="https://rm-rf.one/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="数学" scheme="https://rm-rf.one/tags/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="程序员" scheme="https://rm-rf.one/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/"/>
    
  </entry>
  
  <entry>
    <title>生活计划</title>
    <link href="https://rm-rf.one/2018/07/28/2018-07-28-%E7%94%9F%E6%B4%BB-%E7%94%9F%E6%B4%BB%E8%AE%A1%E5%88%92/"/>
    <id>https://rm-rf.one/2018/07/28/2018-07-28-%E7%94%9F%E6%B4%BB-%E7%94%9F%E6%B4%BB%E8%AE%A1%E5%88%92/</id>
    <published>2018-07-27T16:00:00.000Z</published>
    <updated>2020-03-20T12:35:58.016Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>有段没有更新博客了，最近身体状态堪忧，加上忙碌，孩子生病，我也支气管炎，怎么吃药都不见好。<br>所以，我深刻的意识到有一个健康的身体太重要了。</p><a id="more"></a><p>以下是我近期的生活计划</p><table><thead><tr><th>时间</th><th>项目</th><th>时长</th></tr></thead><tbody><tr><td>06:00</td><td>山地车</td><td>2h</td></tr><tr><td>08:00</td><td>早饭 、洗漱</td><td>1h</td></tr><tr><td>09:00</td><td>工作时间</td><td>3h</td></tr><tr><td>12:00</td><td>午饭、午休</td><td>2h</td></tr><tr><td>14:00</td><td>工作时间</td><td>4h</td></tr><tr><td>18:00</td><td>遛娃、买菜、做饭</td><td>2h</td></tr><tr><td>20:00</td><td>孩子洗澡</td><td>1h</td></tr><tr><td>21:00</td><td>二人世界</td><td>2h</td></tr><tr><td>–</td><td>结束</td><td>14h</td></tr></tbody></table><p>饮食（待补充..）</p>]]></content>
    
    <summary type="html">
    
      有一个健康的身体太重要了
    
    </summary>
    
    
      <category term="生活" scheme="https://rm-rf.one/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="山地车" scheme="https://rm-rf.one/tags/%E5%B1%B1%E5%9C%B0%E8%BD%A6/"/>
    
      <category term="篮球" scheme="https://rm-rf.one/tags/%E7%AF%AE%E7%90%83/"/>
    
      <category term="羽毛球" scheme="https://rm-rf.one/tags/%E7%BE%BD%E6%AF%9B%E7%90%83/"/>
    
      <category term="带孩子" scheme="https://rm-rf.one/tags/%E5%B8%A6%E5%AD%A9%E5%AD%90/"/>
    
  </entry>
  
  <entry>
    <title>阿里云mysql外网访问</title>
    <link href="https://rm-rf.one/2018/06/05/2018-06-05-mysql-%E9%98%BF%E9%87%8C%E4%BA%91mysql%E5%A4%96%E7%BD%91%E8%AE%BF%E9%97%AE/"/>
    <id>https://rm-rf.one/2018/06/05/2018-06-05-mysql-%E9%98%BF%E9%87%8C%E4%BA%91mysql%E5%A4%96%E7%BD%91%E8%AE%BF%E9%97%AE/</id>
    <published>2018-06-04T16:00:00.000Z</published>
    <updated>2020-03-20T12:52:29.741Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>转载原文评论: <a href="https://segmentfault.com/q/1010000009603559?sort=created" target="_blank" rel="noopener">阿里云 ecs 上安装了 mysql 但是外网访问不了</a></p><a id="more"></a><p>1.阿里云 ECS 有安全组防火墙.默认只开了 ICMP,22,3389. 在服务器控制台找到 安全组-配置规则-添加安全组规则</p><p><img src="/images/1950746143-596a46107163e_articlex.png" alt="1950746143-596a46107163e_articlex"></p><p>2.如果是用 root 登录 MySQL,在登陆后 use mysql, user 表 root 对应的 localhost 改为%</p><p>3.mysql 默认只能自本机访问</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf</span><br><span class="line">#bind-address &#x3D; 127.0.0.1</span><br><span class="line"></span><br><span class="line">service mysql restart</span><br></pre></td></tr></table></figure><p>4.检查是不是在监听状态</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -ntpl |grep 3306</span><br></pre></td></tr></table></figure><p>5.防火墙是否对 mysql 端口限制,设置防火墙</p>]]></content>
    
    <summary type="html">
    
      阿里云 ecs 上安装了 mysql 但是外网访问不了
    
    </summary>
    
    
      <category term="服务器" scheme="https://rm-rf.one/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="aliyun" scheme="https://rm-rf.one/tags/aliyun/"/>
    
      <category term="阿里云" scheme="https://rm-rf.one/tags/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
      <category term="ubuntu 14.04" scheme="https://rm-rf.one/tags/ubuntu-14-04/"/>
    
      <category term="mysql" scheme="https://rm-rf.one/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>nginx支持ssl+acme.sh定时更新证书</title>
    <link href="https://rm-rf.one/2018/06/04/2018-06-04-nginx-acme.sh%20nginx%20ssl/"/>
    <id>https://rm-rf.one/2018/06/04/2018-06-04-nginx-acme.sh%20nginx%20ssl/</id>
    <published>2018-06-03T16:00:00.000Z</published>
    <updated>2020-03-20T12:35:44.973Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>不废话，直接进入实战。</p><a id="more"></a><p>1.安装 nginx</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install nginx</span><br></pre></td></tr></table></figure><p>2.配置 nginx</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;default</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  server_name example.com ;</span><br><span class="line">  return 301 https:&#x2F;&#x2F;example.com$request_uri;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">  listen 443 ssl;</span><br><span class="line"></span><br><span class="line">  server_name example.com;</span><br><span class="line"></span><br><span class="line">  ssl on;</span><br><span class="line">  ssl_certificate         &#x2F;var&#x2F;www&#x2F;ssl&#x2F;example.com.cer;</span><br><span class="line">  ssl_certificate_key     &#x2F;var&#x2F;www&#x2F;ssl&#x2F;example.com.key;</span><br><span class="line">  ssl_dhparam             &#x2F;var&#x2F;www&#x2F;ssl&#x2F;dhparam.pem;</span><br><span class="line">  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">  ssl_prefer_server_ciphers on;</span><br><span class="line">  ssl_ciphers EECDH+CHACHA20:EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:!MD5; #加密算法(CloudFlare 推荐的加密套件组)</span><br><span class="line">  ssl_session_timeout 5m; #客户端会话缓存时间</span><br><span class="line">  ssl_session_cache builtin:1000 shared:SSL:10m; #SSL 会话缓存类型和大小</span><br><span class="line"></span><br><span class="line">  root &#x2F;var&#x2F;www&#x2F;example&#x2F;current&#x2F;public;</span><br><span class="line">  access_log &#x2F;var&#x2F;www&#x2F;example&#x2F;current&#x2F;log&#x2F;nginx.access.log;</span><br><span class="line">  error_log &#x2F;var&#x2F;www&#x2F;example&#x2F;current&#x2F;log&#x2F;nginx.error.log info;</span><br><span class="line"></span><br><span class="line">  error_page 500 502 503 504 &#x2F;500.html;</span><br><span class="line">  client_max_body_size 10M;</span><br><span class="line">  keepalive_timeout 10;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.安装 acme.sh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl https:&#x2F;&#x2F;get.acme.sh | sh</span><br><span class="line">source ~&#x2F;.bashrc</span><br><span class="line">备注:如果本地创建了.bash_profie建议把此命令加入</span><br></pre></td></tr></table></figure><p>4.申请证书</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">acme.sh --issue -d example.com -w &#x2F;var&#x2F;www&#x2F;example&#x2F;current&#x2F;public</span><br><span class="line">备注: 命令中的目录一定是通过nginx 80端口能够访问到的位置。命令执行成功后证书会存放在 ~&#x2F;.acme.sh&#x2F;example.com&#x2F;</span><br></pre></td></tr></table></figure><p>5.设置证书，并重启 nginx</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">acme.sh --installcert -d example.com \</span><br><span class="line">               --keypath       &#x2F;var&#x2F;www&#x2F;ssl&#x2F;example.com.key  \</span><br><span class="line">               --fullchainpath &#x2F;var&#x2F;www&#x2F;ssl&#x2F;example.com.cer \</span><br><span class="line">               --reloadcmd     &quot;nginx -s reload&quot;</span><br></pre></td></tr></table></figure><p>6.生成 dhparam.pem 文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">openssl dhparam -out &#x2F;var&#x2F;www&#x2F;ssl&#x2F;dhparam.pem 2048</span><br><span class="line">备注：注意观察的话，证书和dhparam.pem的目录和nginx中是保持一致的。</span><br></pre></td></tr></table></figure><p>7.查看定时更换任务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ crontab -l</span><br><span class="line">0 0 * * * &quot;&#x2F;home&#x2F;ubuntu&#x2F;.acme.sh&quot;&#x2F;acme.sh --cron --home &quot;&#x2F;home&#x2F;ubuntu&#x2F;.acme.sh&quot; &gt; &#x2F;dev&#x2F;null</span><br></pre></td></tr></table></figure><p>8.验证 acme.sh 定时更换任务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acme.sh --cron -f</span><br></pre></td></tr></table></figure><p>9.你可能遇到的问题</p><p><a href="https://ruby-china.org/topics/31983" target="_blank" rel="noopener">使用 acme.sh 给 Nginx 安装 Let’ s Encrypt 提供的免费 SSL 证书</a></p>]]></content>
    
    <summary type="html">
    
      acme.sh 、nginx、https
    
    </summary>
    
    
      <category term="nginx" scheme="https://rm-rf.one/categories/nginx/"/>
    
    
      <category term="aliyun" scheme="https://rm-rf.one/tags/aliyun/"/>
    
      <category term="阿里云" scheme="https://rm-rf.one/tags/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
      <category term="ubuntu 14.04" scheme="https://rm-rf.one/tags/ubuntu-14-04/"/>
    
      <category term="nginx" scheme="https://rm-rf.one/tags/nginx/"/>
    
      <category term="ssl" scheme="https://rm-rf.one/tags/ssl/"/>
    
      <category term="acme.sh" scheme="https://rm-rf.one/tags/acme-sh/"/>
    
  </entry>
  
  <entry>
    <title>一次gogs采坑之旅</title>
    <link href="https://rm-rf.one/2018/06/03/2018-06-03-git-%E4%B8%80%E6%AC%A1gogs%E8%B8%A9%E5%9D%91%E4%B9%8B%E6%97%85/"/>
    <id>https://rm-rf.one/2018/06/03/2018-06-03-git-%E4%B8%80%E6%AC%A1gogs%E8%B8%A9%E5%9D%91%E4%B9%8B%E6%97%85/</id>
    <published>2018-06-02T16:00:00.000Z</published>
    <updated>2020-03-20T12:35:39.224Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>一定要按照操作步骤走</p><a id="more"></a><p>1.创建用户，一定要记住密码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo adduser git</span><br><span class="line">su git</span><br><span class="line">cd ~</span><br></pre></td></tr></table></figure><p>2.下载并解压安装包</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;dl.gogs.io&#x2F;0.11.43&#x2F;gogs_0.11.43_linux_amd64.zip</span><br><span class="line">unzip gogs_0.11.43_linux_amd64.zip</span><br></pre></td></tr></table></figure><p>3.拷贝启动项到系统下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp &#x2F;home&#x2F;xx&#x2F;gogs&#x2F;scripts&#x2F;init&#x2F;debian&#x2F;gogs &#x2F;etc&#x2F;init.d&#x2F;</span><br><span class="line">chmod +x &#x2F;etc&#x2F;init.d&#x2F;gogs</span><br></pre></td></tr></table></figure><p>4.安装 mysql</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install mysql-server</span><br><span class="line">mysql -u root -p &lt; &#x2F;home&#x2F;xx&#x2F;gogs&#x2F;scripts&#x2F;mysql.sql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql -u root -p</span><br><span class="line">&gt; # （输入密码）</span><br><span class="line">&gt; create user &#39;gogs&#39;@&#39;localhost&#39; identified by &#39;密码&#39;;</span><br><span class="line">&gt; grant all privileges on gogs.* to &#39;gogs&#39;@&#39;localhost&#39;;</span><br><span class="line">&gt; flush privileges;</span><br><span class="line">&gt; exit;</span><br></pre></td></tr></table></figure><p>5.启动 gogs</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service gogs start</span><br><span class="line">curl -I http:&#x2F;&#x2F;localhost:3000  &#x3D;&gt; HTTP OK 200</span><br></pre></td></tr></table></figure><p>6.nginx 配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">      listen       80;</span><br><span class="line">      server_name  www.example.com;</span><br><span class="line">      location &#x2F; &#123;</span><br><span class="line">          proxy_pass http:&#x2F;&#x2F;localhost:3000&#x2F;;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7.访问 <a href="http://www.example.com/install" target="_blank" rel="noopener">www.example.com/install</a> 进行初始化</p><p>8.你可能遇到的问题</p><p><a href="https://blog.csdn.net/u013710784/article/details/78778044" target="_blank" rel="noopener">Gogs 与 Linux 主机共享 SSH22 端口</a></p><p><a href="https://blog.csdn.net/bigsea622/article/details/53956786" target="_blank" rel="noopener">装 Gogs 后 ssh 无法和远程登录同时使用的解决方案</a></p>]]></content>
    
    <summary type="html">
    
      ubuntu 安装 gogs
    
    </summary>
    
    
      <category term="服务器" scheme="https://rm-rf.one/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="git" scheme="https://rm-rf.one/tags/git/"/>
    
      <category term="aliyun" scheme="https://rm-rf.one/tags/aliyun/"/>
    
      <category term="阿里云" scheme="https://rm-rf.one/tags/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
      <category term="gogs" scheme="https://rm-rf.one/tags/gogs/"/>
    
      <category term="ubuntu 14.04" scheme="https://rm-rf.one/tags/ubuntu-14-04/"/>
    
  </entry>
  
  <entry>
    <title>一次ios网页样式问题排查心路历程</title>
    <link href="https://rm-rf.one/2018/06/02/2018-06-02-%20%E5%89%8D%E7%AB%AF-%E4%B8%80%E6%AC%A1ios%E7%BD%91%E9%A1%B5%E6%A0%B7%E5%BC%8F%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/"/>
    <id>https://rm-rf.one/2018/06/02/2018-06-02-%20%E5%89%8D%E7%AB%AF-%E4%B8%80%E6%AC%A1ios%E7%BD%91%E9%A1%B5%E6%A0%B7%E5%BC%8F%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/</id>
    <published>2018-06-01T16:00:00.000Z</published>
    <updated>2020-03-20T12:52:01.876Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h4 id="我的开发环境：Macbook-pro-、iphone-手机端页面使用-vue、scss。本次出现的问题是一个-css-样式在-iphone-手机端无法正常显示。"><a href="#我的开发环境：Macbook-pro-、iphone-手机端页面使用-vue、scss。本次出现的问题是一个-css-样式在-iphone-手机端无法正常显示。" class="headerlink" title="我的开发环境：Macbook pro 、iphone,手机端页面使用 vue、scss。本次出现的问题是一个 css 样式在 iphone 手机端无法正常显示。"></a>我的开发环境：Macbook pro 、iphone,手机端页面使用 vue、scss。本次出现的问题是一个 css 样式在 iphone 手机端无法正常显示。</h4><a id="more"></a><p>大概是这样：</p><p><img src="/images/WechatIMG86.jpeg" alt="WechatIMG86"></p><p>选中的区域无法正常显示。</p><h4 id="准备调试环境："><a href="#准备调试环境：" class="headerlink" title="准备调试环境："></a>准备调试环境：</h4><h5 id="1-打开-sifari-的开发模式。"><a href="#1-打开-sifari-的开发模式。" class="headerlink" title="1.打开 sifari 的开发模式。"></a>1.打开 sifari 的开发模式。</h5><p><img src="/images/1527947682461.jpg" alt="1527947682461"></p><h5 id="2-手机-sifari-打开调试模式"><a href="#2-手机-sifari-打开调试模式" class="headerlink" title="2.手机 sifari 打开调试模式"></a>2.手机 sifari 打开调试模式</h5><p><img src="/images/WechatIMG87.jpeg" alt="WechatIMG87"></p><h5 id="3-手机连接电脑"><a href="#3-手机连接电脑" class="headerlink" title="3.手机连接电脑"></a>3.手机连接电脑</h5><p><img src="/images/1527947709241.jpg" alt="1527947709241"></p><h5 id="勾选上图的-ip-地址自动会弹出开发者窗口。接下来你就可以尽情的撒野了。"><a href="#勾选上图的-ip-地址自动会弹出开发者窗口。接下来你就可以尽情的撒野了。" class="headerlink" title="勾选上图的 ip 地址自动会弹出开发者窗口。接下来你就可以尽情的撒野了。"></a>勾选上图的 ip 地址自动会弹出开发者窗口。接下来你就可以尽情的撒野了。</h5><h4 id="正经话题，我是如何找到问题并解决的。"><a href="#正经话题，我是如何找到问题并解决的。" class="headerlink" title="正经话题，我是如何找到问题并解决的。"></a>正经话题，我是如何找到问题并解决的。</h4><p>#####调试窗口大概长这样，找到你要排错的 div 选中，然后，一个个勾选右侧样式，看是否存在冲突或失效的样式。</p><p><img src="/images/1527950086573.jpg" alt="1527950086573"></p><h5 id="最后锁定"><a href="#最后锁定" class="headerlink" title="最后锁定"></a>最后锁定</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-overflow-scrolling</span>: touch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="webkit-overflow-scrolling-属性控制元素在移动设备上是否使用滚动回弹效果"><a href="#webkit-overflow-scrolling-属性控制元素在移动设备上是否使用滚动回弹效果" class="headerlink" title="-webkit-overflow-scrolling 属性控制元素在移动设备上是否使用滚动回弹效果."></a>-webkit-overflow-scrolling 属性控制元素在移动设备上是否使用滚动回弹效果.</h5><h5 id="auto-使用普通滚动-当手指从触摸屏上移开，滚动会立即停止。"><a href="#auto-使用普通滚动-当手指从触摸屏上移开，滚动会立即停止。" class="headerlink" title="auto: 使用普通滚动, 当手指从触摸屏上移开，滚动会立即停止。"></a>auto: 使用普通滚动, 当手指从触摸屏上移开，滚动会立即停止。</h5><h5 id="touch-使用具有回弹效果的滚动-当手指从触摸屏上移开，内容会继续保持一段时间的滚动效果。继续滚动的速度和持续的时间和滚动手势的强烈程度成正比。同时也会创建一个新的堆栈上下文。"><a href="#touch-使用具有回弹效果的滚动-当手指从触摸屏上移开，内容会继续保持一段时间的滚动效果。继续滚动的速度和持续的时间和滚动手势的强烈程度成正比。同时也会创建一个新的堆栈上下文。" class="headerlink" title="touch: 使用具有回弹效果的滚动, 当手指从触摸屏上移开，内容会继续保持一段时间的滚动效果。继续滚动的速度和持续的时间和滚动手势的强烈程度成正比。同时也会创建一个新的堆栈上下文。"></a>touch: 使用具有回弹效果的滚动, 当手指从触摸屏上移开，内容会继续保持一段时间的滚动效果。继续滚动的速度和持续的时间和滚动手势的强烈程度成正比。同时也会创建一个新的堆栈上下文。</h5><h5 id="最常见的例子就是，"><a href="#最常见的例子就是，" class="headerlink" title="最常见的例子就是，"></a>最常见的例子就是，</h5><h5 id="在-safari-上，使用了-webkit-overflow-scrolling-touch-之后，页面偶尔会卡住不动。"><a href="#在-safari-上，使用了-webkit-overflow-scrolling-touch-之后，页面偶尔会卡住不动。" class="headerlink" title="在 safari 上，使用了-webkit-overflow-scrolling:touch 之后，页面偶尔会卡住不动。"></a>在 safari 上，使用了-webkit-overflow-scrolling:touch 之后，页面偶尔会卡住不动。</h5><h5 id="在-safari-上，点击其他区域，再在滚动区域滑动，滚动条无法滚动的-bug。"><a href="#在-safari-上，点击其他区域，再在滚动区域滑动，滚动条无法滚动的-bug。" class="headerlink" title="在 safari 上，点击其他区域，再在滚动区域滑动，滚动条无法滚动的 bug。"></a>在 safari 上，点击其他区域，再在滚动区域滑动，滚动条无法滚动的 bug。</h5><h5 id="通过动态添加内容撑开容器，结果根本不能滑动的-bug。"><a href="#通过动态添加内容撑开容器，结果根本不能滑动的-bug。" class="headerlink" title="通过动态添加内容撑开容器，结果根本不能滑动的 bug。"></a>通过动态添加内容撑开容器，结果根本不能滑动的 bug。</h5><h5 id="最终无得解决方法是改成-auto，我还没有找到更完美解决的办法。"><a href="#最终无得解决方法是改成-auto，我还没有找到更完美解决的办法。" class="headerlink" title="最终无得解决方法是改成 auto，我还没有找到更完美解决的办法。"></a>最终无得解决方法是改成 auto，我还没有找到更完美解决的办法。</h5><h5 id="网上有很多关于-webkit-overflow-scrolling-ios-的问题，有兴趣的可以研究一下。不过我不建议研究，一研究估计小半年就过去了，也没有答案"><a href="#网上有很多关于-webkit-overflow-scrolling-ios-的问题，有兴趣的可以研究一下。不过我不建议研究，一研究估计小半年就过去了，也没有答案" class="headerlink" title="网上有很多关于 -webkit-overflow-scrolling + ios 的问题，有兴趣的可以研究一下。不过我不建议研究，一研究估计小半年就过去了，也没有答案"></a>网上有很多关于 -webkit-overflow-scrolling + ios 的问题，有兴趣的可以研究一下。<del>不过我不建议研究，一研究估计小半年就过去了，也没有答案</del></h5>]]></content>
    
    <summary type="html">
    
      我的开发环境：Macbook pro 、iphone,手机端页面使用 vue、scss。本次出现的问题是一个 css 样式在 iphone 手机端无法正常显示。
    
    </summary>
    
    
      <category term="css" scheme="https://rm-rf.one/categories/css/"/>
    
    
      <category term="mac" scheme="https://rm-rf.one/tags/mac/"/>
    
      <category term="ios" scheme="https://rm-rf.one/tags/ios/"/>
    
      <category term="macbook pro" scheme="https://rm-rf.one/tags/macbook-pro/"/>
    
      <category term="vue" scheme="https://rm-rf.one/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>过六一的&quot;儿童&quot;们</title>
    <link href="https://rm-rf.one/2018/06/01/2018-06-01-%E7%94%9F%E6%B4%BB-%E8%BF%87%E5%85%AD%E4%B8%80%E7%9A%84%E2%80%9D%E5%84%BF%E7%AB%A5%E2%80%9C%E4%BB%AC/"/>
    <id>https://rm-rf.one/2018/06/01/2018-06-01-%E7%94%9F%E6%B4%BB-%E8%BF%87%E5%85%AD%E4%B8%80%E7%9A%84%E2%80%9D%E5%84%BF%E7%AB%A5%E2%80%9C%E4%BB%AC/</id>
    <published>2018-05-31T16:00:00.000Z</published>
    <updated>2020-03-20T12:51:04.401Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><h5 id="今天是六一儿童节，早早的起床给儿子去打疫苗，这对于小家伙来说应该是无比痛苦的吧。不过，比起热更痛苦的应该是挨上一针，和看着小家伙挨针的心情！！！"><a href="#今天是六一儿童节，早早的起床给儿子去打疫苗，这对于小家伙来说应该是无比痛苦的吧。不过，比起热更痛苦的应该是挨上一针，和看着小家伙挨针的心情！！！" class="headerlink" title="今天是六一儿童节，早早的起床给儿子去打疫苗，这对于小家伙来说应该是无比痛苦的吧。不过，比起热更痛苦的应该是挨上一针，和看着小家伙挨针的心情！！！"></a><em>今天是六一儿童节，早早的起床给儿子去打疫苗，这对于小家伙来说应该是无比痛苦的吧。不过，比起热更痛苦的应该是挨上一针，和看着小家伙挨针的心情！！！</em></h5></blockquote><a id="more"></a><blockquote><p>刚才我俩因为给孩子换尿不湿又拌了一次嘴，我想这大概和天气有关系，也和这个日子不太贴合，黄历上说：今天忌老成，得耍点小脾气。</p></blockquote><p><img src="/images/WechatIMG80.jpeg" alt="WechatIMG80"></p><blockquote><p>我们时常会羡慕别人，为什么自己不是幸运的大多数，偏偏自己就是最不幸的。可是往往我们忽略了，如果幸运降临的时候，你真的能接住吗？<br>每次当我有”我不是幸运的大多数”这种想法的时候，我就会怀疑一切。我大概活成了插图一样的命运。</p></blockquote><p><img src="/images/WechatIMG81.jpeg" alt="WechatIMG81"></p><blockquote><p>我的儿子叫冬冬，今天是五个月十天了。不瞒你们说，我和老婆都有过”<del>是冬冬毁掉了我的生活</del>“这样的想法。很长一段时间夜里没有好好睡过觉，做梦都是围绕着冬冬的情节，电影、美食、逛街…就是看个电视都是奢侈的。<br>每天要看着他拉的屎下饭，颜色不正会直接导致你吃不下饭，如果是拉稀你就别想着吃饭了。<br>说话要小声，走路要小声，就连呼吸都要思考着呼吸，”这样呼吸对吗？我是不是不该这样呼吸？”</p><h1 id="“W-T-F-”"><a href="#“W-T-F-”" class="headerlink" title="“W T F !!!!!!!”"></a><del><em>“W T F !!!!!!!”</em></del></h1><h1 id="“完了完了完了！！！”"><a href="#“完了完了完了！！！”" class="headerlink" title="“完了完了完了！！！”"></a><del><em>“完了完了完了！！！”</em></del></h1><h1 id="“我的生活是不是就这样了？”"><a href="#“我的生活是不是就这样了？”" class="headerlink" title="“我的生活是不是就这样了？”"></a><del><em>“我的生活是不是就这样了？”</em></del></h1><p>不是的，其实也有快乐的部分，每天早晨冬冬会冲着我们笑，看到漂亮的小妹妹小姐姐会笑，像天使一样，给了我们生活下去的勇气,</p><p>如果因此你更加坚定做一个丁克。如果因此你害怕要孩子，那我只能祝福你们，<del>你们是对的！！！！</del> 你们还只是孩子。</p><p>写完我也准备开始一天的<em>工作</em> 了，六一节快乐！</p></blockquote>]]></content>
    
    <summary type="html">
    
      今天是六一儿童节，早早的起床给儿子去打疫苗，这对于小家伙来说应该是无比痛苦的吧。不过，比起热更痛苦的应该是挨上一针，和看着小家伙挨针的心情！！！
    
    </summary>
    
    
      <category term="生活" scheme="https://rm-rf.one/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="六一" scheme="https://rm-rf.one/tags/%E5%85%AD%E4%B8%80/"/>
    
      <category term="巨婴" scheme="https://rm-rf.one/tags/%E5%B7%A8%E5%A9%B4/"/>
    
      <category term="孩子" scheme="https://rm-rf.one/tags/%E5%AD%A9%E5%AD%90/"/>
    
  </entry>
  
  <entry>
    <title>给博客增加评论功能</title>
    <link href="https://rm-rf.one/2018/05/31/2018-05-31-%E6%8A%80%E5%B7%A7-%E7%BB%99%E5%8D%9A%E5%AE%A2%E5%A2%9E%E5%8A%A0%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD/"/>
    <id>https://rm-rf.one/2018/05/31/2018-05-31-%E6%8A%80%E5%B7%A7-%E7%BB%99%E5%8D%9A%E5%AE%A2%E5%A2%9E%E5%8A%A0%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD/</id>
    <published>2018-05-30T16:00:00.000Z</published>
    <updated>2020-03-20T12:48:32.162Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="首先感谢-imsun大神的插件Gitment"><a href="#首先感谢-imsun大神的插件Gitment" class="headerlink" title="首先感谢@imsun大神的插件Gitment"></a>首先感谢<a href="https://github.com/imsun" target="_blank" rel="noopener">@imsun</a>大神的插件<a href="https://imsun.github.io/gitment/" target="_blank" rel="noopener">Gitment</a></h3><a id="more"></a><p>插件本身默认支持英文，所以我下载了源码进行一部分改造。以下是源码：<a href="yqwoe.space/yqwoe.github.io/static/js/gitment.js">giment.js</a> 、 <a href="yqwoe.space/yqwoe.github.io/static/css/gitment.css">giement.css</a></p><p>下边是操作步骤，不是技术同学先参考一下<a href="https://imsun.github.io/gitment/" target="_blank" rel="noopener">Gitment Demo Page</a> 再进行操作。</p><ul><li><a href="https://www.jekyll.com.cn/docs/home/" target="_blank" rel="noopener">Jekyll 教程</a></li><li><a href="https://github.com/imsun/gitment" target="_blank" rel="noopener">Gitment Readme</a></li></ul><h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><h4 id="1-注册-OAuth-Application"><a href="#1-注册-OAuth-Application" class="headerlink" title="1. 注册 OAuth Application"></a>1. 注册 OAuth Application</h4><p><a href="https://github.com/settings/applications/new" target="_blank" rel="noopener">New OAuth</a> ，填写内容时候确保 callback URL 与你的博客地址域名一致。</p><h4 id="2-引入-js、css-到文章页面"><a href="#2-引入-js、css-到文章页面" class="headerlink" title="2.引入 js、css 到文章页面"></a>2.引入 js、css 到文章页面</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;container&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;yqwoe.space&#x2F;yqwoe.github.io&#x2F;static&#x2F;css&#x2F;gitment.css&quot;&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;yqwoe.space&#x2F;yqwoe.github.io&#x2F;static&#x2F;js&#x2F;gitment.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;**</span><br><span class="line">*第一个坑，默认id是填入完整的url，而issue的label长度限制为50，所以url必然会超长。</span><br><span class="line">*&#x2F;</span><br><span class="line">var paths &#x3D; location.pathname.split(&#39;&#x2F;&#39;)</span><br><span class="line">var id &#x3D; decodeURI(paths[paths.length - 1 ]))</span><br><span class="line">var gitment &#x3D; new Gitment(&#123;</span><br><span class="line">  id: id, &#x2F;&#x2F; 必填，不然评论信息不会加载成功！</span><br><span class="line">  owner: &#39;你的 GitHub ID&#39;,</span><br><span class="line">  repo: &#39;存储评论的 repo&#39;,</span><br><span class="line">  oauth: &#123;</span><br><span class="line">    client_id: &#39;你注册 OAuth 的 client ID&#39;,</span><br><span class="line">    client_secret: &#39;你注册 OAuth 的 client secret&#39;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">gitment.render(&#39;container&#39;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h4 id="3-初始化评论"><a href="#3-初始化评论" class="headerlink" title="3. 初始化评论"></a>3. 初始化评论</h4><p>页面发布后，你需要访问页面并使用你的 GitHub 账号登录（请确保你的账号是第二步所填 repo 的 owner），点击初始化按钮。</p><h4 id="敲黑板，下一篇博客会介绍-《Jekyll-Admin-插件的使用方法》和一些填坑技巧。"><a href="#敲黑板，下一篇博客会介绍-《Jekyll-Admin-插件的使用方法》和一些填坑技巧。" class="headerlink" title="敲黑板，下一篇博客会介绍 《Jekyll-Admin 插件的使用方法》和一些填坑技巧。"></a>敲黑板，下一篇博客会介绍 《<strong>Jekyll-Admin 插件的使用方法</strong>》和一些填坑技巧。</h4><p>我的博客评论功能目前只支持全球最大<del>同性</del>交友网站<a href="github.com/yqwoe">Github</a>的账号，以后会慢慢扩展。<br>以上是我的分享，谢谢！！</p>]]></content>
    
    <summary type="html">
    
      插件本身默认支持英文，所以我下载了源码进行一部分改造。以下是源码：[giment.js](yqwoe.space/yqwoe.github.io/static/js/gitment.js)
    
    </summary>
    
    
      <category term="Jekyll" scheme="https://rm-rf.one/categories/Jekyll/"/>
    
    
      <category term="技巧" scheme="https://rm-rf.one/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="gitment" scheme="https://rm-rf.one/tags/gitment/"/>
    
      <category term="git" scheme="https://rm-rf.one/tags/git/"/>
    
      <category term="Jekyll" scheme="https://rm-rf.one/tags/Jekyll/"/>
    
  </entry>
  
  <entry>
    <title>第一篇博客</title>
    <link href="https://rm-rf.one/2018/05/30/2018-05-30-%E7%94%9F%E6%B4%BB-%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
    <id>https://rm-rf.one/2018/05/30/2018-05-30-%E7%94%9F%E6%B4%BB-%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</id>
    <published>2018-05-29T16:00:00.000Z</published>
    <updated>2020-03-24T06:53:19.969Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><strong>今天是 2018 年 05 月 30 日，2015 年的昨天是我们第一次见面，今天是我们第一次看电影,我们的所有日子都记得，宝宝是 2017 年 12 月 22 日 早上 05:15 分 出生</strong>。</p><p>一生中有很多重要时刻，而能让你清晰的记得的，只有几个 — <strong>成人礼、成家、生子</strong>。</p><a id="more"></a><p><img src="/images/2I3A3839.JPG" alt="2I3A3839"></p><p>距离辞职已经一个月了，那是做了很长的时间斗争，在五月的一个早晨做的决定。每天早出晚归，早上孩子没有睡醒我就爬起来上班，晚上孩子睡着了，我才到家。那段时间我只要抱他就会哭，所以就决定在家里多<del>陪陪</del>他们母子俩。</p><p>作为<strong>新手</strong><del>自由职业者</del>，也有一个月时间了，这段时间我的<strong>作息</strong>及其不<del>规律</del>，很多次夜里 12 点之后睡觉，早上 10 点起床。<strong>不建议自律性比较差的同学从事自由职业。</strong></p><p>这是我的第一篇博客，上一次写不记得是什么时候了,还没有组织好语言要说些什么，下边我就引用一下 Bob Dylan 的 《<strong>犹如滚石</strong>》，像一颗滚石一样<strong>顽强</strong>的活着吧！！！！</p><hr><blockquote><h5 id="《Like-a-Rolling-Stone》"><a href="#《Like-a-Rolling-Stone》" class="headerlink" title="《Like a Rolling Stone》"></a>《Like a Rolling Stone》</h5><p>作词 : Dylan</p><p>Once upon a time you dressed so fine</p><p>Threw bums a dime in your prime,</p><p>随手抛给路边潦倒不堪的乞丐几个小钱，</p><p>didn’t you?</p><p>对不？</p><p>People’d call say, Beware doll,</p><p>人们屡屡良言相劝:”成熟点小丫头，你早晚得明白什么叫风水轮流转”</p><p>You thought they were all</p><p>而你只当他们</p><p>kidding you</p><p>存心嘲弄视若不见</p><p>You used to laugh about</p><p>你总是肆意嗤笑着毫不掩饰自己的优越感</p><p>Everybody that was hangin’ out</p><p>那些落魄人儿游荡飘零在外</p><p>Now you don’t talk so loud</p><p>你那些高谈阔论怎么收起来了？</p><p>Now you don’t seem so proud</p><p>你那高贵的头颅怎么低下去了？</p><p>About having to be scrounging your next meal</p><p>只因今天的你已三餐不继，衣食无着，为寻生计迫不得已四处奔波。</p><p>How does it feel, how does it feel?</p><p>这滋味如何？ 这滋味如何？</p><p>To be without a home</p><p>你孑身独行 找不到回家的方向</p><p>Like a complete unknown, like a rolling stone</p><p>完全没有人知道你颠沛流离一如滚石</p><p>You’ve gone to the finest schools,</p><p>你考上了一所名牌校</p><p>but you know you only used to</p><p>可你也清楚</p><p>alright miss lonely</p><p>你除了被榨干的灵魂外</p><p>get juiced in it</p><p>一无所获</p><p>Nobody’s ever taught you</p><p>你从不曾想过</p><p>how to live out on the street</p><p>真实的底层社会该是怎般图景</p><p>And now you’re gonna have to get used to it</p><p>如今你为了讨生活已不得不学着去直面污浊与残缺</p><p>You say you never compromise</p><p>你曾经说，你永不妥协</p><p>With the mystery tramp, but now you realize</p><p>但面对那位神秘的流浪者，现在你已明白</p><p>He’s not selling any alibies</p><p>他可不会跟你卖关子故作姿态</p><p>As you stare into the vacuum of his eyes</p><p>你只得强忍厌恶望向他空洞无物的瞳眸，问道</p><p>And say do you want to make a deal</p><p>用最卑下的口吻问他要不要做笔买卖</p><p>How does it feel, how does it feel</p><p>这滋味如何？这滋味如何？</p><p>To be on your own,With no direction home</p><p>你孑身独行找不到回家的方向</p><p>a complete unknown, like a rolling stone</p><p>完全没有人知道你颠沛流离一如滚石</p><p>Oh, you never turned around to see the frowns</p><p>你从未注意过那些魔术师和小丑们</p><p>On the jumpers and the clowns</p><p>笑容中藏着双眉紧蹙</p><p>when they did their tricks for you</p><p>他们极尽卑下变着花样不过为了取悦于你</p><p>You never understood that it ain’t no good</p><p>你从来不明白那样不对</p><p>You shouldn’t let other people</p><p>你让别人</p><p>get your kicks for you</p><p>替你受苦受难你还颇以为乐</p><p>You used to ride on your chrome horse</p><p>你那位跨着哈雷机车带你兜风的花花公子</p><p>Who carried on his shoulder a siamese cat</p><p>肩头还安伏着一只华贵的暹罗猫</p><p>Ain’t it hard when you discovered that</p><p>而当你一朝醒悟</p><p>He really wasn’t where it’s at</p><p>他并非你心所渴求</p><p>After he took from you</p><p>却发现他已携着</p><p>everything he could steal</p><p>你所有的一切飘然远遁</p><p>How does it feel, how does it feel?</p><p>这滋味如何？这滋味如何？</p><p>To be on your own, With no direction home</p><p>你孑身独行 找不到回家的方向</p><p>Like a complete unknown, like a rolling stone</p><p>完全没有人知道你颠沛流离一如滚石</p><p>Princess on a steeple</p><p>幽居高塔的公主</p><p>and all the pretty people</p><p>和所有那些优雅体面的上层人士</p><p>They’re all drinking,</p><p>整日里狂饮，</p><p>thinking that they’ve got it made</p><p>以为他们已经成功</p><p>Exchanging all precious gifts</p><p>他们交换著各种珍贵的玩意和礼物</p><p>You better take your diamond ring,</p><p>可是你最好脱下那只钻石戒指</p><p>you better pawn it babe</p><p>当掉它吧，宝贝</p><p>You used to be so amused</p><p>你过去不是觉得很有趣吗？</p><p>At Napoleon in rags</p><p>对于那满面风尘</p><p>and the language that he used</p><p>用语鄙俗的流浪汉</p><p>Go to him he calls you, you can’t refuse</p><p>现在，到他那儿去吧。而今召唤声中你向他走去这一切不由你自主</p><p>When you ain’t got nothing,</p><p>当你一无所有，</p><p>you got nothing to loose</p><p>你也就再没什么可失去</p><p>You’re invisible now,</p><p>现在你周身透明</p><p>you’ve got not secret to conceal</p><p>再藏不住一丝秘密。</p><p>How does it feel, how does it feel?</p><p>这滋味如何？这滋味如何？</p><p>To be on your own, With no direction home</p><p>你孑身独行 找不到回家的方向</p><p>Like a complete unknown, like a rolling stone</p><p>完全没有人知道你颠沛流离一如滚石</p></blockquote><embed src="http://dl.stream.qqmusic.qq.com/C400003dcpAx3m6OM1.m4a?vkey=D142AEB05AAA6506B86F32ABAFCDCC88DFE1E924CA52C3E5098E9C989B3056240302A2B466C7A1A9ADEEF1A234834ADB0E43660F7E22B22E&guid=6280129848&uin=470510471&fromtag=66" height="0" width="0" loop="true" autostart="true">]]></content>
    
    <summary type="html">
    
      今天是2018年05月30日，2015年的昨天是我们第一次见面，今天是我们第一次看电影,我们的所有日子都记得，宝宝是2017年12月22日 早上05:15分 出生。
    
    </summary>
    
    
      <category term="生活" scheme="https://rm-rf.one/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="生活" scheme="https://rm-rf.one/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="重要时刻" scheme="https://rm-rf.one/tags/%E9%87%8D%E8%A6%81%E6%97%B6%E5%88%BB/"/>
    
      <category term="心情" scheme="https://rm-rf.one/tags/%E5%BF%83%E6%83%85/"/>
    
      <category term="Like a Rolling Stone" scheme="https://rm-rf.one/tags/Like-a-Rolling-Stone/"/>
    
      <category term="Bob Dylan" scheme="https://rm-rf.one/tags/Bob-Dylan/"/>
    
  </entry>
  
</feed>
