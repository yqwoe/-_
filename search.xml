<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>第一篇博客</title>
    <url>/2018/05/30/2018-05-30-%E7%94%9F%E6%B4%BB-%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><strong>今天是 2018 年 05 月 30 日，2015 年的昨天是我们第一次见面，今天是我们第一次看电影,我们的所有日子都记得，宝宝是 2017 年 12 月 22 日 早上 05:15 分 出生</strong>。</p>
<p>一生中有很多重要时刻，而能让你清晰的记得的，只有几个 — <strong>成人礼、成家、生子</strong>。</p>
<a id="more"></a>

<p><img src="/images/2I3A3839.JPG" alt="2I3A3839"></p>
<p>距离辞职已经一个月了，那是做了很长的时间斗争，在五月的一个早晨做的决定。每天早出晚归，早上孩子没有睡醒我就爬起来上班，晚上孩子睡着了，我才到家。那段时间我只要抱他就会哭，所以就决定在家里多<del>陪陪</del>他们母子俩。</p>
<p>作为<strong>新手</strong><del>自由职业者</del>，也有一个月时间了，这段时间我的<strong>作息</strong>及其不<del>规律</del>，很多次夜里 12 点之后睡觉，早上 10 点起床。<strong>不建议自律性比较差的同学从事自由职业。</strong></p>
<p>这是我的第一篇博客，上一次写不记得是什么时候了,还没有组织好语言要说些什么，下边我就引用一下 Bob Dylan 的 《<strong>犹如滚石</strong>》，像一颗滚石一样<strong>顽强</strong>的活着吧！！！！</p>
<hr>
<blockquote>
<h5 id="《Like-a-Rolling-Stone》"><a href="#《Like-a-Rolling-Stone》" class="headerlink" title="《Like a Rolling Stone》"></a>《Like a Rolling Stone》</h5><p>作词 : Dylan</p>
<p>Once upon a time you dressed so fine</p>
<p>Threw bums a dime in your prime,</p>
<p>随手抛给路边潦倒不堪的乞丐几个小钱，</p>
<p>didn’t you?</p>
<p>对不？</p>
<p>People’d call say, Beware doll,</p>
<p>人们屡屡良言相劝:”成熟点小丫头，你早晚得明白什么叫风水轮流转”</p>
<p>You thought they were all</p>
<p>而你只当他们</p>
<p>kidding you</p>
<p>存心嘲弄视若不见</p>
<p>You used to laugh about</p>
<p>你总是肆意嗤笑着毫不掩饰自己的优越感</p>
<p>Everybody that was hangin’ out</p>
<p>那些落魄人儿游荡飘零在外</p>
<p>Now you don’t talk so loud</p>
<p>你那些高谈阔论怎么收起来了？</p>
<p>Now you don’t seem so proud</p>
<p>你那高贵的头颅怎么低下去了？</p>
<p>About having to be scrounging your next meal</p>
<p>只因今天的你已三餐不继，衣食无着，为寻生计迫不得已四处奔波。</p>
<p>How does it feel, how does it feel?</p>
<p>这滋味如何？ 这滋味如何？</p>
<p>To be without a home</p>
<p>你孑身独行 找不到回家的方向</p>
<p>Like a complete unknown, like a rolling stone</p>
<p>完全没有人知道你颠沛流离一如滚石</p>
<p>You’ve gone to the finest schools,</p>
<p>你考上了一所名牌校</p>
<p>but you know you only used to</p>
<p>可你也清楚</p>
<p>alright miss lonely</p>
<p>你除了被榨干的灵魂外</p>
<p>get juiced in it</p>
<p>一无所获</p>
<p>Nobody’s ever taught you</p>
<p>你从不曾想过</p>
<p>how to live out on the street</p>
<p>真实的底层社会该是怎般图景</p>
<p>And now you’re gonna have to get used to it</p>
<p>如今你为了讨生活已不得不学着去直面污浊与残缺</p>
<p>You say you never compromise</p>
<p>你曾经说，你永不妥协</p>
<p>With the mystery tramp, but now you realize</p>
<p>但面对那位神秘的流浪者，现在你已明白</p>
<p>He’s not selling any alibies</p>
<p>他可不会跟你卖关子故作姿态</p>
<p>As you stare into the vacuum of his eyes</p>
<p>你只得强忍厌恶望向他空洞无物的瞳眸，问道</p>
<p>And say do you want to make a deal</p>
<p>用最卑下的口吻问他要不要做笔买卖</p>
<p>How does it feel, how does it feel</p>
<p>这滋味如何？这滋味如何？</p>
<p>To be on your own,With no direction home</p>
<p>你孑身独行找不到回家的方向</p>
<p>a complete unknown, like a rolling stone</p>
<p>完全没有人知道你颠沛流离一如滚石</p>
<p>Oh, you never turned around to see the frowns</p>
<p>你从未注意过那些魔术师和小丑们</p>
<p>On the jumpers and the clowns</p>
<p>笑容中藏着双眉紧蹙</p>
<p>when they did their tricks for you</p>
<p>他们极尽卑下变着花样不过为了取悦于你</p>
<p>You never understood that it ain’t no good</p>
<p>你从来不明白那样不对</p>
<p>You shouldn’t let other people</p>
<p>你让别人</p>
<p>get your kicks for you</p>
<p>替你受苦受难你还颇以为乐</p>
<p>You used to ride on your chrome horse</p>
<p>你那位跨着哈雷机车带你兜风的花花公子</p>
<p>Who carried on his shoulder a siamese cat</p>
<p>肩头还安伏着一只华贵的暹罗猫</p>
<p>Ain’t it hard when you discovered that</p>
<p>而当你一朝醒悟</p>
<p>He really wasn’t where it’s at</p>
<p>他并非你心所渴求</p>
<p>After he took from you</p>
<p>却发现他已携着</p>
<p>everything he could steal</p>
<p>你所有的一切飘然远遁</p>
<p>How does it feel, how does it feel?</p>
<p>这滋味如何？这滋味如何？</p>
<p>To be on your own, With no direction home</p>
<p>你孑身独行 找不到回家的方向</p>
<p>Like a complete unknown, like a rolling stone</p>
<p>完全没有人知道你颠沛流离一如滚石</p>
<p>Princess on a steeple</p>
<p>幽居高塔的公主</p>
<p>and all the pretty people</p>
<p>和所有那些优雅体面的上层人士</p>
<p>They’re all drinking,</p>
<p>整日里狂饮，</p>
<p>thinking that they’ve got it made</p>
<p>以为他们已经成功</p>
<p>Exchanging all precious gifts</p>
<p>他们交换著各种珍贵的玩意和礼物</p>
<p>You better take your diamond ring,</p>
<p>可是你最好脱下那只钻石戒指</p>
<p>you better pawn it babe</p>
<p>当掉它吧，宝贝</p>
<p>You used to be so amused</p>
<p>你过去不是觉得很有趣吗？</p>
<p>At Napoleon in rags</p>
<p>对于那满面风尘</p>
<p>and the language that he used</p>
<p>用语鄙俗的流浪汉</p>
<p>Go to him he calls you, you can’t refuse</p>
<p>现在，到他那儿去吧。而今召唤声中你向他走去这一切不由你自主</p>
<p>When you ain’t got nothing,</p>
<p>当你一无所有，</p>
<p>you got nothing to loose</p>
<p>你也就再没什么可失去</p>
<p>You’re invisible now,</p>
<p>现在你周身透明</p>
<p>you’ve got not secret to conceal</p>
<p>再藏不住一丝秘密。</p>
<p>How does it feel, how does it feel?</p>
<p>这滋味如何？这滋味如何？</p>
<p>To be on your own, With no direction home</p>
<p>你孑身独行 找不到回家的方向</p>
<p>Like a complete unknown, like a rolling stone</p>
<p>完全没有人知道你颠沛流离一如滚石</p>
</blockquote>
<embed src="http://dl.stream.qqmusic.qq.com/C400003dcpAx3m6OM1.m4a?vkey=D142AEB05AAA6506B86F32ABAFCDCC88DFE1E924CA52C3E5098E9C989B3056240302A2B466C7A1A9ADEEF1A234834ADB0E43660F7E22B22E&guid=6280129848&uin=470510471&fromtag=66" height="0" width="0" loop="true" autostart="true">
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>生活</tag>
        <tag>重要时刻</tag>
        <tag>心情</tag>
        <tag>Like a Rolling Stone</tag>
        <tag>Bob Dylan</tag>
      </tags>
  </entry>
  <entry>
    <title>给博客增加评论功能</title>
    <url>/2018/05/31/2018-05-31-%E6%8A%80%E5%B7%A7-%E7%BB%99%E5%8D%9A%E5%AE%A2%E5%A2%9E%E5%8A%A0%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="首先感谢-imsun大神的插件Gitment"><a href="#首先感谢-imsun大神的插件Gitment" class="headerlink" title="首先感谢@imsun大神的插件Gitment"></a>首先感谢<a href="https://github.com/imsun" target="_blank" rel="noopener">@imsun</a>大神的插件<a href="https://imsun.github.io/gitment/" target="_blank" rel="noopener">Gitment</a></h3><a id="more"></a>

<p>插件本身默认支持英文，所以我下载了源码进行一部分改造。以下是源码：<a href="yqwoe.space/yqwoe.github.io/static/js/gitment.js">giment.js</a> 、 <a href="yqwoe.space/yqwoe.github.io/static/css/gitment.css">giement.css</a></p>
<p>下边是操作步骤，不是技术同学先参考一下<a href="https://imsun.github.io/gitment/" target="_blank" rel="noopener">Gitment Demo Page</a> 再进行操作。</p>
<ul>
<li><a href="https://www.jekyll.com.cn/docs/home/" target="_blank" rel="noopener">Jekyll 教程</a></li>
<li><a href="https://github.com/imsun/gitment" target="_blank" rel="noopener">Gitment Readme</a></li>
</ul>
<h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><h4 id="1-注册-OAuth-Application"><a href="#1-注册-OAuth-Application" class="headerlink" title="1. 注册 OAuth Application"></a>1. 注册 OAuth Application</h4><p><a href="https://github.com/settings/applications/new" target="_blank" rel="noopener">New OAuth</a> ，填写内容时候确保 callback URL 与你的博客地址域名一致。</p>
<h4 id="2-引入-js、css-到文章页面"><a href="#2-引入-js、css-到文章页面" class="headerlink" title="2.引入 js、css 到文章页面"></a>2.引入 js、css 到文章页面</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;container&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;yqwoe.space&#x2F;yqwoe.github.io&#x2F;static&#x2F;css&#x2F;gitment.css&quot;&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;yqwoe.space&#x2F;yqwoe.github.io&#x2F;static&#x2F;js&#x2F;gitment.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;**</span><br><span class="line">*第一个坑，默认id是填入完整的url，而issue的label长度限制为50，所以url必然会超长。</span><br><span class="line">*&#x2F;</span><br><span class="line">var paths &#x3D; location.pathname.split(&#39;&#x2F;&#39;)</span><br><span class="line">var id &#x3D; decodeURI(paths[paths.length - 1 ]))</span><br><span class="line">var gitment &#x3D; new Gitment(&#123;</span><br><span class="line">  id: id, &#x2F;&#x2F; 必填，不然评论信息不会加载成功！</span><br><span class="line">  owner: &#39;你的 GitHub ID&#39;,</span><br><span class="line">  repo: &#39;存储评论的 repo&#39;,</span><br><span class="line">  oauth: &#123;</span><br><span class="line">    client_id: &#39;你注册 OAuth 的 client ID&#39;,</span><br><span class="line">    client_secret: &#39;你注册 OAuth 的 client secret&#39;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">gitment.render(&#39;container&#39;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-初始化评论"><a href="#3-初始化评论" class="headerlink" title="3. 初始化评论"></a>3. 初始化评论</h4><p>页面发布后，你需要访问页面并使用你的 GitHub 账号登录（请确保你的账号是第二步所填 repo 的 owner），点击初始化按钮。</p>
<h4 id="敲黑板，下一篇博客会介绍-《Jekyll-Admin-插件的使用方法》和一些填坑技巧。"><a href="#敲黑板，下一篇博客会介绍-《Jekyll-Admin-插件的使用方法》和一些填坑技巧。" class="headerlink" title="敲黑板，下一篇博客会介绍 《Jekyll-Admin 插件的使用方法》和一些填坑技巧。"></a>敲黑板，下一篇博客会介绍 《<strong>Jekyll-Admin 插件的使用方法</strong>》和一些填坑技巧。</h4><p>我的博客评论功能目前只支持全球最大<del>同性</del>交友网站<a href="github.com/yqwoe">Github</a>的账号，以后会慢慢扩展。<br>以上是我的分享，谢谢！！</p>
]]></content>
      <categories>
        <category>Jekyll</category>
      </categories>
      <tags>
        <tag>技巧</tag>
        <tag>gitment</tag>
        <tag>git</tag>
        <tag>Jekyll</tag>
      </tags>
  </entry>
  <entry>
    <title>过六一的&quot;儿童&quot;们</title>
    <url>/2018/06/01/2018-06-01-%E7%94%9F%E6%B4%BB-%E8%BF%87%E5%85%AD%E4%B8%80%E7%9A%84%E2%80%9D%E5%84%BF%E7%AB%A5%E2%80%9C%E4%BB%AC/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<h5 id="今天是六一儿童节，早早的起床给儿子去打疫苗，这对于小家伙来说应该是无比痛苦的吧。不过，比起热更痛苦的应该是挨上一针，和看着小家伙挨针的心情！！！"><a href="#今天是六一儿童节，早早的起床给儿子去打疫苗，这对于小家伙来说应该是无比痛苦的吧。不过，比起热更痛苦的应该是挨上一针，和看着小家伙挨针的心情！！！" class="headerlink" title="今天是六一儿童节，早早的起床给儿子去打疫苗，这对于小家伙来说应该是无比痛苦的吧。不过，比起热更痛苦的应该是挨上一针，和看着小家伙挨针的心情！！！"></a><em>今天是六一儿童节，早早的起床给儿子去打疫苗，这对于小家伙来说应该是无比痛苦的吧。不过，比起热更痛苦的应该是挨上一针，和看着小家伙挨针的心情！！！</em></h5></blockquote>
<a id="more"></a>

<blockquote>
<p>刚才我俩因为给孩子换尿不湿又拌了一次嘴，我想这大概和天气有关系，也和这个日子不太贴合，黄历上说：今天忌老成，得耍点小脾气。</p>
</blockquote>
<p><img src="/images/WechatIMG80.jpeg" alt="WechatIMG80"></p>
<blockquote>
<p>我们时常会羡慕别人，为什么自己不是幸运的大多数，偏偏自己就是最不幸的。可是往往我们忽略了，如果幸运降临的时候，你真的能接住吗？<br>每次当我有”我不是幸运的大多数”这种想法的时候，我就会怀疑一切。我大概活成了插图一样的命运。</p>
</blockquote>
<p><img src="/images/WechatIMG81.jpeg" alt="WechatIMG81"></p>
<blockquote>
<p>我的儿子叫冬冬，今天是五个月十天了。不瞒你们说，我和老婆都有过”<del>是冬冬毁掉了我的生活</del>“这样的想法。很长一段时间夜里没有好好睡过觉，做梦都是围绕着冬冬的情节，电影、美食、逛街…就是看个电视都是奢侈的。<br>每天要看着他拉的屎下饭，颜色不正会直接导致你吃不下饭，如果是拉稀你就别想着吃饭了。<br>说话要小声，走路要小声，就连呼吸都要思考着呼吸，”这样呼吸对吗？我是不是不该这样呼吸？”</p>
<h1 id="“W-T-F-”"><a href="#“W-T-F-”" class="headerlink" title="“W T F !!!!!!!”"></a><del><em>“W T F !!!!!!!”</em></del></h1><h1 id="“完了完了完了！！！”"><a href="#“完了完了完了！！！”" class="headerlink" title="“完了完了完了！！！”"></a><del><em>“完了完了完了！！！”</em></del></h1><h1 id="“我的生活是不是就这样了？”"><a href="#“我的生活是不是就这样了？”" class="headerlink" title="“我的生活是不是就这样了？”"></a><del><em>“我的生活是不是就这样了？”</em></del></h1><p>不是的，其实也有快乐的部分，每天早晨冬冬会冲着我们笑，看到漂亮的小妹妹小姐姐会笑，像天使一样，给了我们生活下去的勇气,</p>
<p>如果因此你更加坚定做一个丁克。如果因此你害怕要孩子，那我只能祝福你们，<del>你们是对的！！！！</del> 你们还只是孩子。</p>
<p>写完我也准备开始一天的<em>工作</em> 了，六一节快乐！</p>
</blockquote>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>六一</tag>
        <tag>巨婴</tag>
        <tag>孩子</tag>
      </tags>
  </entry>
  <entry>
    <title>一次ios网页样式问题排查心路历程</title>
    <url>/2018/06/02/2018-06-02-%20%E5%89%8D%E7%AB%AF-%E4%B8%80%E6%AC%A1ios%E7%BD%91%E9%A1%B5%E6%A0%B7%E5%BC%8F%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h4 id="我的开发环境：Macbook-pro-、iphone-手机端页面使用-vue、scss。本次出现的问题是一个-css-样式在-iphone-手机端无法正常显示。"><a href="#我的开发环境：Macbook-pro-、iphone-手机端页面使用-vue、scss。本次出现的问题是一个-css-样式在-iphone-手机端无法正常显示。" class="headerlink" title="我的开发环境：Macbook pro 、iphone,手机端页面使用 vue、scss。本次出现的问题是一个 css 样式在 iphone 手机端无法正常显示。"></a>我的开发环境：Macbook pro 、iphone,手机端页面使用 vue、scss。本次出现的问题是一个 css 样式在 iphone 手机端无法正常显示。</h4><a id="more"></a>

<p>大概是这样：</p>
<p><img src="/images/WechatIMG86.jpeg" alt="WechatIMG86"></p>
<p>选中的区域无法正常显示。</p>
<h4 id="准备调试环境："><a href="#准备调试环境：" class="headerlink" title="准备调试环境："></a>准备调试环境：</h4><h5 id="1-打开-sifari-的开发模式。"><a href="#1-打开-sifari-的开发模式。" class="headerlink" title="1.打开 sifari 的开发模式。"></a>1.打开 sifari 的开发模式。</h5><p><img src="/images/1527947682461.jpg" alt="1527947682461"></p>
<h5 id="2-手机-sifari-打开调试模式"><a href="#2-手机-sifari-打开调试模式" class="headerlink" title="2.手机 sifari 打开调试模式"></a>2.手机 sifari 打开调试模式</h5><p><img src="/images/WechatIMG87.jpeg" alt="WechatIMG87"></p>
<h5 id="3-手机连接电脑"><a href="#3-手机连接电脑" class="headerlink" title="3.手机连接电脑"></a>3.手机连接电脑</h5><p><img src="/images/1527947709241.jpg" alt="1527947709241"></p>
<h5 id="勾选上图的-ip-地址自动会弹出开发者窗口。接下来你就可以尽情的撒野了。"><a href="#勾选上图的-ip-地址自动会弹出开发者窗口。接下来你就可以尽情的撒野了。" class="headerlink" title="勾选上图的 ip 地址自动会弹出开发者窗口。接下来你就可以尽情的撒野了。"></a>勾选上图的 ip 地址自动会弹出开发者窗口。接下来你就可以尽情的撒野了。</h5><h4 id="正经话题，我是如何找到问题并解决的。"><a href="#正经话题，我是如何找到问题并解决的。" class="headerlink" title="正经话题，我是如何找到问题并解决的。"></a>正经话题，我是如何找到问题并解决的。</h4><p>#####调试窗口大概长这样，找到你要排错的 div 选中，然后，一个个勾选右侧样式，看是否存在冲突或失效的样式。</p>
<p><img src="/images/1527950086573.jpg" alt="1527950086573"></p>
<h5 id="最后锁定"><a href="#最后锁定" class="headerlink" title="最后锁定"></a>最后锁定</h5><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-overflow-scrolling</span>: touch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="webkit-overflow-scrolling-属性控制元素在移动设备上是否使用滚动回弹效果"><a href="#webkit-overflow-scrolling-属性控制元素在移动设备上是否使用滚动回弹效果" class="headerlink" title="-webkit-overflow-scrolling 属性控制元素在移动设备上是否使用滚动回弹效果."></a>-webkit-overflow-scrolling 属性控制元素在移动设备上是否使用滚动回弹效果.</h5><h5 id="auto-使用普通滚动-当手指从触摸屏上移开，滚动会立即停止。"><a href="#auto-使用普通滚动-当手指从触摸屏上移开，滚动会立即停止。" class="headerlink" title="auto: 使用普通滚动, 当手指从触摸屏上移开，滚动会立即停止。"></a>auto: 使用普通滚动, 当手指从触摸屏上移开，滚动会立即停止。</h5><h5 id="touch-使用具有回弹效果的滚动-当手指从触摸屏上移开，内容会继续保持一段时间的滚动效果。继续滚动的速度和持续的时间和滚动手势的强烈程度成正比。同时也会创建一个新的堆栈上下文。"><a href="#touch-使用具有回弹效果的滚动-当手指从触摸屏上移开，内容会继续保持一段时间的滚动效果。继续滚动的速度和持续的时间和滚动手势的强烈程度成正比。同时也会创建一个新的堆栈上下文。" class="headerlink" title="touch: 使用具有回弹效果的滚动, 当手指从触摸屏上移开，内容会继续保持一段时间的滚动效果。继续滚动的速度和持续的时间和滚动手势的强烈程度成正比。同时也会创建一个新的堆栈上下文。"></a>touch: 使用具有回弹效果的滚动, 当手指从触摸屏上移开，内容会继续保持一段时间的滚动效果。继续滚动的速度和持续的时间和滚动手势的强烈程度成正比。同时也会创建一个新的堆栈上下文。</h5><h5 id="最常见的例子就是，"><a href="#最常见的例子就是，" class="headerlink" title="最常见的例子就是，"></a>最常见的例子就是，</h5><h5 id="在-safari-上，使用了-webkit-overflow-scrolling-touch-之后，页面偶尔会卡住不动。"><a href="#在-safari-上，使用了-webkit-overflow-scrolling-touch-之后，页面偶尔会卡住不动。" class="headerlink" title="在 safari 上，使用了-webkit-overflow-scrolling:touch 之后，页面偶尔会卡住不动。"></a>在 safari 上，使用了-webkit-overflow-scrolling:touch 之后，页面偶尔会卡住不动。</h5><h5 id="在-safari-上，点击其他区域，再在滚动区域滑动，滚动条无法滚动的-bug。"><a href="#在-safari-上，点击其他区域，再在滚动区域滑动，滚动条无法滚动的-bug。" class="headerlink" title="在 safari 上，点击其他区域，再在滚动区域滑动，滚动条无法滚动的 bug。"></a>在 safari 上，点击其他区域，再在滚动区域滑动，滚动条无法滚动的 bug。</h5><h5 id="通过动态添加内容撑开容器，结果根本不能滑动的-bug。"><a href="#通过动态添加内容撑开容器，结果根本不能滑动的-bug。" class="headerlink" title="通过动态添加内容撑开容器，结果根本不能滑动的 bug。"></a>通过动态添加内容撑开容器，结果根本不能滑动的 bug。</h5><h5 id="最终无得解决方法是改成-auto，我还没有找到更完美解决的办法。"><a href="#最终无得解决方法是改成-auto，我还没有找到更完美解决的办法。" class="headerlink" title="最终无得解决方法是改成 auto，我还没有找到更完美解决的办法。"></a>最终无得解决方法是改成 auto，我还没有找到更完美解决的办法。</h5><h5 id="网上有很多关于-webkit-overflow-scrolling-ios-的问题，有兴趣的可以研究一下。不过我不建议研究，一研究估计小半年就过去了，也没有答案"><a href="#网上有很多关于-webkit-overflow-scrolling-ios-的问题，有兴趣的可以研究一下。不过我不建议研究，一研究估计小半年就过去了，也没有答案" class="headerlink" title="网上有很多关于 -webkit-overflow-scrolling + ios 的问题，有兴趣的可以研究一下。不过我不建议研究，一研究估计小半年就过去了，也没有答案"></a>网上有很多关于 -webkit-overflow-scrolling + ios 的问题，有兴趣的可以研究一下。<del>不过我不建议研究，一研究估计小半年就过去了，也没有答案</del></h5>]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>mac</tag>
        <tag>ios</tag>
        <tag>macbook pro</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>一次gogs采坑之旅</title>
    <url>/2018/06/03/2018-06-03-git-%E4%B8%80%E6%AC%A1gogs%E8%B8%A9%E5%9D%91%E4%B9%8B%E6%97%85/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>一定要按照操作步骤走</p>
<a id="more"></a>

<p>1.创建用户，一定要记住密码</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo adduser git</span><br><span class="line">su git</span><br><span class="line">cd ~</span><br></pre></td></tr></table></figure>

<p>2.下载并解压安装包</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;dl.gogs.io&#x2F;0.11.43&#x2F;gogs_0.11.43_linux_amd64.zip</span><br><span class="line">unzip gogs_0.11.43_linux_amd64.zip</span><br></pre></td></tr></table></figure>

<p>3.拷贝启动项到系统下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp &#x2F;home&#x2F;xx&#x2F;gogs&#x2F;scripts&#x2F;init&#x2F;debian&#x2F;gogs &#x2F;etc&#x2F;init.d&#x2F;</span><br><span class="line">chmod +x &#x2F;etc&#x2F;init.d&#x2F;gogs</span><br></pre></td></tr></table></figure>

<p>4.安装 mysql</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install mysql-server</span><br><span class="line">mysql -u root -p &lt; &#x2F;home&#x2F;xx&#x2F;gogs&#x2F;scripts&#x2F;mysql.sql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql -u root -p</span><br><span class="line">&gt; # （输入密码）</span><br><span class="line">&gt; create user &#39;gogs&#39;@&#39;localhost&#39; identified by &#39;密码&#39;;</span><br><span class="line">&gt; grant all privileges on gogs.* to &#39;gogs&#39;@&#39;localhost&#39;;</span><br><span class="line">&gt; flush privileges;</span><br><span class="line">&gt; exit;</span><br></pre></td></tr></table></figure>

<p>5.启动 gogs</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service gogs start</span><br><span class="line">curl -I http:&#x2F;&#x2F;localhost:3000  &#x3D;&gt; HTTP OK 200</span><br></pre></td></tr></table></figure>

<p>6.nginx 配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">      listen       80;</span><br><span class="line">      server_name  www.example.com;</span><br><span class="line">      location &#x2F; &#123;</span><br><span class="line">          proxy_pass http:&#x2F;&#x2F;localhost:3000&#x2F;;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>7.访问 <a href="http://www.example.com/install" target="_blank" rel="noopener">www.example.com/install</a> 进行初始化</p>
<p>8.你可能遇到的问题</p>
<p><a href="https://blog.csdn.net/u013710784/article/details/78778044" target="_blank" rel="noopener">Gogs 与 Linux 主机共享 SSH22 端口</a></p>
<p><a href="https://blog.csdn.net/bigsea622/article/details/53956786" target="_blank" rel="noopener">装 Gogs 后 ssh 无法和远程登录同时使用的解决方案</a></p>
]]></content>
      <categories>
        <category>服务器</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>aliyun</tag>
        <tag>阿里云</tag>
        <tag>gogs</tag>
        <tag>ubuntu 14.04</tag>
      </tags>
  </entry>
  <entry>
    <title>阿里云mysql外网访问</title>
    <url>/2018/06/05/2018-06-05-mysql-%E9%98%BF%E9%87%8C%E4%BA%91mysql%E5%A4%96%E7%BD%91%E8%AE%BF%E9%97%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>转载原文评论: <a href="https://segmentfault.com/q/1010000009603559?sort=created" target="_blank" rel="noopener">阿里云 ecs 上安装了 mysql 但是外网访问不了</a></p>
<a id="more"></a>

<p>1.阿里云 ECS 有安全组防火墙.默认只开了 ICMP,22,3389. 在服务器控制台找到 安全组-配置规则-添加安全组规则</p>
<p><img src="/images/1950746143-596a46107163e_articlex.png" alt="1950746143-596a46107163e_articlex"></p>
<p>2.如果是用 root 登录 MySQL,在登陆后 use mysql, user 表 root 对应的 localhost 改为%</p>
<p>3.mysql 默认只能自本机访问</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf</span><br><span class="line">#bind-address &#x3D; 127.0.0.1</span><br><span class="line"></span><br><span class="line">service mysql restart</span><br></pre></td></tr></table></figure>

<p>4.检查是不是在监听状态</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">netstat -ntpl |grep 3306</span><br></pre></td></tr></table></figure>

<p>5.防火墙是否对 mysql 端口限制,设置防火墙</p>
]]></content>
      <categories>
        <category>服务器</category>
      </categories>
      <tags>
        <tag>aliyun</tag>
        <tag>阿里云</tag>
        <tag>ubuntu 14.04</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>nginx支持ssl+acme.sh定时更新证书</title>
    <url>/2018/06/04/2018-06-04-nginx-acme.sh%20nginx%20ssl/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>不废话，直接进入实战。</p>
<a id="more"></a>

<p>1.安装 nginx</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install nginx</span><br></pre></td></tr></table></figure>

<p>2.配置 nginx</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;default</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  server_name example.com ;</span><br><span class="line">  return 301 https:&#x2F;&#x2F;example.com$request_uri;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">  listen 443 ssl;</span><br><span class="line"></span><br><span class="line">  server_name example.com;</span><br><span class="line"></span><br><span class="line">  ssl on;</span><br><span class="line">  ssl_certificate         &#x2F;var&#x2F;www&#x2F;ssl&#x2F;example.com.cer;</span><br><span class="line">  ssl_certificate_key     &#x2F;var&#x2F;www&#x2F;ssl&#x2F;example.com.key;</span><br><span class="line">  ssl_dhparam             &#x2F;var&#x2F;www&#x2F;ssl&#x2F;dhparam.pem;</span><br><span class="line">  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">  ssl_prefer_server_ciphers on;</span><br><span class="line">  ssl_ciphers EECDH+CHACHA20:EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:!MD5; #加密算法(CloudFlare 推荐的加密套件组)</span><br><span class="line">  ssl_session_timeout 5m; #客户端会话缓存时间</span><br><span class="line">  ssl_session_cache builtin:1000 shared:SSL:10m; #SSL 会话缓存类型和大小</span><br><span class="line"></span><br><span class="line">  root &#x2F;var&#x2F;www&#x2F;example&#x2F;current&#x2F;public;</span><br><span class="line">  access_log &#x2F;var&#x2F;www&#x2F;example&#x2F;current&#x2F;log&#x2F;nginx.access.log;</span><br><span class="line">  error_log &#x2F;var&#x2F;www&#x2F;example&#x2F;current&#x2F;log&#x2F;nginx.error.log info;</span><br><span class="line"></span><br><span class="line">  error_page 500 502 503 504 &#x2F;500.html;</span><br><span class="line">  client_max_body_size 10M;</span><br><span class="line">  keepalive_timeout 10;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.安装 acme.sh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl https:&#x2F;&#x2F;get.acme.sh | sh</span><br><span class="line">source ~&#x2F;.bashrc</span><br><span class="line">备注:如果本地创建了.bash_profie建议把此命令加入</span><br></pre></td></tr></table></figure>

<p>4.申请证书</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">acme.sh --issue -d example.com -w &#x2F;var&#x2F;www&#x2F;example&#x2F;current&#x2F;public</span><br><span class="line">备注: 命令中的目录一定是通过nginx 80端口能够访问到的位置。命令执行成功后证书会存放在 ~&#x2F;.acme.sh&#x2F;example.com&#x2F;</span><br></pre></td></tr></table></figure>

<p>5.设置证书，并重启 nginx</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">acme.sh --installcert -d example.com \</span><br><span class="line">               --keypath       &#x2F;var&#x2F;www&#x2F;ssl&#x2F;example.com.key  \</span><br><span class="line">               --fullchainpath &#x2F;var&#x2F;www&#x2F;ssl&#x2F;example.com.cer \</span><br><span class="line">               --reloadcmd     &quot;nginx -s reload&quot;</span><br></pre></td></tr></table></figure>

<p>6.生成 dhparam.pem 文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">openssl dhparam -out &#x2F;var&#x2F;www&#x2F;ssl&#x2F;dhparam.pem 2048</span><br><span class="line">备注：注意观察的话，证书和dhparam.pem的目录和nginx中是保持一致的。</span><br></pre></td></tr></table></figure>

<p>7.查看定时更换任务</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ crontab -l</span><br><span class="line">0 0 * * * &quot;&#x2F;home&#x2F;ubuntu&#x2F;.acme.sh&quot;&#x2F;acme.sh --cron --home &quot;&#x2F;home&#x2F;ubuntu&#x2F;.acme.sh&quot; &gt; &#x2F;dev&#x2F;null</span><br></pre></td></tr></table></figure>

<p>8.验证 acme.sh 定时更换任务</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">acme.sh --cron -f</span><br></pre></td></tr></table></figure>

<p>9.你可能遇到的问题</p>
<p><a href="https://ruby-china.org/topics/31983" target="_blank" rel="noopener">使用 acme.sh 给 Nginx 安装 Let’ s Encrypt 提供的免费 SSL 证书</a></p>
]]></content>
      <categories>
        <category>nginx</category>
      </categories>
      <tags>
        <tag>aliyun</tag>
        <tag>阿里云</tag>
        <tag>ubuntu 14.04</tag>
        <tag>nginx</tag>
        <tag>ssl</tag>
        <tag>acme.sh</tag>
      </tags>
  </entry>
  <entry>
    <title>生活计划</title>
    <url>/2018/07/28/2018-07-28-%E7%94%9F%E6%B4%BB-%E7%94%9F%E6%B4%BB%E8%AE%A1%E5%88%92/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>有段没有更新博客了，最近身体状态堪忧，加上忙碌，孩子生病，我也支气管炎，怎么吃药都不见好。<br>所以，我深刻的意识到有一个健康的身体太重要了。</p>
<a id="more"></a>

<p>以下是我近期的生活计划</p>
<table>
<thead>
<tr>
<th>时间</th>
<th>项目</th>
<th>时长</th>
</tr>
</thead>
<tbody><tr>
<td>06:00</td>
<td>山地车</td>
<td>2h</td>
</tr>
<tr>
<td>08:00</td>
<td>早饭 、洗漱</td>
<td>1h</td>
</tr>
<tr>
<td>09:00</td>
<td>工作时间</td>
<td>3h</td>
</tr>
<tr>
<td>12:00</td>
<td>午饭、午休</td>
<td>2h</td>
</tr>
<tr>
<td>14:00</td>
<td>工作时间</td>
<td>4h</td>
</tr>
<tr>
<td>18:00</td>
<td>遛娃、买菜、做饭</td>
<td>2h</td>
</tr>
<tr>
<td>20:00</td>
<td>孩子洗澡</td>
<td>1h</td>
</tr>
<tr>
<td>21:00</td>
<td>二人世界</td>
<td>2h</td>
</tr>
<tr>
<td>–</td>
<td>结束</td>
<td>14h</td>
</tr>
</tbody></table>
<p>饮食（待补充..）</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>山地车</tag>
        <tag>篮球</tag>
        <tag>羽毛球</tag>
        <tag>带孩子</tag>
      </tags>
  </entry>
  <entry>
    <title>程序员数学1</title>
    <url>/2018/10/06/2018-10-06-%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A61/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="学习列表"><a href="#学习列表" class="headerlink" title="学习列表:"></a>学习列表:</h2><a id="more"></a>
<h3 id="2-进制"><a href="#2-进制" class="headerlink" title="2 进制:"></a>2 进制:</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2503</span><br><span class="line">1251  余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line">625   余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line">312   余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line"></span><br><span class="line">156   余  0  &#x3D;&#x3D;&gt; 0</span><br><span class="line">78    余  0  &#x3D;&#x3D;&gt; 0</span><br><span class="line">39    余  0  &#x3D;&#x3D;&gt; 0</span><br><span class="line"></span><br><span class="line">19    余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line">9     余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line">4     余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line"></span><br><span class="line">2     余  0  &#x3D;&#x3D;&gt; 0</span><br><span class="line">1     余  0  &#x3D;&#x3D;&gt; 0</span><br><span class="line">0     余  1  &#x3D;&#x3D;&gt; 1</span><br><span class="line"></span><br><span class="line">111 000 111 001</span><br></pre></td></tr></table></figure>

<h3 id="指数"><a href="#指数" class="headerlink" title="指数:"></a>指数:</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">10 ** 3 &#x3D; 1000</span><br><span class="line">10 ** 2 &#x3D; 100 	 (1000 * 1&#x2F;10)</span><br><span class="line">10 ** 1 &#x3D; 10  	 (100 * 1&#x2F;10)</span><br><span class="line">10 ** 0 &#x3D; ？ 	 (10 * 1&#x2F;10)</span><br><span class="line">10 ** -1 &#x3D; (1&#x2F;10)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>指数每减 1，数字就变为原来的十分之一。</p>
</blockquote>
<blockquote>
<h2 id="指数法则"><a href="#指数法则" class="headerlink" title="指数法则:"></a>指数法则:</h2></blockquote>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">N ** a + N ** b &#x3D; N ** (a + b)      N &gt; 0</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="0-所起的作用"><a href="#0-所起的作用" class="headerlink" title="0 所起的作用:"></a>0 所起的作用:</h2><blockquote>
<h3 id="0-的作用-占位"><a href="#0-的作用-占位" class="headerlink" title="0 的作用: 占位"></a>0 的作用: 占位</h3></blockquote>
<blockquote>
<p>​ 2503 中 0 如果省略，那就变成 253.数值放生了变化，所以 0 不能省略。</p>
</blockquote>
<blockquote>
<p>##</p>
</blockquote>
]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>数学</tag>
        <tag>程序员</tag>
      </tags>
  </entry>
  <entry>
    <title>英语学习</title>
    <url>/2018/10/09/2018-10-09-%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>App: <code>duolinguo(多邻国)</code></p>
<a id="more"></a>
<p>你使用 Duolingo 的时候你不单单是在学外语，你还是个译者。Duolingo 里面还有一个 Strength（力量）的概念，所有学过的内容在一开始是满血状态的，但是随着时间流逝和你在其它相关练习犯错误，你的 strength 就会不断降低，这时候你就需要通过复习来保持满血状态，这就是我上面提到的，通过一个复习系统将学到的知识从短期记忆放到长期记忆里面，Duolingo 提供了一个非常科学有效的复习管理系统。</p>
<p>语法手册《无敌英语语法终身学习版(最新修订)》</p>
<p>待补充..</p>
]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>英语单词</tag>
        <tag>入门</tag>
      </tags>
  </entry>
  <entry>
    <title>ruby 爬虫 一</title>
    <url>/2018/10/12/2018-10-12-ruby%20%E7%88%AC%E8%99%AB%20%E4%B8%80/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>​ 拖延了半个多月，把之前写的东西整理一下发现，好多内容都在脑子里，没有形成转化后的内容，所以，吃过晚饭就决定写完在睡觉。</p>
<a id="more"></a>

<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">Time.now.to_s =&gt; <span class="string">"2018-10-30 20:29:36 +0800"</span></span><br></pre></td></tr></table></figure>


<p>​ 印象中，大多数人做爬虫第一个想到的肯定是 python，”python 解决方案多，代码简洁，容易上手…”,blah..blah</p>
<p>​ 事实上我也写 python，但是强制缩进这点让我很伤脑筋，没用 ruby 之前，我觉得 python 可能是我做 java 以来最优雅的语言。直到我用 ruby。</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="number">10</span>.times <span class="keyword">do</span> <span class="params">|i|</span></span><br><span class="line">	puts <span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">=&gt;</span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br><span class="line"><span class="string">"I Love Ruby!!"</span></span><br></pre></td></tr></table></figure>

<p>​ 废话不多说。</p>
<p>​ 为什么选择用 ruby，而不用 python 呢？</p>
<p>​ 不为别的，就是顺手而已。</p>
<h1 id="kimurai"><a href="#kimurai" class="headerlink" title="kimurai"></a>kimurai</h1><blockquote>
<p>Kimurai 是一个用 Ruby 实现的现代网络爬虫框架，和 <strong>Headless Chromium</strong> / <strong>Firefox</strong> 、<strong>PhantomJS</strong> 一样开箱即用，并且能够模拟<strong>“用户”</strong>访问抓取 javascript 交互的网站。</p>
<p>Kimurai 基于 <strong><a href="https://github.com/teamcapybara/capybara" target="_blank" rel="noopener">Capybara</a></strong> 和 <strong><a href="https://github.com/sparklemotion/nokogiri" target="_blank" rel="noopener">Nokogir</a></strong> gems，所以你不必学习新的东西。</p>
</blockquote>
<h2 id="实操"><a href="#实操" class="headerlink" title="实操"></a>实操</h2><h4 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gem install kimurai</span><br></pre></td></tr></table></figure>

<p>使用<a href="http://npm.taobao.org/mirrors/chromedriver/" target="_blank" rel="noopener">chromiumdriver</a> 或<a href="https://github.com/ariya/phantomjs" target="_blank" rel="noopener">phantomJS</a>需另外安装。</p>
<h4 id="2-创建项目-demo"><a href="#2-创建项目-demo" class="headerlink" title="2.创建项目 demo"></a>2.创建项目 demo</h4><p>kimurai 提供了像 rails new project 这样的命令式创建项目。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kimurai generate project demo</span><br></pre></td></tr></table></figure>

<p>等待命令执行完成会生成如下结构</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">|demo</span><br><span class="line">	|config  #用于存放全局配置</span><br><span class="line">		|application.rb #全局配置</span><br><span class="line">		|automaiton.yml #用于配置浏览器和部署</span><br><span class="line">		|schedule.rb #支持定时任务</span><br><span class="line">	|db #数据库文件？</span><br><span class="line">	|helpers #辅助方法</span><br><span class="line">	|lib #插件</span><br><span class="line">	|log #日志</span><br><span class="line">	|pipelines</span><br><span class="line">	|spiders #爬虫存放目录</span><br><span class="line">	|tmp #缓存文件</span><br></pre></td></tr></table></figure>

<h4 id="3-创建-spider"><a href="#3-创建-spider" class="headerlink" title="3.创建 spider"></a>3.创建 spider</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">kimurai generate spider test_spider</span><br><span class="line"></span><br><span class="line"><span class="comment">#demo/spiders/test_spider.rb</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestSpider</span> &lt; ApplicationSpider</span></span><br><span class="line">  @name = <span class="string">"test_spider"</span></span><br><span class="line">  @start_urls = []</span><br><span class="line">  @config = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(response, <span class="symbol">url:</span>, <span class="symbol">data:</span> &#123;&#125;)</span></span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h4 id="4-修改-spider"><a href="#4-修改-spider" class="headerlink" title="4.修改 spider"></a>4.修改 spider</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestSpider</span> &lt; ApplicationSpider</span></span><br><span class="line">  @name = <span class="string">"test_spider"</span></span><br><span class="line">  @start_urls = [<span class="string">"https://baike.pcbaby.com.cn"</span>]</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(response, <span class="symbol">url:</span>, <span class="symbol">data:</span> &#123;&#125;)</span></span></span><br><span class="line">    items = &#123;&#125;</span><br><span class="line">    items[<span class="symbol">:links</span>] = []</span><br><span class="line">    response.xpath(<span class="string">"//div[@class='baike-th main']"</span>).each <span class="keyword">do</span> <span class="params">|row|</span></span><br><span class="line">      logger.info row.to_s</span><br><span class="line">      items[<span class="symbol">:links</span>] &lt;&lt; &#123;</span><br><span class="line">          <span class="symbol">title:</span> row.css(<span class="string">"/a"</span>).text.squish,</span><br><span class="line">          <span class="symbol">url:</span> <span class="string">"https:<span class="subst">#&#123;row.css(<span class="string">"/a"</span>).first[<span class="string">"href"</span>]&#125;</span>"</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    save_to <span class="string">"results.json"</span>, items, <span class="symbol">format:</span> <span class="symbol">:pretty_json</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h5 id="results-json"><a href="#results-json" class="headerlink" title="results.json"></a>results.json</h5><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"links"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"备孕百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/yunqian.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"孕期百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/yunqi.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"分娩百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/fenmian.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"月子百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/yuezi.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"新生儿百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/xinshenger.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"0-1岁百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/yinger.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"1-3岁百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/youer.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"3-6岁百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/xuelingqian.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"用品百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/yongpin.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"美食百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/meishi.html"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"生活百科"</span>,</span><br><span class="line">        <span class="attr">"url"</span>: <span class="string">"https://baike.pcbaby.com.cn/shenghuo.html"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"position"</span>: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h4 id="5-application-spider-rb"><a href="#5-application-spider-rb" class="headerlink" title="5.application_spider.rb"></a>5.application_spider.rb</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ApplicationSpider is a default base spider class. You can set here</span></span><br><span class="line"><span class="comment"># default settings for all spiders inherited from ApplicationSpider.</span></span><br><span class="line"><span class="comment"># To generate a new spider, run: `$ kimurai generate spider spider_name`</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'net/http'</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'kimurai'</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ApplicationSpider</span> &lt; Kimurai::Base</span></span><br><span class="line">  <span class="keyword">include</span> ApplicationHelper</span><br><span class="line"></span><br><span class="line">  @engine = <span class="symbol">:selenium_chrome</span></span><br><span class="line">  USER_AGENTS = []</span><br><span class="line"></span><br><span class="line">  <span class="comment"># PROXIES = ["127.0.0.1:1086:socks5"]</span></span><br><span class="line"></span><br><span class="line">  @config = &#123;</span><br><span class="line">    <span class="symbol">user_agent:</span> <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36"</span>,</span><br><span class="line">    <span class="symbol">skip_request_errors:</span> [&#123; <span class="symbol">error:</span> RuntimeError, <span class="symbol">message:</span> <span class="string">"404 =&gt; Net::HTTPNotFound"</span> &#125;],</span><br><span class="line">	<span class="symbol">retry_request_errors:</span> [Net::ReadTimeout],</span><br><span class="line">    <span class="symbol">restart_if:</span> &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="symbol">before_request:</span> &#123;</span><br><span class="line">        <span class="symbol">delay:</span> <span class="number">4</span>..<span class="number">7</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h4 id="6-运行"><a href="#6-运行" class="headerlink" title="6.运行"></a>6.运行</h4><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">bundle exec kimurai runner -j <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>可以依次运行多个爬虫。</p>
<p>按照以上步骤可以运行示例中的代码。</p>
<p>更多细节配置可以查看 <a href="https://github.com/vifreefly/kimuraframework#installation" target="_blank" rel="noopener">kimurai</a></p>
]]></content>
      <categories>
        <category>爬虫</category>
      </categories>
      <tags>
        <tag>ruby</tag>
        <tag>爬虫</tag>
        <tag>python</tag>
        <tag>java</tag>
        <tag>kimurai</tag>
      </tags>
  </entry>
  <entry>
    <title>mybatis动态查询实现</title>
    <url>/2018/10/30/2018-10-30-mybatis-dynamic%20condition%20/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>model Product，我们希望通过实现 service 的一个方法，并支持所有类型的查询，如 &gt;、&gt;=、&lt;、&lt;=、like 、order by 等常用的查询、排序。</p>
<a id="more"></a>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> id;</span><br><span class="line">    String name;</span><br><span class="line">    String category;</span><br><span class="line">    String price;</span><br><span class="line">    String ...;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="分析"><a href="#分析" class="headerlink" title="分析:"></a>分析:</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">id</span> &gt; <span class="number">1</span> <span class="keyword">or</span> price &gt; <span class="string">'100.00'</span> ...;</span><br></pre></td></tr></table></figure>

<p>Where 条件中包含 字段名称、运算符、值。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 查询类型</span></span><br><span class="line"><span class="comment">* lt 小于</span></span><br><span class="line"><span class="comment">* lte 小于等于</span></span><br><span class="line"><span class="comment">* gt 大于</span></span><br><span class="line"><span class="comment">* gte 大于等于</span></span><br><span class="line"><span class="comment">* slike 'value%' start_with</span></span><br><span class="line"><span class="comment">* elike '%value' end_with</span></span><br><span class="line"><span class="comment">* like '%value%'</span></span><br><span class="line"><span class="comment">* in 1,2,3,4,5</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line">    String name; <span class="comment">//字段名称</span></span><br><span class="line">    String value; <span class="comment">//值</span></span><br><span class="line">    String itemType; <span class="comment">//查询类型</span></span><br><span class="line">    String type = <span class="string">"and"</span>; <span class="comment">// 逻辑运算 and or</span></span><br><span class="line">    String[] values; <span class="comment">//如果是in查询转换为字符串数组</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上是对查询条件的简单封装,如果我们需要满足多个条件的话。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QueryParam</span></span>&#123;</span><br><span class="line">    List&lt;Item&gt; items = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>mybatis 公共 xml 文件配置</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"BaseMapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">"BaseQuery"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"items != null "</span>&gt;</span></span><br><span class="line">            where 1 = 1</span><br><span class="line">            <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">"items"</span> <span class="attr">item</span>=<span class="string">"item"</span> <span class="attr">index</span>=<span class="string">"index"</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">separator</span>=<span class="string">" "</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'eq' "</span>&gt;</span></span><br><span class="line">                    $&#123;item.type&#125; $&#123;item.fieldName&#125; = #&#123;item.value&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'lt' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  $&#123;item.type&#125;  $&#123;item.name&#125; &lt; #&#123;item.value&#125; ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'lte' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[ $&#123;item.type&#125;  $&#123;item.name&#125; &lt;= #&#123;item.value&#125; ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'gt' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  $&#123;item.type&#125;  $&#123;item.name&#125; &gt; #&#123;item.value&#125; ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'gte' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  $&#123;item.type&#125;  $&#123;item.name&#125; &gt;= #&#123;item.value&#125; ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'slike' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  $&#123;item.type&#125;  $&#123;item.name&#125; like '$&#123;item.value&#125;%' ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.typeitemType == 'elike' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  $&#123;item.type&#125;  $&#123;item.name&#125; like '%$&#123;item.value&#125;' ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'like' "</span>&gt;</span></span><br><span class="line">                    &lt;![CDATA[  AND $&#123;item.name&#125; like '%$&#123;item.value&#125;%' ]]&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"item.itemType == 'in' "</span>&gt;</span></span><br><span class="line">                    $&#123;item.type&#125;</span><br><span class="line">                    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">"item.values"</span> <span class="attr">item</span>=<span class="string">"value"</span> <span class="attr">index</span>=<span class="string">"index"</span> <span class="attr">open</span>=<span class="string">"("</span> <span class="attr">close</span>=<span class="string">")"</span> <span class="attr">separator</span>=<span class="string">"OR"</span>&gt;</span></span><br><span class="line">                        $&#123;item.name&#125; =  #&#123;value&#125;</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Product mapper.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.yqwoe.codegenerator.dao.ProductMapper"</span> &gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"BaseResultMap"</span> <span class="attr">type</span>=<span class="string">"com.yqwoe.codegenerator.model.Product"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">"u_id"</span> <span class="attr">property</span>=<span class="string">"uId"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--省略 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">"Base_Column_List"</span> &gt;</span></span><br><span class="line">    id, name, category, price ,.....</span><br><span class="line">  <span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectAll"</span> <span class="attr">resultMap</span>=<span class="string">"BaseResultMap"</span> <span class="attr">parameterType</span>=<span class="string">"com.yqwoe.model.param.QueryParam"</span>&gt;</span></span><br><span class="line">    select</span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">"Base_Column_List"</span> /&gt;</span></span><br><span class="line">    from s_user</span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">"BaseMapper.BaseQuery"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">"BaseMapper.BaseOrder"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ProductController</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductController</span></span>&#123;</span><br><span class="line">    ProductService productService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/products"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Pageinfo <span class="title">index</span><span class="params">(QueryParam param)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> productService.selectAll(param);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">api: http:&#x2F;&#x2F;localhost:8000&#x2F;products?items[0].name&#x3D;name&amp;items[0].value&#x3D;nil?,超级管理员&amp;items[0].itemType&#x3D;in</span><br><span class="line"></span><br><span class="line">sql: select * from product where 1 &#x3D; 1 and (name &#x3D; &#39;nil?&#39; OR name &#x3D; &#39;超级管理员&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;type 默认为 and</span><br><span class="line">response:</span><br><span class="line">&#123;</span><br><span class="line">    data:[</span><br><span class="line">        ....</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上为动态查询，照这样的思路，可以继续围绕 mapper 扩展排序或者更复杂的查询。</p>
]]></content>
      <categories>
        <category>mybatis</category>
      </categories>
      <tags>
        <tag>mysql</tag>
        <tag>mybatis</tag>
        <tag>api</tag>
      </tags>
  </entry>
  <entry>
    <title>nginx 负载均衡</title>
    <url>/2018/11/17/2018-11-17-nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="nginx-是什么？"><a href="#nginx-是什么？" class="headerlink" title="nginx 是什么？"></a>nginx 是什么？</h1><a id="more"></a>

<blockquote>
<p>Nginx：Nginx (“engine x”) ，Nginx (“engine x”) 是俄罗斯人 Igor Sysoev(塞索耶夫)编写的一款高性能的 HTTP 和反向代理服务器。也是一个 IMAP/POP3/SMTP 代理服务器；也就是说，Nginx 本身就可以托管网站，进行 HTTP 服务处理，也可以作为反向代理服务器使用。</p>
</blockquote>
<h1 id="nginx-特点"><a href="#nginx-特点" class="headerlink" title="nginx 特点"></a>nginx 特点</h1><blockquote>
<ul>
<li>跨平台：Nginx 可以在大多数 Unix like OS 编译运行，而且也有 Windows 的移植版本。</li>
<li>配置异常简单：非常容易上手。配置风格跟程序开发一样，神一般的配置</li>
<li>非阻塞、高并发连接：数据复制时，磁盘 I/O 的第一阶段是非阻塞的。官方测试能够支撑 5 万并发连接，在实际生产环境中跑到 2 ～ 3 万并发连接数.(这得益于 Nginx 使用了最新的 epoll 模型)</li>
<li>事件驱动：通信机制采用 epoll 模型，支持更大的并发连接。</li>
</ul>
</blockquote>
<h1 id="nginx-特性"><a href="#nginx-特性" class="headerlink" title="nginx 特性"></a>nginx 特性</h1><p>master/worker 结构：一个 master 进程，生成一个或多个 worker 进程</p>
<p>内存消耗小：处理大并发的请求内存消耗非常小。在 3 万并发连接下，开启的 10 个 Nginx 进程才消耗 150M 内存（15M*10=150M） 成本低廉：Nginx 为开源软件，可以免费使用。而购买 F5 BIG-IP、NetScaler 等硬件负载均衡交换机则需要十多万至几十万人民币</p>
<p>内置的健康检查功能：如果 Nginx Proxy 后端的某台 Web 服务器宕机了，不会影响前端访问。</p>
<p>节省带宽：支持 GZIP 压缩，可以添加浏览器本地缓存的 Header 头。</p>
<p>稳定性高：用于反向代理，宕机的概率微乎其微</p>
<p>1、nginx 代理和后端 web 服务器间无需长连接；</p>
<p>2、接收用户请求是异步的，即先将用户请求全部接收下来，再一次性发送后后端 web 服务器，极大的减轻后端 web 服务器的压力</p>
<p>3、发送响应报文时，是边接收来自后端 web 服务器的数据，边发送给客户端的</p>
<p>4、网络依赖型低。NGINX 对网络的依赖程度非常低，理论上讲，只要能够 ping 通就可以实施负载均衡，而且可以有效区分内网和外网流量</p>
<p>5、支持服务器检测。NGINX 能够根据应用服务器处理页面返回的状态码、超时信息等检测服务器是否出现故障，并及时返回错误的请求重新提交到其它节点上</p>
<h1 id="nginx-配置"><a href="#nginx-配置" class="headerlink" title="nginx 配置"></a>nginx 配置</h1><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">upstream</span> www.blog.com &#123;</span><br><span class="line">    <span class="comment">#upstream的负载均衡，weight是权重，可以根据机器配置定义权重。weigth参数表示权值，权值越高被分配到的几率越大。</span></span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.80.121:80</span> weight=<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.80.122:80</span> weight=<span class="number">2</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.80.123:80</span> weight=<span class="number">3</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>nginx</category>
      </categories>
      <tags>
        <tag>nginx</tag>
        <tag>epoll</tag>
        <tag>poll</tag>
        <tag>linux</tag>
        <tag>unix like os</tag>
      </tags>
  </entry>
  <entry>
    <title>Cas Server 本地部署</title>
    <url>/2018/10/31/2018-10-31-SpringBoot_Cas_SSO/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Cas"><a href="#Cas" class="headerlink" title="Cas"></a>Cas</h1><blockquote>
<p><strong><a href="https://github.com/apereo/cas" target="_blank" rel="noopener">Cas</a></strong> 中心认证服务。Cas 是一种面向 Web 的企业级、多语言单点登录解决方案，它是满足身份验证和授权管理的综合平台</p>
</blockquote>
<a id="more"></a>

<blockquote>
<p>Cas 是一种开放优秀的身份验证协议。</p>
</blockquote>
<p><img src="https://user-images.githubusercontent.com/1205228/30969994-e2fe6bf0-a470-11e7-80f9-d54d1e4d348e.png" alt="1205228/30969994-e2fe6bf0-a470-11e7-80f9-d54d1e4d348e"></p>
<p>我在本地部署的是<strong><a href="https://github.com/apereo/cas-overlay-template" target="_blank" rel="noopener">cas-overlay-template</a></strong> 分支 5.2</p>
<h2 id="部署-Cas-Server"><a href="#部署-Cas-Server" class="headerlink" title="部署 Cas Server"></a>部署 Cas Server</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/apereo/cas<span class="literal">-overlay</span><span class="literal">-template</span>.git</span><br><span class="line">cd cas<span class="literal">-overlay</span><span class="literal">-template</span></span><br><span class="line">git checkout <span class="number">5.2</span></span><br><span class="line">mvn package //因为本地jdk1.<span class="number">8</span> <span class="number">5.2</span>版本支持</span><br><span class="line"></span><br><span class="line">mkdir <span class="literal">-p</span> src/main/resources</span><br><span class="line">mkdir <span class="literal">-p</span> src/main/resources/services</span><br><span class="line">cp /target/cas/WEB<span class="literal">-INF</span>/classes/application.prpperties src/main/resources/application.prpperties</span><br><span class="line">cp /target/cas/WEB<span class="literal">-INF</span>/classes/services/HTTPSandIMAPS<span class="literal">-10000001</span>.json src/main/resources/services/HTTPSandIMAPS<span class="literal">-10000001</span>.json</span><br></pre></td></tr></table></figure>

<h4 id="application-properties"><a href="#application-properties" class="headerlink" title="application.properties"></a>application.properties</h4><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># CAS Server Context Configuration</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">server.context<span class="literal">-path</span>=/cas</span><br><span class="line">server.port=<span class="number">8443</span></span><br><span class="line"></span><br><span class="line">cas.tgc.secure=false</span><br><span class="line">cas.serviceRegistry.initFromJson=true</span><br><span class="line">server.ssl.enabled=false <span class="comment">#禁用https访问</span></span><br><span class="line"><span class="comment">#...省略</span></span><br><span class="line">cas.authn.accept.users=admin::admin <span class="comment">#静态访问用户名密码 admin/admin</span></span><br></pre></td></tr></table></figure>

<h4 id="services-HTTPSandIMAPS-10000001-json"><a href="#services-HTTPSandIMAPS-10000001-json" class="headerlink" title="services/HTTPSandIMAPS-10000001.json"></a>services/HTTPSandIMAPS-10000001.json</h4><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@class"</span>: <span class="string">"org.apereo.cas.services.RegexRegisteredService"</span>,</span><br><span class="line">  <span class="attr">"serviceId"</span>: <span class="string">"^(https|imaps|http)://.*"</span>, <span class="comment">//增加http访问规则</span></span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"HTTPS and IMAPS"</span>,</span><br><span class="line">  <span class="attr">"id"</span>: <span class="number">10000001</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"This service definition authorizes all application urls that support HTTPS and IMAPS protocols."</span>,</span><br><span class="line">  <span class="attr">"evaluationOrder"</span>: <span class="number">10000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上操作按照顺序执行</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;build.sh run</span><br></pre></td></tr></table></figure>

<p>打开浏览器访问 <a href="http://cas.simple.org:8443/cas" target="_blank">http://cas.simple.org:8443/cas</a></p>
<p>Cas Server 已经 setup 起来了。</p>
<p>明天继续更新 Cas Client 与 Spring boot 集成，并实现 Cas Server 的用户存储数据库。</p>
]]></content>
      <categories>
        <category>Cas</category>
      </categories>
      <tags>
        <tag>spring boot</tag>
        <tag>cas client</tag>
        <tag>cas server</tag>
        <tag>sso</tag>
      </tags>
  </entry>
  <entry>
    <title>集群、负载均衡、分布式</title>
    <url>/2018/11/17/2018-11-17-%E9%9B%86%E7%BE%A4%E3%80%81%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>下面就我的理解简单通俗的介绍下三者的区别：</p>
<a id="more"></a>

<p>1.集群<br>集群是个物理概念，是指同一个系统，部署在多台服务器上，将很多服务器集中起来一起进行同一种服务，在客户端看来就像是只有一个服务器。集群可以利用多个计算机进行并行计算从而获得很高的计算速度，也可以用多个计算机做备份，从而使得任何一个机器坏了整个系统还是能正常运行。</p>
<p>就比如新浪网，访问的人多了，他可以做一个集群，前面放一个响应服务器，后面几台服务器完成同一种业务。如果有业务访问的时候，响应服务器看哪台服务器的负载不是很重，就将给哪一台去完成。 一台服务器垮了，其它的服务器可以顶上来。</p>
<p>2.负载均衡<br>至于集群服务器之间如何分工，需要引入负载均衡的概念了，负载均衡是指将请求分摊到多个操作单元也就是分开部署的服务器上，nginx 是常用的反向代理服务器，可以用来做负载均衡。集群与负载均衡之间有紧密联系，可以结合理解。</p>
<p>3.分布式<br>分布式侧重将一个系统拆分成多个业务单元，例如一个门户网站里面可能有登录、视频、图片等，每一个都可以拆分出来独立部署，而且每一个都可以弄成集群，视频服务集群，图片服务集群，主系统可以对这些子系统进行调用，子系统之间可以有调用关系也可以没有，看实际业务情况。</p>
<p>今天看到个通俗的例子，大家可以借鉴下：</p>
<p>小饭店原来只有一个厨师，切菜洗菜备料炒菜全干。后来客人多了，厨房一个厨师忙不过来，又请了个厨师，两个厨师都能炒一样的菜，这两个厨师的关系是集群。为了让厨师专心炒菜，把菜做到极致，又请了个配菜师负责切菜，备菜，备料，厨师和配菜师的关系是分布式，一个配菜师也忙不过来了，又请了个配菜师，两个配菜师关系是集群。</p>
<p>补充：最常见的三种集群类型：负载均衡集群、高可用性集群、高性能也就科学集群。<br>1）负载均衡集群（LB:load balancing）</p>
<p>负载均衡集群为企业需求提供了更实用的系统。如名称所暗示的，该系统使负载可以在计算机集群中尽可能平均地分摊处理。该负载可能是需要均衡的应用程序处理负载或网络流量负载。这样的系统非常适合于运行同一组应用程序的大量用户。每个节点都可以处理一部分负载，并且可以在节点之间动态分配负载，以实现平衡。对于网络流量也是如此。通常，网络服务器应用程序接受了太多入网流量，以致无法迅速处理，这就需要将流量发送给在其它节点上运行的网络服务器应用。还可以根据每个节点上不同的可用资源或网络的特殊环境来进行优化</p>
<p>2）高可用性集群（HA:High Availability）</p>
<p>高可用性集群的出现是为了使集群的整体服务尽可能可用，以便考虑计算硬件和软件的易错性。如果高可用性集群中的主节点发生了故障，那么这段时间内将由次节点代替它。次节点通常是主节点的镜像，所以当它代替主节点时，它可以完全接管其身份，并且因此使系统环境对于用户是一致的。</p>
<p>在集群的这三种基本类型之间，经常会发生混合与交杂。于是，可以发现高可用性集群也可以在其节点之间均衡用户负载，同时仍试图维持高可用性程度。同样，可以从要编入应用程序的集群中找到一个并行集群，它可以在节点之间执行负载均衡。尽管集群系统本身独立于它在使用的软件或硬件，但要有效运行系统时，硬件连接将起关键作用。</p>
<p>3）高性能集群（HP:High Performance）</p>
<p>通常，第一种涉及为集群开发并行编程应用程序，以解决复杂的科学问题。这是并行计算的基础，尽管它不使用专门的并行超级计算机，这种超级计算机内部由十至上万个独立处理器组成。但它却使用商业系统，如通过高速连接来链接的一组单处理器或双处理器 PC，并且在公共消息传递层上进行通信以运行并行应用程序。因此，您会常常听说又有一种便宜的 Linux 超级计算机问世了。但它实际是一个计算机集群，其处理能力与真的超级计算机相等，通常一套象样的集群配置开销要超过 $100,000。这对一般人来说似乎是太贵了，但与价值上百万美元的专用超级计算机相比还算是便宜的。</p>
<p>作者：普 if 加的帕<br>来源：CSDN<br>原文：<a href="https://blog.csdn.net/qq_34896887/article/details/78616209" target="_blank" rel="noopener">https://blog.csdn.net/qq_34896887/article/details/78616209</a><br>版权声明：本文为博主原创文章，转载请附上博文链接！</p>
<p><a href="http://server.51cto.com/News-557053.htm" target="_blank" rel="noopener">http://server.51cto.com/News-557053.htm</a></p>
<p><a href="https://www.cnblogs.com/xzwblog/p/7255364.html" target="_blank" rel="noopener">https://www.cnblogs.com/xzwblog/p/7255364.html</a></p>
]]></content>
      <categories>
        <category>服务器</category>
      </categories>
      <tags>
        <tag>nginx</tag>
        <tag>集群</tag>
        <tag>负载均衡</tag>
        <tag>分布式</tag>
      </tags>
  </entry>
  <entry>
    <title>《小王子》阅读</title>
    <url>/2020/03/16/2020-03-16-%E3%80%8A%E5%B0%8F%E7%8E%8B%E5%AD%90%E3%80%8B%E9%98%85%E8%AF%BB/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><img src="/images/u=1374754966,3123717663&fm=15&gp=0.jpg" alt="u=1374754966,3123717663&amp;fm=15&amp;gp=0"></p>
<a id="more"></a>

<blockquote>
<p>​ 《小王子》这本书买了很久了，今天给儿子读了小王子去外星球旅行的奇遇。</p>
<p>​ 旅行的途中遇到点灯的人给我很大的启示，我们都在做着自己讨厌的事情，但在别人眼里我们却是幸福的人。</p>
<p>​ 小王子来到地球后，遇到狐狸，它求着小王子驯养它，但小王子心中有’玫瑰‘，而玫瑰是一个不懂得表达情谊的花，因此小王子才离开了自己的星球。狐狸希望他成为自己生命里重要的人，也或许这个人不一定是小王子，而是小王子恰好出现在了这里，小王子金黄的头发和金黄麦田，对于狐狸来说都是生命中可有可无的。</p>
<p>​ 小王子来到沙漠中的一个秘密花园，发现这里有成千的‘独一无二’的玫瑰，而自己的玫瑰告诉自己，我是世界上‘独一无二’的，也或者只是小王子那个星球独一无二的吧，小王子很伤心，玫瑰不是独一无二的，像极了孩子最珍贵的并不是独一无二的。</p>
</blockquote>
]]></content>
      <categories>
        <category>读书</category>
      </categories>
      <tags>
        <tag>小王子</tag>
        <tag>儿子</tag>
        <tag>书</tag>
        <tag>星球旅行</tag>
        <tag>点灯的人</tag>
        <tag>狐狸</tag>
        <tag>独一无二</tag>
      </tags>
  </entry>
  <entry>
    <title>一年要赚多少钱才能支撑一个三口之家？</title>
    <url>/2020/11/12/2020-11-12-%20%E4%B8%80%E5%B9%B4%E8%A6%81%E8%B5%9A%E5%A4%9A%E5%B0%91%E9%92%B1%E6%89%8D%E8%83%BD%E6%94%AF%E6%92%91%E4%B8%80%E4%B8%AA%E4%B8%89%E5%8F%A3%E4%B9%8B%E5%AE%B6%EF%BC%9F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><table>
<thead>
<tr>
<th>预算</th>
<th>年收入</th>
</tr>
</thead>
<tbody><tr>
<td>年收入 * 0.1 = 1.5w</td>
<td>15w</td>
</tr>
</tbody></table>
<a id="more"></a>

<table>
<thead>
<tr>
<th>风险</th>
<th>险种</th>
<th>保额</th>
<th>期限</th>
</tr>
</thead>
<tbody><tr>
<td>身故没有收入、养家费用没保障、房贷车贷无力偿还</td>
<td>寿险</td>
<td>250w + 50w （300w）</td>
<td>60岁</td>
</tr>
<tr>
<td>高额医疗费、生病期间没收入、后期康复费用</td>
<td>重疾</td>
<td>50 + 30 （80w）</td>
<td></td>
</tr>
<tr>
<td>医疗费用报销</td>
<td>百万医疗</td>
<td>100 + 100 (200w) 一万不计免赔</td>
<td></td>
</tr>
<tr>
<td>意外伤残 意外身故</td>
<td>意外险</td>
<td>100 + 100 (200w)</td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>年收入</th>
<th>类型</th>
<th>比例</th>
</tr>
</thead>
<tbody><tr>
<td>15w</td>
<td>保险</td>
<td>10%</td>
</tr>
<tr>
<td></td>
<td>投资</td>
<td>？</td>
</tr>
<tr>
<td></td>
<td>子女教育</td>
<td>？</td>
</tr>
<tr>
<td></td>
<td>生活支出</td>
<td>？</td>
</tr>
<tr>
<td></td>
<td>紧急备用金</td>
<td>？</td>
</tr>
<tr>
<td></td>
<td>父母赡养</td>
<td>?</td>
</tr>
<tr>
<td></td>
<td>….</td>
<td>?</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>保险</tag>
        <tag>收入</tag>
        <tag>支出</tag>
      </tags>
  </entry>
  <entry>
    <title>29岁,再见！</title>
    <url>/2020/04/08/29%E5%B2%81-%E5%86%8D%E8%A7%81%EF%BC%81/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>我：儿子，你再也没有29岁的爸爸了。<br>冬冬：因为你明天过生日了吗？</p>
</blockquote>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>29岁</tag>
        <tag>30岁</tag>
      </tags>
  </entry>
  <entry>
    <title>搭建maven私库</title>
    <url>/2022/08/31/maven/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="1-docker-搭建maven私库"><a href="#1-docker-搭建maven私库" class="headerlink" title="1. docker 搭建maven私库"></a>1. docker 搭建maven私库</h1><a id="more"></a>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d --name nexus -p 8081:8081 -d --restart always -u root --privileged=true -v ~/opt/nexus-data:/nexus-data sonatype/nexus3</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker exec -it nexus &#x2F;&#x2F;进入容器</span><br><span class="line">cd &#x2F;nexus-data</span><br><span class="line">cat admin.password &#x2F;&#x2F;复制密码</span><br></pre></td></tr></table></figure>

<p>访问 <a href="http://ip:8081" target="_blank" rel="noopener">http://ip:8081</a><br>修改密码后 admin.password自动删除</p>
<h1 id="2-配置maven私库"><a href="#2-配置maven私库" class="headerlink" title="2. 配置maven私库"></a>2. 配置maven私库</h1><h4 id="2-1添加-role"><a href="#2-1添加-role" class="headerlink" title="2.1添加 role"></a>2.1添加 role</h4><p>develop =&gt; nx-all</p>
<h5 id="2-2-添加-user"><a href="#2-2-添加-user" class="headerlink" title="2.2 添加 user"></a>2.2 添加 user</h5><p>developer =&gt; develop</p>
<h1 id="3-插件开发环境配置"><a href="#3-插件开发环境配置" class="headerlink" title="3. 插件开发环境配置"></a>3. 插件开发环境配置</h1><h4 id="3-1-maven-setting-xml配置"><a href="#3-1-maven-setting-xml配置" class="headerlink" title="3.1 maven/setting.xml配置"></a>3.1 maven/setting.xml配置</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-public-gl<span class="tag">&lt;/<span class="name">id</span>&gt;</span> <span class="comment">&lt;!--对应pom.xml的id=maven-public-gl的仓库--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">username</span>&gt;</span>developer<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">password</span>&gt;</span>Glrj@1234<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-releases-gl<span class="tag">&lt;/<span class="name">id</span>&gt;</span>  <span class="comment">&lt;!--对应pom.xml的id=maven-releases-gl的仓库--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">username</span>&gt;</span>developer<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">password</span>&gt;</span>Glrj@1234<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-snapshots-gl<span class="tag">&lt;/<span class="name">id</span>&gt;</span> <span class="comment">&lt;!--对应pom.xml中id=maven-snapshots-gl的仓库--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">username</span>&gt;</span>developer<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">password</span>&gt;</span>Glrj@1234<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mirror</span>&gt;</span> <span class="comment">&lt;!--对应pom.xml中id=maven-public-gl的仓库--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-public-gl<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>GZ Repository Mirror.<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://nexus.corebrew.net/repository/maven-public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>####3.2 插件项目pom.xml配置</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.yq<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>low-code<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">...</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>low-code<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>&gt;</span>低代码开放平台<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">...</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-releases-gl<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://nexus.corebrew.net/repository/maven-releases/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-snapshots-gl<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://nexus.corebrew.net/repository/maven-snapshots/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h5 id="3-3-项目依赖pom-xml"><a href="#3-3-项目依赖pom-xml" class="headerlink" title="3.3 项目依赖pom.xml"></a>3.3 项目依赖pom.xml</h5><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-public-gl<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://nexus.corebrew.net/repository/maven-public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven-public-gl<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://nexus.corebrew.net/repository/maven-public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>maven</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>k8s 1.19.2 部署 traefik 2.2</title>
    <url>/2020/11/13/2020-11-13-%20traefik2%20%E9%83%A8%E7%BD%B2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><strong>系统环境：</strong></p>
<a id="more"></a>

<ul>
<li>Traefik 版本：v2.2</li>
<li>Kubernetes 版本：1.19.2</li>
</ul>
<p><strong>地址：</strong></p>
<ul>
<li>Traefik 2.2 官方文档：<a href="https://doc.traefik.io/traefik/v2.2/" target="_blank" rel="noopener">https://doc.traefik.io/traefik/v2.2/</a></li>
</ul>
<h2 id="一、Traefik-简介"><a href="#一、Traefik-简介" class="headerlink" title="一、Traefik 简介"></a>一、Traefik 简介</h2><p>Traefik 最新推出了 v2.2 版本，这里将 Traefik 升级到最新版本，简单的介绍了下如何在 Kubernetes 环境下安装 Traefik v2.2</p>
<h2 id="二、Kubernetes-部署-Traefik"><a href="#二、Kubernetes-部署-Traefik" class="headerlink" title="二、Kubernetes 部署 Traefik"></a>二、Kubernetes 部署 Traefik</h2><blockquote>
<p>注意：这里 Traefik 是部署在 Kube-system Namespace 下，使用kustomize部署。</p>
</blockquote>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-rw-r--r--  1 yqwoe  staff   287 11 23 09:54 cluster-role-binding.yaml</span><br><span class="line">-rw-r--r--  1 yqwoe  staff   736 11 23 09:54 cluster-role.yaml</span><br><span class="line">-rw-r--r--  1 yqwoe  staff  2578 11 23 09:54 config.yaml</span><br><span class="line">-rw-r--r--  1 yqwoe  staff  1110 11 23 09:54 daemon-set.yaml</span><br><span class="line">-rw-r--r--  1 yqwoe  staff  2021 11 23 09:54 ingress-route.yml</span><br><span class="line">-rw-r--r--  1 yqwoe  staff   268 11 23 09:54 kustomization.yaml</span><br><span class="line">-rw-r--r--  1 yqwoe  staff    81 11 23 09:54 service-account.yaml</span><br><span class="line">-rw-r--r--  1 yqwoe  staff   220 11 23 09:54 service.yaml</span><br><span class="line">-rw-r--r--  1 yqwoe  staff   257 11 23 09:54 traefik-dashboard-route.yml</span><br></pre></td></tr></table></figure>



<p><strong>kustomization.yaml</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">kustomize.config.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Kustomization</span></span><br><span class="line"></span><br><span class="line"><span class="attr">resources:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">cluster-role.yaml</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">cluster-role-binding.yaml</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">service-account.yaml</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">config.yaml</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">daemon-set.yaml</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">service.yaml</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">ingress-route.yaml</span></span><br><span class="line"><span class="attr">namespace:</span> <span class="string">kube-system</span></span><br><span class="line"></span><br><span class="line"><span class="attr">commonLabels:</span></span><br><span class="line">  <span class="attr">app:</span> <span class="string">traefik</span></span><br></pre></td></tr></table></figure>



<h3 id="1、ingress-route-yml"><a href="#1、ingress-route-yml" class="headerlink" title="1、ingress-route.yml"></a>1、ingress-route.yml</h3><p>在 traefik v2.1 版本后，开始使用 CRD（Custom Resource Definition）来完成路由配置等，所以需要提前创建 CRD 资源。</p>
<p><strong>创建 ingress-route.yml 文件</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apiextensions.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CustomResourceDefinition</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ingressroutes.traefik.containo.us</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">traefik.containo.us</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">v1alpha1</span></span><br><span class="line">  <span class="attr">names:</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">IngressRoute</span></span><br><span class="line">    <span class="attr">plural:</span> <span class="string">ingressroutes</span></span><br><span class="line">    <span class="attr">singular:</span> <span class="string">ingressroute</span></span><br><span class="line">  <span class="attr">scope:</span> <span class="string">Namespaced</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apiextensions.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CustomResourceDefinition</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">middlewares.traefik.containo.us</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">traefik.containo.us</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">v1alpha1</span></span><br><span class="line">  <span class="attr">names:</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">Middleware</span></span><br><span class="line">    <span class="attr">plural:</span> <span class="string">middlewares</span></span><br><span class="line">    <span class="attr">singular:</span> <span class="string">middleware</span></span><br><span class="line">  <span class="attr">scope:</span> <span class="string">Namespaced</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apiextensions.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CustomResourceDefinition</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ingressroutetcps.traefik.containo.us</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">traefik.containo.us</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">v1alpha1</span></span><br><span class="line">  <span class="attr">names:</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">IngressRouteTCP</span></span><br><span class="line">    <span class="attr">plural:</span> <span class="string">ingressroutetcps</span></span><br><span class="line">    <span class="attr">singular:</span> <span class="string">ingressroutetcp</span></span><br><span class="line">  <span class="attr">scope:</span> <span class="string">Namespaced</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apiextensions.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CustomResourceDefinition</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ingressrouteudps.traefik.containo.us</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">traefik.containo.us</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">v1alpha1</span></span><br><span class="line">  <span class="attr">names:</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">IngressRouteUDP</span></span><br><span class="line">    <span class="attr">plural:</span> <span class="string">ingressrouteudps</span></span><br><span class="line">    <span class="attr">singular:</span> <span class="string">ingressrouteudp</span></span><br><span class="line">  <span class="attr">scope:</span> <span class="string">Namespaced</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apiextensions.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CustomResourceDefinition</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">tlsoptions.traefik.containo.us</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">traefik.containo.us</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">v1alpha1</span></span><br><span class="line">  <span class="attr">names:</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">TLSOption</span></span><br><span class="line">    <span class="attr">plural:</span> <span class="string">tlsoptions</span></span><br><span class="line">    <span class="attr">singular:</span> <span class="string">tlsoption</span></span><br><span class="line">  <span class="attr">scope:</span> <span class="string">Namespaced</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apiextensions.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CustomResourceDefinition</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">tlsstores.traefik.containo.us</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">traefik.containo.us</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">v1alpha1</span></span><br><span class="line">  <span class="attr">names:</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">TLSStore</span></span><br><span class="line">    <span class="attr">plural:</span> <span class="string">tlsstores</span></span><br><span class="line">    <span class="attr">singular:</span> <span class="string">tlsstore</span></span><br><span class="line">  <span class="attr">scope:</span> <span class="string">Namespaced</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apiextensions.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CustomResourceDefinition</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">traefikservices.traefik.containo.us</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">traefik.containo.us</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">v1alpha1</span></span><br><span class="line">  <span class="attr">names:</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">TraefikService</span></span><br><span class="line">    <span class="attr">plural:</span> <span class="string">traefikservices</span></span><br><span class="line">    <span class="attr">singular:</span> <span class="string">traefikservice</span></span><br><span class="line">  <span class="attr">scope:</span> <span class="string">Namespaced</span></span><br></pre></td></tr></table></figure>

<h3 id="2、创建-RBAC-权限"><a href="#2、创建-RBAC-权限" class="headerlink" title="2、创建 RBAC 权限"></a>2、创建 RBAC 权限</h3><p>Kubernetes 在 1.6 版本中引入了基于角色的访问控制（RBAC）策略，方便对 Kubernetes 资源和 API 进行细粒度控制。Traefik 需要一定的权限，所以这里提前创建好 Traefik ServiceAccount 并分配一定的权限。</p>
<p><strong>创建 service-account.yaml 文件</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ServiceAccount</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">traefik-ingress-controller</span></span><br></pre></td></tr></table></figure>

<p><strong>创建cluster-role.yaml</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">ClusterRole</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">traefik-ingress-controller</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">apiGroups:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">""</span></span><br><span class="line">    <span class="attr">resources:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">services</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">endpoints</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">secrets</span></span><br><span class="line">    <span class="attr">verbs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">get</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">list</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">watch</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">apiGroups:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">extensions</span></span><br><span class="line">    <span class="attr">resources:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ingresses</span></span><br><span class="line">    <span class="attr">verbs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">get</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">list</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">watch</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">apiGroups:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">extensions</span></span><br><span class="line">    <span class="attr">resources:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ingresses/status</span></span><br><span class="line">    <span class="attr">verbs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">update</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">apiGroups:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">traefik.containo.us</span></span><br><span class="line">    <span class="attr">resources:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">middlewares</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ingressroutes</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">traefikservices</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ingressroutetcps</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ingressrouteudps</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">tlsoptions</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">tlsstores</span></span><br><span class="line">    <span class="attr">verbs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">get</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">list</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">watch</span></span><br></pre></td></tr></table></figure>



<p><strong>创建cluster-role-binding.yaml</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">ClusterRoleBinding</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">traefik-ingress-controller</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">ClusterRole</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">traefik-ingress-controller</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">ServiceAccount</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">traefik-ingress-controller</span></span><br></pre></td></tr></table></figure>



<h3 id="3、创建-Traefik-配置文件"><a href="#3、创建-Traefik-配置文件" class="headerlink" title="3、创建 Traefik 配置文件"></a>3、创建 Traefik 配置文件</h3><p>由于 Traefik 配置很多，通过 CLI 定义不是很方便，一般时候选择将其配置选项放到配置文件中，然后存入 ConfigMap，将其挂入 traefik 中。</p>
<p><strong>创建 config.yaml 文件</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">ConfigMap</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">traefik-config</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">traefik.yaml:</span> <span class="string">|-</span></span><br><span class="line">    <span class="attr">ping:</span> <span class="string">""</span>                    <span class="comment">## 启用 Ping</span></span><br><span class="line">    <span class="attr">serversTransport:</span></span><br><span class="line">      <span class="attr">insecureSkipVerify:</span> <span class="literal">true</span>  <span class="comment">## Traefik 忽略验证代理服务的 TLS 证书</span></span><br><span class="line">    <span class="attr">api:</span></span><br><span class="line">      <span class="attr">insecure:</span> <span class="literal">true</span>            <span class="comment">## 允许 HTTP 方式访问 API</span></span><br><span class="line">      <span class="attr">dashboard:</span> <span class="literal">true</span>           <span class="comment">## 启用 Dashboard</span></span><br><span class="line">      <span class="attr">debug:</span> <span class="literal">false</span>              <span class="comment">## 启用 Debug 调试模式</span></span><br><span class="line">    <span class="attr">metrics:</span></span><br><span class="line">      <span class="attr">prometheus:</span> <span class="string">""</span>            <span class="comment">## 配置 Prometheus 监控指标数据，并使用默认配置</span></span><br><span class="line">    <span class="attr">entryPoints:</span></span><br><span class="line">      <span class="attr">web:</span></span><br><span class="line">        <span class="attr">address:</span> <span class="string">":80"</span>          <span class="comment">## 配置 80 端口，并设置入口名称为 web</span></span><br><span class="line">      <span class="attr">websecure:</span></span><br><span class="line">        <span class="attr">address:</span> <span class="string">":443"</span>         <span class="comment">## 配置 443 端口，并设置入口名称为 websecure</span></span><br><span class="line">    <span class="attr">providers:</span></span><br><span class="line">      <span class="attr">kubernetesCRD:</span> <span class="string">""</span>         <span class="comment">## 启用 Kubernetes CRD 方式来配置路由规则</span></span><br><span class="line">      <span class="attr">kubernetesIngress:</span> <span class="string">""</span>     <span class="comment">## 启动 Kubernetes Ingress 方式来配置路由规则</span></span><br><span class="line">    <span class="attr">log:</span></span><br><span class="line">      <span class="attr">filePath:</span> <span class="string">""</span>              <span class="comment">## 设置调试日志文件存储路径，如果为空则输出到控制台</span></span><br><span class="line">      <span class="attr">level:</span> <span class="string">error</span>              <span class="comment">## 设置调试日志级别</span></span><br><span class="line">      <span class="attr">format:</span> <span class="string">json</span>              <span class="comment">## 设置调试日志格式</span></span><br><span class="line">    <span class="attr">accessLog:</span></span><br><span class="line">      <span class="attr">filePath:</span> <span class="string">""</span>              <span class="comment">## 设置访问日志文件存储路径，如果为空则输出到控制台</span></span><br><span class="line">      <span class="attr">format:</span> <span class="string">json</span>              <span class="comment">## 设置访问调试日志格式</span></span><br><span class="line">      <span class="attr">bufferingSize:</span> <span class="number">0</span>          <span class="comment">## 设置访问日志缓存行数</span></span><br><span class="line">      <span class="attr">filters:</span></span><br><span class="line">        <span class="comment">#statusCodes: ["200"]   ## 设置只保留指定状态码范围内的访问日志</span></span><br><span class="line">        <span class="attr">retryAttempts:</span> <span class="literal">true</span>     <span class="comment">## 设置代理访问重试失败时，保留访问日志</span></span><br><span class="line">        <span class="attr">minDuration:</span> <span class="number">20</span>         <span class="comment">## 设置保留请求时间超过指定持续时间的访问日志</span></span><br><span class="line">      <span class="attr">fields:</span>                   <span class="comment">## 设置访问日志中的字段是否保留（keep 保留、drop 不保留）</span></span><br><span class="line">        <span class="attr">defaultMode:</span> <span class="string">keep</span>       <span class="comment">## 设置默认保留访问日志字段</span></span><br><span class="line">        <span class="attr">names:</span>                  <span class="comment">## 针对访问日志特别字段特别配置保留模式</span></span><br><span class="line">          <span class="attr">ClientUsername:</span> <span class="string">drop</span></span><br><span class="line">        <span class="attr">headers:</span>                <span class="comment">## 设置 Header 中字段是否保留</span></span><br><span class="line">          <span class="attr">defaultMode:</span> <span class="string">keep</span>     <span class="comment">## 设置默认保留 Header 中字段</span></span><br><span class="line">          <span class="attr">names:</span>                <span class="comment">## 针对 Header 中特别字段特别配置保留模式</span></span><br><span class="line">            <span class="attr">User-Agent:</span> <span class="string">redact</span></span><br><span class="line">            <span class="attr">Authorization:</span> <span class="string">drop</span></span><br><span class="line">            <span class="attr">Content-Type:</span> <span class="string">keep</span></span><br><span class="line">    <span class="attr">certificatesresolvers:</span></span><br><span class="line">      <span class="attr">default:</span></span><br><span class="line">        <span class="attr">acme:</span></span><br><span class="line">          <span class="attr">tlsChallenge:</span> <span class="literal">true</span></span><br><span class="line">          <span class="attr">email:</span> <span class="string">"yqwoe@live.cn"</span></span><br><span class="line">          <span class="attr">storage:</span> <span class="string">"acme.json"</span></span><br><span class="line">          <span class="attr">caserver:</span> <span class="string">"https://acme-v02.api.letsencrypt.org/directory"</span></span><br></pre></td></tr></table></figure>

<h3 id="4、节点设置-Label-标签"><a href="#4、节点设置-Label-标签" class="headerlink" title="4、节点设置 Label 标签"></a>4、节点设置 Label 标签</h3><p>由于是 Kubernetes DeamonSet 这种方式部署 Traefik，所以需要提前给节点设置 Label，这样当程序部署时 Pod 会自动调度到设置 Label 的节点上。</p>
<p><strong>节点设置 Label 标签</strong></p>
<ul>
<li>格式：kubectl label nodes [节点名] [key=value]</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ kubectl label nodes minikube IngressProxy=<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><strong>查看节点是否设置 Label 成功</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ kubectl get nodes --show-labels</span><br><span class="line"></span><br><span class="line">NAME       STATUS   ROLES    AGE   VERSION   LABELS</span><br><span class="line">minikube   Ready    master   3d    v1.19.2   IngressProxy=<span class="literal">true</span>,beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/arch=amd64,kubernetes.io/hostname=minikube,kubernetes.io/os=linux,minikube.k8s.io/commit=b09ee50ec047410326a85435f4d99026f9c4f5c4,minikube.k8s.io/name=minikube,minikube.k8s.io/updated_at=2020_11_10T10_20_51_0700,minikube.k8s.io/version=v1.14.0,node-role.kubernetes.io/master=</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果想删除标签，可以使用 <code>kubectl label nodes minikube IngressProxy-</code> 命令</p>
</blockquote>
<h3 id="5、Kubernetes-部署-Traefik"><a href="#5、Kubernetes-部署-Traefik" class="headerlink" title="5、Kubernetes 部署 Traefik"></a>5、Kubernetes 部署 Traefik</h3><p> DaemonSet 方式部署，便于在多服务器间扩展，用 hostport 方式占用服务器 80、443 端口，方便流量进入。</p>
<p><strong>创建 traefik 部署文件 daemon-set.yaml</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">DaemonSet</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">traefik</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">serviceAccountName:</span> <span class="string">traefik-ingress-controller</span></span><br><span class="line">      <span class="attr">terminationGracePeriodSeconds:</span> <span class="number">60</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">traefik:v2.2</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">traefik-ingress-lb</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">web</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">          <span class="attr">hostPort:</span> <span class="number">80</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">websecure</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">443</span></span><br><span class="line">          <span class="attr">hostPort:</span> <span class="number">443</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">admin</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">hostPort:</span> <span class="number">8080</span></span><br><span class="line">        <span class="attr">securityContext:</span></span><br><span class="line">          <span class="attr">capabilities:</span></span><br><span class="line">            <span class="attr">drop:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">ALL</span></span><br><span class="line">            <span class="attr">add:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">NET_BIND_SERVICE</span></span><br><span class="line">        <span class="attr">args:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">--configfile=/config/traefik.yaml</span></span><br><span class="line">        <span class="attr">volumeMounts:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">mountPath:</span> <span class="string">"/config"</span></span><br><span class="line">            <span class="attr">name:</span> <span class="string">"config"</span></span><br><span class="line">      <span class="attr">volumes:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">          <span class="attr">configMap:</span></span><br><span class="line">            <span class="attr">name:</span> <span class="string">traefik-config</span></span><br><span class="line">      <span class="attr">tolerations:</span>              <span class="comment">## 设置容忍所有污点，防止节点被设置污点</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">operator:</span> <span class="string">"Exists"</span></span><br><span class="line">      <span class="attr">nodeSelector:</span>             <span class="comment">## 设置node筛选器，在特定label的节点上启动</span></span><br><span class="line">        <span class="attr">IngressProxy:</span> <span class="string">"true"</span></span><br></pre></td></tr></table></figure>

<p><strong>创建Traefik Service service.yaml</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">traefik</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">web</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">websecure</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">443</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">admin</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">traefik</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span></span><br></pre></td></tr></table></figure>

<p>至此，traefik的配置基本完成。</p>
<p><strong>执行 kustomization.yaml</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kubectl apply -k . -n kube-system</span><br></pre></td></tr></table></figure>

<h2 id="三、Traefik-路由规则配置"><a href="#三、Traefik-路由规则配置" class="headerlink" title="三、Traefik 路由规则配置"></a>三、Traefik 路由规则配置</h2><h3 id="1、配置-HTTP-路由规则-（Traefik-Dashboard-为例）"><a href="#1、配置-HTTP-路由规则-（Traefik-Dashboard-为例）" class="headerlink" title="1、配置 HTTP 路由规则 （Traefik Dashboard 为例）"></a>1、配置 HTTP 路由规则 （Traefik Dashboard 为例）</h3><p>Traefik 应用已经部署完成，但是想让外部访问 Kubernetes 内部服务，还需要配置路由规则，这里开启了 Traefik Dashboard 配置，所以首先配置 Traefik Dashboard 看板的路由规则，使外部能够访问 Traefik Dashboard。</p>
<p><strong>创建 Traefik Dashboard 路由规则文件 traefik-dashboard-route.yaml</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">traefik.containo.us/v1alpha1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">IngressRoute</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">traefik-dashboard-route</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">entryPoints:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">web</span></span><br><span class="line">  <span class="attr">routes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">match:</span> <span class="string">Host(`yqwoe.k8s.com`)</span></span><br><span class="line">      <span class="attr">kind:</span> <span class="string">Rule</span></span><br><span class="line">      <span class="attr">services:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">traefik</span></span><br><span class="line">          <span class="attr">port:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure>

<p><strong>创建 Traefik Dashboard 路由规则对象</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ kubectl apply -f traefik-dashboard-route.yaml -n kube-system</span><br></pre></td></tr></table></figure>

<p><strong>接下来配置 Hosts</strong>，客户端想通过域名访问服务，必须要进行 DNS 解析，由于这里没有 DNS 服务器进行域名解析，所以修改 hosts 文件将 Traefik 指定节点的 IP 和自定义 host 绑定。打开电脑的 Hosts 配置文件，往其加入下面配置：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">192.168.10.2  yqwoe.k8s.com</span><br></pre></td></tr></table></figure>

<p><strong>配置完成后，打开浏览器输入地址：http://<code>yqwoe.k8s.com</code> 打开 Traefik Dashboard。</strong></p>
]]></content>
      <categories>
        <category>k8s</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>k8s</tag>
        <tag>容器技术</tag>
        <tag>traefik2</tag>
      </tags>
  </entry>
  <entry>
    <title>《程序员数学 1》 - 笔记1</title>
    <url>/2020/03/30/%E3%80%8A%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6-1%E3%80%8B-%E7%AC%94%E8%AE%B01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="第一章-0-的故事–无即是有"><a href="#第一章-0-的故事–无即是有" class="headerlink" title="第一章 0 的故事–无即是有"></a>第一章 0 的故事–无即是有</h1><h2 id="10-进制计数法"><a href="#10-进制计数法" class="headerlink" title="10 进制计数法"></a>10 进制计数法</h2><ul>
<li><p>什么是 10 进制计数法</p>
<ul>
<li>数字有 10 种，0、1、2、3、4、5、6、7、8、9.</li>
<li>数位:从右往左数表示 个、十、百、千、万…位。</li>
</ul>
</li>
<li><p>分解</p>
<ul>
<li>2503 = (2 x 10 ** 3 )+ (5 x 10 ** 2) + (0 x 10 ** 1) + (3 x 10 ** 0)</li>
</ul>
</li>
</ul>
<h2 id="2-进制计数法"><a href="#2-进制计数法" class="headerlink" title="2 进制计数法"></a>2 进制计数法</h2><ul>
<li><p>什么是 2 进制计数法</p>
<ul>
<li>数字有 2 种，0、1.</li>
<li>从右往左分别表示 1 位、2 位、4 位、8 位</li>
</ul>
</li>
<li><p>分解</p>
<ul>
<li>1100 = (1 x 2 ** 3) + (1 x 2 ** 2) + (0 x 2 ** 1) + (0 x 2 ** 0)</li>
</ul>
</li>
<li><p>基数转换</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">* 逆向排序 1100</span><br><span class="line">*&#x2F;</span><br><span class="line">12 &#x2F; 2 &#x3D; 6  余数 0</span><br><span class="line">6  &#x2F; 2 &#x3D; 3  余数 0</span><br><span class="line">3  &#x2F; 2 &#x3D; 1  余数 1</span><br><span class="line">1  &#x2F; 2 &#x3D; 0  余数 1</span><br><span class="line">&#x2F;**</span><br><span class="line">* 1000 转换 二进制 逆向 1111101000</span><br><span class="line">*&#x2F;</span><br><span class="line">1000 &#x2F; 2 &#x3D; 500 余数 0</span><br><span class="line">500  &#x2F; 2 &#x3D; 250 余数 0</span><br><span class="line">250  &#x2F; 2 &#x3D; 125 余数 0</span><br><span class="line">125  &#x2F; 2 &#x3D; 62  余数 1</span><br><span class="line">62   &#x2F; 2 &#x3D; 31  余数 0</span><br><span class="line">31   &#x2F; 2 &#x3D; 15  余数 1</span><br><span class="line">15   &#x2F; 2 &#x3D; 7   余数 1</span><br><span class="line">7    &#x2F; 2 &#x3D; 3   余数 1</span><br><span class="line">3    &#x2F; 2 &#x3D; 1   余数 1</span><br><span class="line">1    &#x2F; 2 &#x3D; 0   余数 1</span><br></pre></td></tr></table></figure></li>
<li><p>计算机中为什么采用 2 进制计数法</p>
<ul>
<li>在十进制计数法中，位数少，但是数字种类多。 对人类来说，这种比较易用。</li>
<li>在 2 进制计数法中，数字的种类少，但是位数多。对计算机来说，这种比较易用。</li>
</ul>
</li>
</ul>
<h2 id="按位计数法"><a href="#按位计数法" class="headerlink" title="按位计数法"></a>按位计数法</h2><ul>
<li><p>什么是按位计数法</p>
<ul>
<li><p>16、10、8、2、N 进制计数法都被称作为 <strong>按位计数法</strong></p>
</li>
<li><p>N 进制计数法:</p>
<ul>
<li>使用数字有 0、1、2、3…、N-1,共 N 种</li>
<li>从右往左分别为 Nº 的位、N¹ 的位…(基数是 N)</li>
<li>例如: 4 位数的 N 进制 a₃a₂a₁a₀ = a₃ x N³ + a₂ x N² + a₁ x N¹ + a₀ x Nº</li>
</ul>
</li>
</ul>
</li>
<li><p>不按位计数法的罗马数字</p>
<ul>
<li>没有数位，只表示数字本身</li>
<li>没有 0</li>
<li>使用 I(1)、V(5)、X(10)、L(50)、C(100)、D(500)、M(1000)来计数</li>
<li>并排的数字加起来，就是所表示的数</li>
<li>III(3)、VI(6)、VIII(8)、CXXIII(123)、LXXVIII(78)</li>
<li>IV(4) 减法规则表示 5 - 1 = 4</li>
</ul>
</li>
</ul>
<p>##指数法则</p>
<ul>
<li><p>10 的 0 次方是什么？</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">10³ &#x3D; 1000</span><br><span class="line">10² &#x3D; 100</span><br><span class="line">10¹ &#x3D; 10</span><br><span class="line">10º &#x3D; ？</span><br></pre></td></tr></table></figure>
</li>
<li><p>10 右上角的 数字（指数）减 1，数字就变为原本的 10 分之 1.</p>
</li>
<li><p>规则的扩展</p>
<ul>
<li>指数法则表达式: N <em>* a + N ** b = N *\</em> (a + b)</li>
</ul>
</li>
</ul>
<h2 id="0-所起的作用"><a href="#0-所起的作用" class="headerlink" title="0 所起的作用"></a>0 所起的作用</h2><ul>
<li><p>0 的作用: 占位</p>
<ul>
<li>2503 如果没有了 0 就变成了 253</li>
</ul>
</li>
</ul>
<h2 id="人类的极限和构造的发现"><a href="#人类的极限和构造的发现" class="headerlink" title="人类的极限和构造的发现"></a>人类的极限和构造的发现</h2><ul>
<li><p>重温历史进程</p>
<ul>
<li><strong>古埃及人</strong>使用 5 进制和 10 进制混合的计数法</li>
<li><strong>巴比伦人</strong>使用 1 和 10 两种菱形来表示 1 - 59，并通过几号的所在位置表示 60 ** N 的数位。现在的 1 小时 60 分钟、1 分钟 60 秒换算源于巴比伦的 60 进制计数法。</li>
<li><strong>古希腊人</strong>数字不仅是运算工具，还注入哲学真理。他们将图形、宇宙、音乐和数字相关联</li>
<li><strong>玛雅人</strong>使用 20 进制计数法，从 0 开始。</li>
<li><strong>罗马人</strong> 使用 5 进制和 10 进制混用。</li>
<li><strong>印度人</strong>引进巴比伦的按位计数法，采用的是 10 进制计数法，被称为<strong>阿拉伯数字</strong>而不是<strong>印度数字</strong></li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>数学</category>
      </categories>
      <tags>
        <tag>计数法</tag>
        <tag>进制</tag>
      </tags>
  </entry>
  <entry>
    <title>《程序员数学-1》-笔记2</title>
    <url>/2020/03/31/%E3%80%8A%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6-1%E3%80%8B-%E7%AC%94%E8%AE%B02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="第二章-逻辑"><a href="#第二章-逻辑" class="headerlink" title="第二章 逻辑"></a>第二章 逻辑</h1><a id="more"></a>
<h2 id="为何逻辑如此重要"><a href="#为何逻辑如此重要" class="headerlink" title="为何逻辑如此重要"></a>为何逻辑如此重要</h2><ul>
<li>逻辑是消除歧义的工具</li>
</ul>
<h2 id="乘车费用问题–兼顾完整性和排他性"><a href="#乘车费用问题–兼顾完整性和排他性" class="headerlink" title="乘车费用问题–兼顾完整性和排他性"></a>乘车费用问题–兼顾完整性和排他性</h2><ul>
<li><p>车费规则</p>
<table>
<thead>
<tr>
<th>费用规则 A</th>
</tr>
</thead>
<tbody><tr>
<td>6 岁以下的乘客 0 元</td>
</tr>
<tr>
<td>不到 6 岁的乘客 100 元</td>
</tr>
</tbody></table>
<ul>
<li>13 岁的 Alice 的车费为 100 元，4 岁的 Bob 的车费为 0 元。那么 6 岁的 Charlie 的车费是多少？ 6 岁以上的说法包含了 6 岁，所以 Charlie 的车费是 100 元</li>
</ul>
</li>
<li><p>命题及其真假</p>
<ul>
<li><p><strong>能够判断对错的陈述句</strong>叫做<strong>命题</strong></p>
<ul>
<li>Alice(13 岁)的年龄在 6 岁以上。 （True）真命题</li>
<li>Bob(4 岁) 的年龄在 6 岁以上。 (False) 假命题</li>
<li>Charlie(6 岁) 的年龄在 6 岁以上。 (True) 真命题</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="建立复杂命题"><a href="#建立复杂命题" class="headerlink" title="建立复杂命题"></a>建立复杂命题</h2><table>
<thead>
<tr>
<th>A</th>
<th>﹁ A</th>
</tr>
</thead>
<tbody><tr>
<td>True</td>
<td>False</td>
</tr>
<tr>
<td>False</td>
<td>True</td>
</tr>
</tbody></table>
<ul>
<li><p>双重否定等于肯定</p>
<table>
<thead>
<tr>
<th>A</th>
<th>﹁ A</th>
<th>﹁ ﹁ A</th>
</tr>
</thead>
<tbody><tr>
<td>True</td>
<td>False</td>
<td>True</td>
</tr>
<tr>
<td>False</td>
<td>True</td>
<td>False</td>
</tr>
</tbody></table>
</li>
<li><p>逻辑<strong>与</strong></p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>A ∧ B</th>
</tr>
</thead>
<tbody><tr>
<td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr>
<td>True</td>
<td>False</td>
<td>False</td>
</tr>
<tr>
<td>False</td>
<td>True</td>
<td>False</td>
</tr>
<tr>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
</tbody></table>
<ul>
<li>仅当 A 和 B 都为 True 时才为 True</li>
</ul>
</li>
<li><p>逻辑<strong>或</strong></p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>A ∨ B</th>
</tr>
</thead>
<tbody><tr>
<td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr>
<td>True</td>
<td>False</td>
<td>True</td>
</tr>
<tr>
<td>False</td>
<td>True</td>
<td>True</td>
</tr>
<tr>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
</tbody></table>
<ul>
<li>仅当 A 和 B 都为 False 时才为 False</li>
</ul>
</li>
<li><p><strong>异或</strong></p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>A⊕B</th>
</tr>
</thead>
<tbody><tr>
<td>True</td>
<td>True</td>
<td>False</td>
</tr>
<tr>
<td>True</td>
<td>False</td>
<td>True</td>
</tr>
<tr>
<td>False</td>
<td>True</td>
<td>True</td>
</tr>
<tr>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
</tbody></table>
<ul>
<li>仅当 A 和 B 不同时才为 True</li>
</ul>
</li>
<li><p><strong>相等</strong></p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>A = B</th>
</tr>
</thead>
<tbody><tr>
<td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr>
<td>True</td>
<td>False</td>
<td>False</td>
</tr>
<tr>
<td>False</td>
<td>True</td>
<td>False</td>
</tr>
<tr>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
</tbody></table>
<ul>
<li>仅当 A 和 B 相同时才为 True</li>
</ul>
</li>
<li><p>思考题</p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>﹁ (A⊕B)</th>
</tr>
</thead>
<tbody><tr>
<td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr>
<td>True</td>
<td>False</td>
<td>False</td>
</tr>
<tr>
<td>False</td>
<td>True</td>
<td>False</td>
</tr>
<tr>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
</tbody></table>
<ul>
<li>(﹁ (A⊕B)) = (A = B )</li>
</ul>
</li>
<li><p><strong>蕴涵</strong></p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>A =&gt; B</th>
</tr>
</thead>
<tbody><tr>
<td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr>
<td>True</td>
<td>False</td>
<td>False</td>
</tr>
<tr>
<td>False</td>
<td>True</td>
<td>True</td>
</tr>
<tr>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
</tbody></table>
</li>
</ul>
<h2 id="德摩根定律"><a href="#德摩根定律" class="headerlink" title="德摩根定律"></a>德摩根定律</h2><ul>
<li><p>德摩根定律是什么？</p>
<ul>
<li><p>(﹁A) v (﹁B) = ﹁(A ∧ B) =&gt; ”非 A“ 或者 ”非 B“，和非”A 与 B“ 等价</p>
</li>
<li><p>(﹁A) ∧ (﹁B) = ﹁(A v B) =&gt; ”非 A“ 并且 ”非 B“，和非”A 或 B“ 等价</p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>(﹁A) v (﹁B)</th>
<th>﹁(A ∧ B)</th>
<th>(﹁A) ∧ (﹁B)</th>
<th>﹁(A v B)</th>
</tr>
</thead>
<tbody><tr>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>true</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>false</td>
<td>false</td>
</tr>
<tr>
<td>false</td>
<td>false</td>
<td>true</td>
<td>true</td>
<td>true</td>
<td>true</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>A</th>
<th>﹁A</th>
</tr>
</thead>
<tbody><tr>
<td>true</td>
<td>false</td>
</tr>
<tr>
<td>∧</td>
<td>v</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
<h2 id="卡诺图"><a href="#卡诺图" class="headerlink" title="卡诺图"></a>卡诺图</h2><ul>
<li><p>二灯游戏</p>
<ul>
<li><p>二灯游戏规则</p>
<ul>
<li>红灯灭，黄灯亮</li>
<li>绿灯、黄灯都灭</li>
<li>绿灯、黄灯都亮</li>
</ul>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>数学</category>
      </categories>
      <tags>
        <tag>逻辑</tag>
        <tag>真与假</tag>
        <tag>二元世界</tag>
      </tags>
  </entry>
  <entry>
    <title>《程序员数学-1》-笔记3</title>
    <url>/2020/04/01/%E3%80%8A%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6-1%E3%80%8B-%E7%AC%94%E8%AE%B03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="第三章-余数"><a href="#第三章-余数" class="headerlink" title="第三章 余数"></a>第三章 余数</h1><a id="more"></a>
<ul>
<li><p>什么是余数？</p>
<ul>
<li><strong>余数</strong> 就是除法运算时剩下的数</li>
</ul>
</li>
</ul>
<h2 id="星期数的思考题-1"><a href="#星期数的思考题-1" class="headerlink" title="星期数的思考题 1"></a>星期数的思考题 1</h2><ul>
<li>今天是星期日,那么 100 天以后是星期几？</li>
</ul>
<pre><code><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x &#x3D; 100 % 7</span><br><span class="line">x &#x3D; 2 &#x2F;&#x2F;答案:星期二</span><br></pre></td></tr></table></figure></code></pre><h2 id="星期数的思考题-2"><a href="#星期数的思考题-2" class="headerlink" title="星期数的思考题 2"></a>星期数的思考题 2</h2><ul>
<li><p>今天是星期日,那么 10¹ºº 天以后是星期几？</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ruby</span></span><br><span class="line">remainder_array = <span class="number">100</span>.times.map <span class="keyword">do</span> <span class="params">|i|</span></span><br><span class="line">    <span class="number">10</span> ** i % <span class="number">7</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts remainder_array</span><br><span class="line"><span class="comment"># [1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6, 4, 5, 1, 3, 2, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1后边每增加6个0,就是 [1, 3, 2, 6, 4, 5] 的循环</span></span><br><span class="line"></span><br><span class="line">x = remainder_array.uniq <span class="comment">#去重得出周期为6</span></span><br><span class="line">puts x</span><br><span class="line"><span class="comment"># [1, 3, 2, 6, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 从而得出规律，10的100次方天后就是 x[100 % 6] 得出那天是星期几</span></span><br><span class="line"></span><br><span class="line">puts x[<span class="number">100</span> % <span class="number">6</span>]</span><br><span class="line"><span class="comment"># 4 最后得出的答案是星期4</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="乘方思考题"><a href="#乘方思考题" class="headerlink" title="乘方思考题"></a>乘方思考题</h2><ul>
<li><p>1234567 的 987654321 次方的个位数是多少？</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ruby</span></span><br><span class="line"><span class="comment">#1234567取个位数7计算 7 º~7¹ºº的个位数</span></span><br><span class="line">remainder_array = <span class="number">100</span>.times.map <span class="keyword">do</span> <span class="params">|i|</span></span><br><span class="line">    (<span class="number">7</span> ** i).to_s.split(<span class="string">""</span>).last <span class="comment"># 7的n次方结果拆分数组取最后个位数</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">x = remainder_array.uniq <span class="comment">#去重得出周期为4</span></span><br><span class="line">puts x</span><br><span class="line"><span class="comment"># ["1", "7", "9", "3"]</span></span><br><span class="line">puts x[<span class="number">987654321</span> % <span class="number">4</span>]</span><br><span class="line">  <span class="comment"># 7 最后得出的答案是 7</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>—未完—</p>
]]></content>
      <categories>
        <category>数学</category>
      </categories>
      <tags>
        <tag>余数</tag>
        <tag>分组</tag>
      </tags>
  </entry>
  <entry>
    <title>mysql &#39;No DataSource Set&#39;解决办法</title>
    <url>/2022/10/10/mysql-No-DataSource-Set-%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>mysql 8.0.13开始，使用sslMode属性代替了原来的useSSL属性， 所以吧useSSL改成<code>sslMode=DISABLED</code> 或者添加<code>allowPublicKeyRetrieval=true</code></p>
]]></content>
      <tags>
        <tag>mysql</tag>
        <tag>java</tag>
        <tag>error</tag>
        <tag>jdbc</tag>
        <tag>springboot</tag>
      </tags>
  </entry>
  <entry>
    <title>安全风险评估</title>
    <url>/2020/08/18/%E5%AE%89%E5%85%A8%E9%A3%8E%E9%99%A9%E8%AF%84%E4%BC%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="评估"><a href="#评估" class="headerlink" title="评估"></a>评估</h2><a id="more"></a>

<ul>
<li><p>适用范围: 工人、工厂、设施、设备。</p>
<p>大数据采集输入各类数据，交由机器学习给出综合的数据指标，最后经过一系列的 <del>公式</del> 得出最终的评估结果。</p>
<p>采集数据:</p>
<ul>
<li>视频监控</li>
<li>机械设备状态</li>
<li>化学物质 （有害物质…）</li>
<li>厂区环境（温湿度）</li>
<li>工人 （行为）</li>
<li>等…系列影响安全风险的重要指标数据</li>
</ul>
</li>
</ul>
<h2 id="检测"><a href="#检测" class="headerlink" title="检测"></a>检测</h2><ul>
<li><p>适用范围: 生产过程中的环节检测。</p>
<p>大数据采集流水线各类数据，交由机器学习给出综合的数据指标。</p>
<p>…</p>
</li>
</ul>
<h2 id="决策"><a href="#决策" class="headerlink" title="决策"></a>决策</h2><ul>
<li><p>适用范围: 辅助决策</p>
<p>通过以上结果知道生产过程….</p>
</li>
</ul>
]]></content>
      <categories>
        <category>机器学习</category>
      </categories>
      <tags>
        <tag>安全</tag>
        <tag>检测</tag>
        <tag>策略</tag>
        <tag>预测</tag>
      </tags>
  </entry>
  <entry>
    <title>打造自己的产品 1</title>
    <url>/2020/05/08/%E6%89%93%E9%80%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E4%BA%A7%E5%93%81%E4%B8%80/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>如果你想造一艘船，先不要雇人收集木头，也不要给人分配任务，而是激发他们对海洋的渴望。<br> –《小王子》</p>
</blockquote>
<a id="more"></a>

<h2 id="0-念头"><a href="#0-念头" class="headerlink" title="0. 念头"></a>0. 念头</h2><p>  距离发生疫情过去100多天了，在这段时间里给了我更多的时间来思考，创业与我的重要性。从工作到现在，我几乎无时无刻不想着要创造一个属于自己的产品。这段时间这种想法尤其强烈。</p>
<h2 id="1-失眠"><a href="#1-失眠" class="headerlink" title="1. 失眠"></a>1. 失眠</h2><p>   现在是凌晨2点钟，又失眠了，昨天我终于下定决心，把自己的idea打造成一个产品。我必须要尝试一下，哪怕一次失败的尝试。</p>
<h2 id="10-性格"><a href="#10-性格" class="headerlink" title="10. 性格"></a>10. 性格</h2><p>  我是一个<code>瞻前顾后</code>的人，对一件事情不容易下定决心。时常脑子里都会有一些想法，最后都只是在脑子里，没有付诸实现。</p>
<pre><code>往往一个人的失败之处，就在于有想法，而做一个行动上的侏儒。</code></pre><h2 id="11-计划"><a href="#11-计划" class="headerlink" title="11. 计划"></a>11. 计划</h2><p>  借助工具把脑海里的idea设计成产品原型，这里我使用的是<strong>墨刀</strong>,一个设计原型和设计稿的工具。文档使用<strong>Markdown</strong>编写，代码工具使用<strong>Github</strong>,最终产品的源代码一定会是开源的。</p>
<h2 id="100-技术选型"><a href="#100-技术选型" class="headerlink" title="100. 技术选型"></a>100. 技术选型</h2><ul>
<li>后端: <strong><del>Rails Api only</del></strong> <strong>Rails Graphql-Ruby</strong></li>
<li>app: <strong><del>uni-app</del></strong> <strong>tarojs</strong>(android、ios、微信小程序、支付宝小程序、字节跳动小程序、qq小程序)</li>
<li>web: <strong>React</strong>、<strong>umijs</strong></li>
<li>数据库: <strong>Postgresql</strong>、<strong>Redis</strong></li>
<li>搜索: <strong>EleasticSearch</strong></li>
<li>队列: <strong>Sidekiq</strong></li>
</ul>
<h2 id="101-产品"><a href="#101-产品" class="headerlink" title="101. 产品"></a>101. 产品</h2><ul>
<li>产品的雏形已经出来了，接着我会把想法写成一份文档做记录。</li>
<li>产品形态: 后台（员工入口、商家入口）、商家app端、社区app端。</li>
<li>产品方向:打造一个社区工具类应用，提供基础服务，通过增值服务实现盈利。</li>
</ul>
]]></content>
      <categories>
        <category>创业</category>
      </categories>
      <tags>
        <tag>创业</tag>
        <tag>社群</tag>
        <tag>电商</tag>
        <tag>墨刀</tag>
        <tag>github</tag>
        <tag>小程序</tag>
      </tags>
  </entry>
  <entry>
    <title>基于k8s\traefik\springboot的微服务实践</title>
    <url>/2020/11/24/%E5%9F%BA%E4%BA%8Ek8s-traefik%E7%9A%84%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E8%B7%B5/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script>]]></content>
      <categories>
        <category>k8s</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>k8s</tag>
        <tag>容器技术</tag>
        <tag>traefik2</tag>
        <tag>springboot</tag>
      </tags>
  </entry>
  <entry>
    <title>我们不像诗歌</title>
    <url>/2020/03/27/%E6%88%91%E4%BB%AC%E4%B8%8D%E5%83%8F%E8%AF%97%E6%AD%8C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p>我们不像诗歌</p>
<p>&emsp;–才华横溢,</p>
<p>我们拒绝押韵。</p>
</blockquote>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>少年</tag>
        <tag>年轻</tag>
        <tag>诗歌</tag>
      </tags>
  </entry>
  <entry>
    <title>边缘计算 1</title>
    <url>/2020/08/05/%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97-1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="0-云计算"><a href="#0-云计算" class="headerlink" title="0 云计算"></a>0 云计算</h2><a id="more"></a>
<h2 id="1-雾计算"><a href="#1-雾计算" class="headerlink" title="1 雾计算"></a>1 雾计算</h2><h2 id="2-边缘计算"><a href="#2-边缘计算" class="headerlink" title="2 边缘计算"></a>2 边缘计算</h2><h3 id="2-1-什么是边缘计算"><a href="#2-1-什么是边缘计算" class="headerlink" title="2-1 什么是边缘计算?"></a>2-1 什么是边缘计算?</h3><blockquote>
<p><em>边缘计算是为应用开发者和服务提供商在网络的边缘侧提供云服务和IT环境服务；目标是在靠近数据输入或用户的地方提供计算、存储和网络带宽</em>   —  OpenStack 社区</p>
</blockquote>
<p>通俗地说：边缘计算本质上是一种服务，就类似于云计算、大数据服务，但这种服务非常靠近用户；为什么要这么近？目的是为了让用户感觉到刷什么内容都特别快。</p>
<p>边缘计算着重要解决的问题，是传统云计算（或者说是中央计算）模式下存在的高延迟、网络不稳定和低带宽问题。举一个现实的例子，几乎所有人都遇到过手机APP 出现404错误的情况 ，这样的一些错误出现就和网络状况、云服务器带宽限制有关系。由于资源条件的限制，云计算服务不可避免收到高延迟、和网络不稳定带来的影响，但是通过将部分或者全部处理程序迁移至靠近用户或数据收集点，边缘计算能够大大减少在云中心模式站点下给应用程序所带来的影响。</p>
<h3 id="2-2-为什么需要边缘计算？"><a href="#2-2-为什么需要边缘计算？" class="headerlink" title="2-2 为什么需要边缘计算？"></a>2-2 为什么需要边缘计算？</h3>]]></content>
      <categories>
        <category>边缘计算</category>
      </categories>
      <tags>
        <tag>云计算</tag>
        <tag>雾计算</tag>
        <tag>边缘计算</tag>
      </tags>
  </entry>
  <entry>
    <title>路</title>
    <url>/2020/03/21/%E8%B7%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script>
        <div id="aplayer-MjbRmOPj" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">
            <pre class="aplayer-lrc-content"></pre>
        </div>
        <script>
          var ap = new APlayer({
            element: document.getElementById("aplayer-MjbRmOPj"),
            narrow: false,
            autoplay: true,
            showlrc: false,
            music: {
              title: "The Lion Sleeps Tonight",
              author: "The Tokens",
              url: "/music/The Lion Sleeps Tonight.mp3",
              pic: "",
              lrc: ""
            }
          });
          window.aplayers || (window.aplayers = []);
          window.aplayers.push(ap);
        </script>

<a id="more"></a>

<blockquote>
<p>如果你能在下午四点来，那么在三点的时候，我就会开始感到幸福了。<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp; –《小王子》</p>
</blockquote>
<p>​&emsp;&emsp;大多时候无法静下心来做好一件事，比如这篇拖了很多天的日志。还有每天早晨起床锻炼身体、按时喝水…</p>
<!--more-->

<p>​&emsp;&emsp;写这篇日志的想法来自于上周六，早饭后，和老婆商量着带孩子出去感受一下春暖花开，疫情持续了两个月的时间，也让小家伙待在家里两个月，不能见小朋友、不能去游乐场。以至于最近出门以后，小家伙变的很拘束、对外面的世界也很陌生。<br>​<br>&emsp;&emsp;小家伙已经两岁三个月了，会背很多首唐诗。如果你剩饭剩菜的话，小家伙会说:”谁知盘中餐，粒粒皆辛苦。”。有次晚上和老婆带着小家伙出门散步，刮起一阵风，树上的叶子沙沙响，”夜来风雨声，花落知多少。”</p>
<p>&emsp;&emsp;上个周六的上午，坐在马桶上，熟练的掏出手机，开始搜索适合踏青的地方，<del>如意湖</del>、<del>森林公园</del>、<del>郑州之林</del>、最后我选了特别冷门的<a href="https://map.baidu.com/poi/%E9%BE%99%E6%B3%89%E6%B9%BF%E5%9C%B0%E5%85%AC%E5%9B%AD/@1264607135.35301,408408639.5094941,21z,87t#panoid=c3596d067083c715f90cad67&panotype=inter&heading=355&pitch=0&l=21&tn=B_NORMAL_MAP&sc=0&newmap=1&shareurl=1&pid=1002890000150427124704361IN&iid=c3596d067083c715f90cad67&psp=%7B%22PanoIndoorPoiModule%22%3A%7B%22uid%22%3A%225b8c96862988758e2fb90853%22%7D%7D" target="_blank" rel="noopener">龙泉湿地公园</a> ，然而这并没有结束，跑了将近 30 公里，去到的是一个荒废了的公园。也或者是因为长时间封闭状态，看起来很旧，基本没什么人来。让我满怀期待的上了路，最终又满怀失望的回了家。</p>
<p>&emsp;&emsp;现在是周二的晚上08:20，小家伙下午没睡觉，早早的已经睡下了。我和老婆吃着火锅喝着啤酒，大聊人生。是这三年多以来，为数不多的能够静下心来一起吃饭聊天的。聊从前、现在和将来，我们还是会充满希望.</p>
<p>&emsp;&emsp;人生难免会走上曲曲折折的道路，但是不要担心，这些路的那头一定会有美丽的风景。</p>
<p>&emsp;&emsp;路，是人走出来的。</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>人生</tag>
        <tag>生活</tag>
        <tag>书</tag>
        <tag>路</tag>
        <tag>有趣</tag>
        <tag>春天</tag>
      </tags>
  </entry>
  <entry>
    <title>飞桨OCR硬件清单</title>
    <url>/2022/08/31/%E9%A3%9E%E6%A1%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%B5%84%E6%BA%90%E9%9C%80%E6%B1%82/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="飞桨官方要求"><a href="#飞桨官方要求" class="headerlink" title="飞桨官方要求"></a>飞桨官方要求</h3><p><strong>1. 操作系统要求：</strong></p>
<ul>
<li><p>Ubuntu 20.04</p>
</li>
<li><p>CentOS 7</p>
</li>
<li><p>操作系统要求是 64 位版本</p>
</li>
</ul>
<a id="more"></a>

<p><strong>2. 处理器要求</strong></p>
<ul>
<li>处理器支持 MKL</li>
<li>处理器架构是x86_64（或称作 x64、Intel 64、AMD64）架构，目前PaddlePaddle不支持arm64架构（mac M1除外，paddle 已支持Mac M1 芯片）</li>
</ul>
<h5 id="4-GPU-支持情况："><a href="#4-GPU-支持情况：" class="headerlink" title="4.  GPU 支持情况："></a>4.  <strong>GPU 支持情况：</strong></h5><ul>
<li><p>目前 <strong>PaddlePaddle</strong> 支持 <strong>NVIDIA</strong> 显卡的 <strong>CUDA</strong> 驱动和 <strong>AMD</strong> 显卡的 <strong>ROCm</strong> 架构</p>
<hr>
</li>
</ul>
<h3 id="从深度学习硬件架构分析硬件需求"><a href="#从深度学习硬件架构分析硬件需求" class="headerlink" title="从深度学习硬件架构分析硬件需求"></a>从深度学习硬件架构分析硬件需求</h3><p>众所知周深度学习最需要的性能是GPU也就是显卡性能，理论上在同等条件下GPU性能越高，深度学习的效率越高。但这其中也有一个很大的误区，就是电脑性能是一个整体并不是由单一硬件所决定的，是一个木桶效应。</p>
<p><strong>当GPU性能达到一定高度之后，其他硬件性能没有跟上，再好的GPU也带来不了性能的提升。</strong></p>
<p><strong>GPU＞CPU≈主板（CPU主板相辅相成）＞内存＞硬盘＞电源＞机箱（装的下就行）</strong></p>
<p><img src="https://pic3.zhimg.com/v2-c997a6cc407a491a6613f025640da266_r.jpg" alt="preview"></p>
<p>上述图示，深度神经网络计算大致流程，下面通过深度神经网络计算环节，分析核心硬件配置理想要求：</p>
<p><img src="https://pic2.zhimg.com/80/v2-3b17505bf0574e12f53b9b6fb7551bb5_720w.jpg" alt="img"></p>
<h3 id="预算：15000-20000-元"><a href="#预算：15000-20000-元" class="headerlink" title="预算：15000-20000 元"></a>预算：15000-20000 元</h3><h3 id="需求："><a href="#需求：" class="headerlink" title="需求："></a>需求：</h3><ul>
<li>CPU支持 MKL，架构是x86_64，</li>
<li>CPU为英特尔 I5,I7,I9</li>
<li>GPU 为RTX3080TI、RTX3090TI</li>
<li>内存32GB</li>
<li>硬盘10T</li>
</ul>
<p><strong>inter 处理器价格</strong>：</p>
<table>
<thead>
<tr>
<th>型号</th>
<th>cpu架构</th>
<th>京东报价</th>
</tr>
</thead>
<tbody><tr>
<td>Intel 酷睿 i5 12600K</td>
<td>Golden Cove</td>
<td>2029元</td>
</tr>
<tr>
<td>Intel 酷睿 i7 12700K</td>
<td>Golden Cove</td>
<td>2929元</td>
</tr>
<tr>
<td>Intel 酷睿 i9 12900K</td>
<td>Golden Cove</td>
<td>4649元</td>
</tr>
</tbody></table>
<p><strong>GPU价格</strong>：</p>
<table>
<thead>
<tr>
<th>型号</th>
<th>显存容量</th>
<th>京东报价</th>
</tr>
</thead>
<tbody><tr>
<td>英伟达（NVIDIA） RTX3090</td>
<td>24G</td>
<td>12999元</td>
</tr>
<tr>
<td>英伟达（NVIDIA） RTX3080</td>
<td>10G</td>
<td>8999元</td>
</tr>
<tr>
<td>英伟达（NVIDIA） RTX3070</td>
<td>8G</td>
<td>4699元</td>
</tr>
<tr>
<td>英伟达（NVIDIA） RTX3060</td>
<td>12G</td>
<td>5499元</td>
</tr>
</tbody></table>
<h6 id="内存价格："><a href="#内存价格：" class="headerlink" title="内存价格："></a><strong>内存价格：</strong></h6><table>
<thead>
<tr>
<th>型号</th>
<th>内存容量</th>
<th>京东报价</th>
</tr>
</thead>
<tbody><tr>
<td>威刚（ADATA） DDR4 3600 16*2</td>
<td>32G</td>
<td>1189元</td>
</tr>
<tr>
<td>金士顿 (Kingston) FURY 32GB DDR4 3200</td>
<td>32G</td>
<td>899元</td>
</tr>
<tr>
<td>金士顿 (Kingston) FURY 32GB DDR4 3200               16×2</td>
<td>32G</td>
<td>899元</td>
</tr>
<tr>
<td>金士顿 (Kingston) FURY 32GB DDR5 5200               16×2</td>
<td>32G</td>
<td>1179元</td>
</tr>
<tr>
<td>光威（Gloway）32GB(16Gx2)套装 DDR4 3200</td>
<td>32G</td>
<td>599元</td>
</tr>
<tr>
<td>美商海盗船（USCORSAIR）32GB(16G×2)</td>
<td>32G</td>
<td>799元</td>
</tr>
</tbody></table>
<p><strong>机械硬盘价格</strong>：</p>
<table>
<thead>
<tr>
<th>型号</th>
<th>容量</th>
<th>接口</th>
<th>京东报价</th>
</tr>
</thead>
<tbody><tr>
<td>西部数据（WD）20T 氦气 WUH722020ALE6L4</td>
<td>20T</td>
<td>SATA</td>
<td>3659元</td>
</tr>
<tr>
<td>西部数据(Western Digital) 10TB  WUS721010ALE6L4</td>
<td>10T</td>
<td>SATA</td>
<td>1759元</td>
</tr>
<tr>
<td>西部数据(Western Digital) 14TB  WUH721414ALE6L4</td>
<td>14T</td>
<td>SATA</td>
<td>1699元</td>
</tr>
<tr>
<td>希捷Seagate   20T【ST20000NM007D】</td>
<td>20T</td>
<td>SATA</td>
<td>4599元</td>
</tr>
<tr>
<td>希捷（SEAGATE）【ST10000NM001G】10TB</td>
<td>10T</td>
<td>SATA</td>
<td>1879元</td>
</tr>
<tr>
<td>希捷（SEAGATE）【ST12000NM000J】12TB</td>
<td>12T</td>
<td>SATA</td>
<td>1899元</td>
</tr>
<tr>
<td>東芝（TOSHIBA）</td>
<td>18T</td>
<td>SATA</td>
<td>2259元</td>
</tr>
<tr>
<td>东芝(TOSHIBA) 10TB</td>
<td>10T</td>
<td>SATA</td>
<td>1499元</td>
</tr>
<tr>
<td>东芝(TOSHIBA) 12TB</td>
<td>12T</td>
<td>SATA</td>
<td>1579元</td>
</tr>
<tr>
<td>西部数据（WD） 4T HUS726T4TALE6L4</td>
<td>4T</td>
<td>STAT</td>
<td>939元</td>
</tr>
<tr>
<td>希捷Seagate     4TB【ST4000DM004】</td>
<td>4T</td>
<td>STAT</td>
<td>549元</td>
</tr>
<tr>
<td>東芝（TOSHIBA）</td>
<td>4T</td>
<td>STAT</td>
<td>479元</td>
</tr>
</tbody></table>
<p><strong>固态硬盘价格：</strong></p>
<table>
<thead>
<tr>
<th>型号</th>
<th>容量</th>
<th>接口</th>
<th>京东报价</th>
</tr>
</thead>
<tbody><tr>
<td>金士顿（Kingston）FURY系列  2TB</td>
<td>2TB</td>
<td>NVMe</td>
<td>2199元</td>
</tr>
<tr>
<td>英睿达（Crucial）美光 2TB</td>
<td>2TB</td>
<td>NVMe</td>
<td>949.9元</td>
</tr>
<tr>
<td>铠侠（Kioxia）2000GB</td>
<td>2TB</td>
<td>NVMe</td>
<td>1149元</td>
</tr>
<tr>
<td>西部数据（Western Digital）2T</td>
<td>2TB</td>
<td>NVMe</td>
<td>1459元</td>
</tr>
<tr>
<td>致态（ZhiTai）长江存储 2TB</td>
<td>2TB</td>
<td>NVMe</td>
<td>1299元</td>
</tr>
<tr>
<td>七彩虹(Colorful) 2TB</td>
<td>2TB</td>
<td>NVMe</td>
<td>999元</td>
</tr>
<tr>
<td>三星（SAMSUNG）2TB</td>
<td>2TB</td>
<td>NVMe</td>
<td>2399元</td>
</tr>
<tr>
<td>海康威视（HIKVISION）2TB</td>
<td>2TB</td>
<td>NVMe</td>
<td>1049元</td>
</tr>
<tr>
<td>闪迪（SanDisk） 2TB</td>
<td>2TB</td>
<td>NVMe</td>
<td>1399元</td>
</tr>
<tr>
<td>美商海盗船（USCORSAIR） 2TB</td>
<td>2TB</td>
<td>NVMe</td>
<td>1399元</td>
</tr>
</tbody></table>
<h6 id="核心硬件价格总计-："><a href="#核心硬件价格总计-：" class="headerlink" title="核心硬件价格总计 ："></a>核心硬件价格总计 ：</h6><ul>
<li><h6 id="Intel-酷睿-i9-12900K-英伟达（NVIDIA）-RTX3080-金士顿-Kingston-FURY-32GB-DDR4-3200-西部数据-Western-Digital-10TB-4649-8999-899-1759-16306-元"><a href="#Intel-酷睿-i9-12900K-英伟达（NVIDIA）-RTX3080-金士顿-Kingston-FURY-32GB-DDR4-3200-西部数据-Western-Digital-10TB-4649-8999-899-1759-16306-元" class="headerlink" title="Intel 酷睿 i9 12900K  +  英伟达（NVIDIA） RTX3080  + 金士顿 (Kingston) FURY 32GB DDR4 3200 + 西部数据(Western Digital) 10TB  = 4649 +   8999  + 899 + 1759 =16306 元"></a>Intel 酷睿 i9 12900K  +  英伟达（NVIDIA） RTX3080  + 金士顿 (Kingston) FURY 32GB DDR4 3200 + 西部数据(Western Digital) 10TB  = 4649 +   8999  + 899 + 1759 =16306 元</h6></li>
</ul>
<ul>
<li>Intel 酷睿 i9 12900K  +  英伟达（NVIDIA） RTX3080  + 金士顿 (Kingston) FURY 32GB DDR4 3200 + 金士顿（Kingston）FURY系列  2TB x 2  = 4649 +   8999  + 899 + 2199 X 2 = 18945 元</li>
</ul>
<h3 id><a href="#" class="headerlink" title></a></h3>]]></content>
      <categories>
        <category>机器学习</category>
      </categories>
      <tags>
        <tag>机器学习</tag>
        <tag>ocr</tag>
        <tag>人工智能</tag>
      </tags>
  </entry>
  <entry>
    <title>鲁迅先生写道: 父母存在的意义</title>
    <url>/2022/04/08/%E9%B2%81%E8%BF%85%E5%85%88%E7%94%9F%E5%86%99%E9%81%93-%E7%88%B6%E6%AF%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E6%84%8F%E4%B9%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote>
<p><strong>鲁迅先生写父母存在的意义是：</strong><br>父母存在的意义不是给予孩子舒适和富裕的生活，而是当你想到你的父母时你的内心就会充满力量，会感受到温暖，从而拥有克服困难的勇气和能力，因此获得人生真正的乐趣和自由。</p>
</blockquote>
]]></content>
  </entry>
</search>
