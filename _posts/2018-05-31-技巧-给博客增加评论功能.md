---
title: 给博客增加评论功能
show_profile: false
tags:
- 技巧
- gitment
- git
- Jekyll
---

### 首先感谢[@imsun](https://github.com/imsun)大神的插件[Gitment](https://imsun.github.io/gitment/)

<!--more-->

插件本身默认支持英文，所以我下载了源码进行一部分改造。以下是源码：[giment.js](yqwoe.space/yqwoe.github.io/static/js/gitment.js) 、 [giement.css](yqwoe.space/yqwoe.github.io/static/css/gitment.css)

下边是操作步骤，不是技术同学先参考一下[Gitment Demo Page](https://imsun.github.io/gitment/) 再进行操作。
* [Jekyll教程](https://www.jekyll.com.cn/docs/home/)
*  [Gitment Readme](https://github.com/imsun/gitment)

### 基本使用
#### 1. 注册 OAuth Application
[New OAuth](https://github.com/settings/applications/new) ，填写内容时候确保 callback URL 与你的博客地址域名一致。
#### 2.引入js、css 到文章页面

```
<div id="container"></div>
<link rel="stylesheet" href="https://yqwoe.space/yqwoe.github.io/static/css/gitment.css">
<script src="https://yqwoe.space/yqwoe.github.io/static/js/gitment.js"></script>
<script>
/**
*第一个坑，默认id是填入完整的url，而issue的label长度限制为50，所以url必然会超长。
*/
var paths = location.pathname.split('/')
var id = decodeURI(paths[paths.length - 1 ]))
var gitment = new Gitment({
  id: id, // 必填，不然评论信息不会加载成功！
  owner: '你的 GitHub ID',
  repo: '存储评论的 repo',
  oauth: {
    client_id: '你注册 OAuth 的 client ID',
    client_secret: '你注册 OAuth 的 client secret',
  },
})
gitment.render('container')
</script>
```
#### 3. 初始化评论
页面发布后，你需要访问页面并使用你的 GitHub 账号登录（请确保你的账号是第二步所填 repo 的 owner），点击初始化按钮。


#### 敲黑板，下一篇博客会介绍 《**Jekyll-Admin 插件的使用方法**》和一些填坑技巧。

我的博客评论功能目前只支持全球最大~~同性~~交友网站[Github](github.com/yqwoe)的账号，以后会慢慢扩展。
以上是我的分享，谢谢！！